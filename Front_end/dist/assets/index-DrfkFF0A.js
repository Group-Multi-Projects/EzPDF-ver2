var XR=Object.defineProperty;var YR=(n,e,t)=>e in n?XR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var N0=(n,e,t)=>YR(n,typeof e!="symbol"?e+"":e,t);function KR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dx={exports:{}},zp={},Ix={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC;function qR(){if(LC)return gt;LC=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function _(V,ae,Te){this.props=V,this.context=ae,this.refs=C,this.updater=Te||w}_.prototype.isReactComponent={},_.prototype.setState=function(V,ae){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ae,"setState")},_.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function E(){}E.prototype=_.prototype;function P(V,ae,Te){this.props=V,this.context=ae,this.refs=C,this.updater=Te||w}var M=P.prototype=new E;M.constructor=P,S(M,_.prototype),M.isPureReactComponent=!0;var F=Array.isArray,L=Object.prototype.hasOwnProperty,j={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function W(V,ae,Te){var Ee,Oe={},Ie=null,Ve=null;if(ae!=null)for(Ee in ae.ref!==void 0&&(Ve=ae.ref),ae.key!==void 0&&(Ie=""+ae.key),ae)L.call(ae,Ee)&&!$.hasOwnProperty(Ee)&&(Oe[Ee]=ae[Ee]);var Ye=arguments.length-2;if(Ye===1)Oe.children=Te;else if(1<Ye){for(var Ue=Array(Ye),$e=0;$e<Ye;$e++)Ue[$e]=arguments[$e+2];Oe.children=Ue}if(V&&V.defaultProps)for(Ee in Ye=V.defaultProps,Ye)Oe[Ee]===void 0&&(Oe[Ee]=Ye[Ee]);return{$$typeof:n,type:V,key:Ie,ref:Ve,props:Oe,_owner:j.current}}function q(V,ae){return{$$typeof:n,type:V.type,key:ae,ref:V.ref,props:V.props,_owner:V._owner}}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function se(V){var ae={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Te){return ae[Te]})}var he=/\/+/g;function fe(V,ae){return typeof V=="object"&&V!==null&&V.key!=null?se(""+V.key):ae.toString(36)}function ge(V,ae,Te,Ee,Oe){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Ve=!1;if(V===null)Ve=!0;else switch(Ie){case"string":case"number":Ve=!0;break;case"object":switch(V.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=V,Oe=Oe(Ve),V=Ee===""?"."+fe(Ve,0):Ee,F(Oe)?(Te="",V!=null&&(Te=V.replace(he,"$&/")+"/"),ge(Oe,ae,Te,"",function($e){return $e})):Oe!=null&&(R(Oe)&&(Oe=q(Oe,Te+(!Oe.key||Ve&&Ve.key===Oe.key?"":(""+Oe.key).replace(he,"$&/")+"/")+V)),ae.push(Oe)),1;if(Ve=0,Ee=Ee===""?".":Ee+":",F(V))for(var Ye=0;Ye<V.length;Ye++){Ie=V[Ye];var Ue=Ee+fe(Ie,Ye);Ve+=ge(Ie,ae,Te,Ue,Oe)}else if(Ue=v(V),typeof Ue=="function")for(V=Ue.call(V),Ye=0;!(Ie=V.next()).done;)Ie=Ie.value,Ue=Ee+fe(Ie,Ye++),Ve+=ge(Ie,ae,Te,Ue,Oe);else if(Ie==="object")throw ae=String(V),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.");return Ve}function ue(V,ae,Te){if(V==null)return V;var Ee=[],Oe=0;return ge(V,Ee,"","",function(Ie){return ae.call(Te,Ie,Oe++)}),Ee}function Se(V){if(V._status===-1){var ae=V._result;ae=ae(),ae.then(function(Te){(V._status===0||V._status===-1)&&(V._status=1,V._result=Te)},function(Te){(V._status===0||V._status===-1)&&(V._status=2,V._result=Te)}),V._status===-1&&(V._status=0,V._result=ae)}if(V._status===1)return V._result.default;throw V._result}var Ce={current:null},ee={transition:null},_e={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:ee,ReactCurrentOwner:j};function ye(){throw Error("act(...) is not supported in production builds of React.")}return gt.Children={map:ue,forEach:function(V,ae,Te){ue(V,function(){ae.apply(this,arguments)},Te)},count:function(V){var ae=0;return ue(V,function(){ae++}),ae},toArray:function(V){return ue(V,function(ae){return ae})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},gt.Component=_,gt.Fragment=t,gt.Profiler=i,gt.PureComponent=P,gt.StrictMode=r,gt.Suspense=u,gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,gt.act=ye,gt.cloneElement=function(V,ae,Te){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ee=S({},V.props),Oe=V.key,Ie=V.ref,Ve=V._owner;if(ae!=null){if(ae.ref!==void 0&&(Ie=ae.ref,Ve=j.current),ae.key!==void 0&&(Oe=""+ae.key),V.type&&V.type.defaultProps)var Ye=V.type.defaultProps;for(Ue in ae)L.call(ae,Ue)&&!$.hasOwnProperty(Ue)&&(Ee[Ue]=ae[Ue]===void 0&&Ye!==void 0?Ye[Ue]:ae[Ue])}var Ue=arguments.length-2;if(Ue===1)Ee.children=Te;else if(1<Ue){Ye=Array(Ue);for(var $e=0;$e<Ue;$e++)Ye[$e]=arguments[$e+2];Ee.children=Ye}return{$$typeof:n,type:V.type,key:Oe,ref:Ie,props:Ee,_owner:Ve}},gt.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:s,_context:V},V.Consumer=V},gt.createElement=W,gt.createFactory=function(V){var ae=W.bind(null,V);return ae.type=V,ae},gt.createRef=function(){return{current:null}},gt.forwardRef=function(V){return{$$typeof:l,render:V}},gt.isValidElement=R,gt.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:Se}},gt.memo=function(V,ae){return{$$typeof:d,type:V,compare:ae===void 0?null:ae}},gt.startTransition=function(V){var ae=ee.transition;ee.transition={};try{V()}finally{ee.transition=ae}},gt.unstable_act=ye,gt.useCallback=function(V,ae){return Ce.current.useCallback(V,ae)},gt.useContext=function(V){return Ce.current.useContext(V)},gt.useDebugValue=function(){},gt.useDeferredValue=function(V){return Ce.current.useDeferredValue(V)},gt.useEffect=function(V,ae){return Ce.current.useEffect(V,ae)},gt.useId=function(){return Ce.current.useId()},gt.useImperativeHandle=function(V,ae,Te){return Ce.current.useImperativeHandle(V,ae,Te)},gt.useInsertionEffect=function(V,ae){return Ce.current.useInsertionEffect(V,ae)},gt.useLayoutEffect=function(V,ae){return Ce.current.useLayoutEffect(V,ae)},gt.useMemo=function(V,ae){return Ce.current.useMemo(V,ae)},gt.useReducer=function(V,ae,Te){return Ce.current.useReducer(V,ae,Te)},gt.useRef=function(V){return Ce.current.useRef(V)},gt.useState=function(V){return Ce.current.useState(V)},gt.useSyncExternalStore=function(V,ae,Te){return Ce.current.useSyncExternalStore(V,ae,Te)},gt.useTransition=function(){return Ce.current.useTransition()},gt.version="18.3.1",gt}var FC;function Xw(){return FC||(FC=1,Ix.exports=qR()),Ix.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function JR(){if(BC)return zp;BC=1;var n=Xw(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var p,m={},v=null,w=null;d!==void 0&&(v=""+d),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(w=u.ref);for(p in u)r.call(u,p)&&!s.hasOwnProperty(p)&&(m[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:e,type:l,key:v,ref:w,props:m,_owner:i.current}}return zp.Fragment=t,zp.jsx=o,zp.jsxs=o,zp}var jC;function QR(){return jC||(jC=1,Dx.exports=JR()),Dx.exports}var te=QR(),I=Xw();const Ze=Gw(I),FS=KR({__proto__:null,default:Ze},[I]);var F0={},Nx={exports:{}},ki={},Lx={exports:{}},Fx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC;function ZR(){return zC||(zC=1,function(n){function e(ee,_e){var ye=ee.length;ee.push(_e);e:for(;0<ye;){var V=ye-1>>>1,ae=ee[V];if(0<i(ae,_e))ee[V]=_e,ee[ye]=ae,ye=V;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var _e=ee[0],ye=ee.pop();if(ye!==_e){ee[0]=ye;e:for(var V=0,ae=ee.length,Te=ae>>>1;V<Te;){var Ee=2*(V+1)-1,Oe=ee[Ee],Ie=Ee+1,Ve=ee[Ie];if(0>i(Oe,ye))Ie<ae&&0>i(Ve,Oe)?(ee[V]=Ve,ee[Ie]=ye,V=Ie):(ee[V]=Oe,ee[Ee]=ye,V=Ee);else if(Ie<ae&&0>i(Ve,ye))ee[V]=Ve,ee[Ie]=ye,V=Ie;else break e}}return _e}function i(ee,_e){var ye=ee.sortIndex-_e.sortIndex;return ye!==0?ye:ee.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],d=[],p=1,m=null,v=3,w=!1,S=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ee){for(var _e=t(d);_e!==null;){if(_e.callback===null)r(d);else if(_e.startTime<=ee)r(d),_e.sortIndex=_e.expirationTime,e(u,_e);else break;_e=t(d)}}function F(ee){if(C=!1,M(ee),!S)if(t(u)!==null)S=!0,Se(L);else{var _e=t(d);_e!==null&&Ce(F,_e.startTime-ee)}}function L(ee,_e){S=!1,C&&(C=!1,E(W),W=-1),w=!0;var ye=v;try{for(M(_e),m=t(u);m!==null&&(!(m.expirationTime>_e)||ee&&!se());){var V=m.callback;if(typeof V=="function"){m.callback=null,v=m.priorityLevel;var ae=V(m.expirationTime<=_e);_e=n.unstable_now(),typeof ae=="function"?m.callback=ae:m===t(u)&&r(u),M(_e)}else r(u);m=t(u)}if(m!==null)var Te=!0;else{var Ee=t(d);Ee!==null&&Ce(F,Ee.startTime-_e),Te=!1}return Te}finally{m=null,v=ye,w=!1}}var j=!1,$=null,W=-1,q=5,R=-1;function se(){return!(n.unstable_now()-R<q)}function he(){if($!==null){var ee=n.unstable_now();R=ee;var _e=!0;try{_e=$(!0,ee)}finally{_e?fe():(j=!1,$=null)}}else j=!1}var fe;if(typeof P=="function")fe=function(){P(he)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,ue=ge.port2;ge.port1.onmessage=he,fe=function(){ue.postMessage(null)}}else fe=function(){_(he,0)};function Se(ee){$=ee,j||(j=!0,fe())}function Ce(ee,_e){W=_(function(){ee(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){S||w||(S=!0,Se(L))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var _e=3;break;default:_e=v}var ye=v;v=_e;try{return ee()}finally{v=ye}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,_e){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ye=v;v=ee;try{return _e()}finally{v=ye}},n.unstable_scheduleCallback=function(ee,_e,ye){var V=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?V+ye:V):ye=V,ee){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ye+ae,ee={id:p++,callback:_e,priorityLevel:ee,startTime:ye,expirationTime:ae,sortIndex:-1},ye>V?(ee.sortIndex=ye,e(d,ee),t(u)===null&&ee===t(d)&&(C?(E(W),W=-1):C=!0,Ce(F,ye-V))):(ee.sortIndex=ae,e(u,ee),S||w||(S=!0,Se(L))),ee},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(ee){var _e=v;return function(){var ye=v;v=_e;try{return ee.apply(this,arguments)}finally{v=ye}}}}(Fx)),Fx}var $C;function eD(){return $C||($C=1,Lx.exports=ZR()),Lx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function tD(){if(WC)return ki;WC=1;var n=Xw(),e=eD();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(a){return u.call(m,a)?!0:u.call(p,a)?!1:d.test(a)?m[a]=!0:(p[a]=!0,!1)}function w(a,c,g,y){if(g!==null&&g.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,c,g,y){if(c===null||typeof c>"u"||w(a,c,g,y))return!0;if(y)return!1;if(g!==null)switch(g.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function C(a,c,g,y,b,k,A){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=b,this.mustUseProperty=g,this.propertyName=a,this.type=c,this.sanitizeURL=k,this.removeEmptyString=A}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new C(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];_[c]=new C(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new C(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new C(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new C(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new C(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new C(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new C(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new C(a,5,!1,a.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function P(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(E,P);_[c]=new C(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(E,P);_[c]=new C(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(E,P);_[c]=new C(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new C(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new C(a,1,!1,a.toLowerCase(),null,!0,!0)});function M(a,c,g,y){var b=_.hasOwnProperty(c)?_[c]:null;(b!==null?b.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,g,b,y)&&(g=null),y||b===null?v(c)&&(g===null?a.removeAttribute(c):a.setAttribute(c,""+g)):b.mustUseProperty?a[b.propertyName]=g===null?b.type===3?!1:"":g:(c=b.attributeName,y=b.attributeNamespace,g===null?a.removeAttribute(c):(b=b.type,g=b===3||b===4&&g===!0?"":""+g,y?a.setAttributeNS(y,c,g):a.setAttribute(c,g))))}var F=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),se=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),ee=Symbol.iterator;function _e(a){return a===null||typeof a!="object"?null:(a=ee&&a[ee]||a["@@iterator"],typeof a=="function"?a:null)}var ye=Object.assign,V;function ae(a){if(V===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);V=c&&c[1]||""}return`
`+V+a}var Te=!1;function Ee(a,c){if(!a||Te)return"";Te=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(re){var y=re}Reflect.construct(a,[],c)}else{try{c.call()}catch(re){y=re}a.call(c.prototype)}else{try{throw Error()}catch(re){y=re}a()}}catch(re){if(re&&y&&typeof re.stack=="string"){for(var b=re.stack.split(`
`),k=y.stack.split(`
`),A=b.length-1,B=k.length-1;1<=A&&0<=B&&b[A]!==k[B];)B--;for(;1<=A&&0<=B;A--,B--)if(b[A]!==k[B]){if(A!==1||B!==1)do if(A--,B--,0>B||b[A]!==k[B]){var H=`
`+b[A].replace(" at new "," at ");return a.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",a.displayName)),H}while(1<=A&&0<=B);break}}}finally{Te=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?ae(a):""}function Oe(a){switch(a.tag){case 5:return ae(a.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 2:case 15:return a=Ee(a.type,!1),a;case 11:return a=Ee(a.type.render,!1),a;case 1:return a=Ee(a.type,!0),a;default:return""}}function Ie(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case $:return"Fragment";case j:return"Portal";case q:return"Profiler";case W:return"StrictMode";case fe:return"Suspense";case ge:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case se:return(a.displayName||"Context")+".Consumer";case R:return(a._context.displayName||"Context")+".Provider";case he:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ue:return c=a.displayName||null,c!==null?c:Ie(a.type)||"Memo";case Se:c=a._payload,a=a._init;try{return Ie(a(c))}catch{}}return null}function Ve(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(c);case 8:return c===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ye(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ue(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function $e(a){var c=Ue(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),y=""+a[c];if(!a.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var b=g.get,k=g.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return b.call(this)},set:function(A){y=""+A,k.call(this,A)}}),Object.defineProperty(a,c,{enumerable:g.enumerable}),{getValue:function(){return y},setValue:function(A){y=""+A},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function pt(a){a._valueTracker||(a._valueTracker=$e(a))}function ut(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var g=c.getValue(),y="";return a&&(y=Ue(a)?a.checked?"true":"false":a.value),a=y,a!==g?(c.setValue(a),!0):!1}function on(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function tt(a,c){var g=c.checked;return ye({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function Tt(a,c){var g=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;g=Ye(c.value!=null?c.value:g),a._wrapperState={initialChecked:y,initialValue:g,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Gr(a,c){c=c.checked,c!=null&&M(a,"checked",c,!1)}function en(a,c){Gr(a,c);var g=Ye(c.value),y=c.type;if(g!=null)y==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?lr(a,c.type,g):c.hasOwnProperty("defaultValue")&&lr(a,c.type,Ye(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Gn(a,c,g){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,g||c===a.value||(a.value=c),a.defaultValue=c}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function lr(a,c,g){(c!=="number"||on(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var Tn=Array.isArray;function ot(a,c,g,y){if(a=a.options,c){c={};for(var b=0;b<g.length;b++)c["$"+g[b]]=!0;for(g=0;g<a.length;g++)b=c.hasOwnProperty("$"+a[g].value),a[g].selected!==b&&(a[g].selected=b),b&&y&&(a[g].defaultSelected=!0)}else{for(g=""+Ye(g),c=null,b=0;b<a.length;b++){if(a[b].value===g){a[b].selected=!0,y&&(a[b].defaultSelected=!0);return}c!==null||a[b].disabled||(c=a[b])}c!==null&&(c.selected=!0)}}function cr(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return ye({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Tr(a,c){var g=c.value;if(g==null){if(g=c.children,c=c.defaultValue,g!=null){if(c!=null)throw Error(t(92));if(Tn(g)){if(1<g.length)throw Error(t(93));g=g[0]}c=g}c==null&&(c=""),g=c}a._wrapperState={initialValue:Ye(g)}}function Nn(a,c){var g=Ye(c.value),y=Ye(c.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),c.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),y!=null&&(a.defaultValue=""+y)}function ts(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Ps(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Er(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Ps(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ur,Xr=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,g,y,b){MSApp.execUnsafeLocalFunction(function(){return a(c,g,y,b)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(ur=ur||document.createElement("div"),ur.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ur.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Or(a,c){if(c){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=c;return}}a.textContent=c}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rs=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(a){Rs.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),St[c]=St[a]})});function ns(a,c,g){return c==null||typeof c=="boolean"||c===""?"":g||typeof c!="number"||c===0||St.hasOwnProperty(a)&&St[a]?(""+c).trim():c+"px"}function He(a,c){a=a.style;for(var g in c)if(c.hasOwnProperty(g)){var y=g.indexOf("--")===0,b=ns(g,c[g],y);g==="float"&&(g="cssFloat"),y?a.setProperty(g,b):a[g]=b}}var Ot=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jt(a,c){if(c){if(Ot[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function ci(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=null;function ff(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var pf=null,ia=null,sa=null;function nm(a){if(a=Kn(a)){if(typeof pf!="function")throw Error(t(280));var c=a.stateNode;c&&(c=yh(c),pf(a.stateNode,a.type,c))}}function rm(a){ia?sa?sa.push(a):sa=[a]:ia=a}function im(){if(ia){var a=ia,c=sa;if(sa=ia=null,nm(a),c)for(a=0;a<c.length;a++)nm(c[a])}}function sm(a,c){return a(c)}function gf(){}var mf=!1;function om(a,c,g){if(mf)return a(c,g);mf=!0;try{return sm(a,c,g)}finally{mf=!1,(ia!==null||sa!==null)&&(gf(),im())}}function hc(a,c){var g=a.stateNode;if(g===null)return null;var y=yh(g);if(y===null)return null;g=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(t(231,c,typeof g));return g}var dc=!1;if(l)try{var fc={};Object.defineProperty(fc,"passive",{get:function(){dc=!0}}),window.addEventListener("test",fc,fc),window.removeEventListener("test",fc,fc)}catch{dc=!1}function yf(a,c,g,y,b,k,A,B,H){var re=Array.prototype.slice.call(arguments,3);try{c.apply(g,re)}catch(ve){this.onError(ve)}}var pc=!1,$u=null,Wu=!1,vf=null,M1={onError:function(a){pc=!0,$u=a}};function A1(a,c,g,y,b,k,A,B,H){pc=!1,$u=null,yf.apply(M1,arguments)}function P1(a,c,g,y,b,k,A,B,H){if(A1.apply(this,arguments),pc){if(pc){var re=$u;pc=!1,$u=null}else throw Error(t(198));Wu||(Wu=!0,vf=re)}}function oa(a){var c=a,g=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,c.flags&4098&&(g=c.return),a=c.return;while(a)}return c.tag===3?g:null}function xf(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function am(a){if(oa(a)!==a)throw Error(t(188))}function R1(a){var c=a.alternate;if(!c){if(c=oa(a),c===null)throw Error(t(188));return c!==a?null:a}for(var g=a,y=c;;){var b=g.return;if(b===null)break;var k=b.alternate;if(k===null){if(y=b.return,y!==null){g=y;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===g)return am(b),a;if(k===y)return am(b),c;k=k.sibling}throw Error(t(188))}if(g.return!==y.return)g=b,y=k;else{for(var A=!1,B=b.child;B;){if(B===g){A=!0,g=b,y=k;break}if(B===y){A=!0,y=b,g=k;break}B=B.sibling}if(!A){for(B=k.child;B;){if(B===g){A=!0,g=k,y=b;break}if(B===y){A=!0,y=k,g=b;break}B=B.sibling}if(!A)throw Error(t(189))}}if(g.alternate!==y)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?a:c}function lm(a){return a=R1(a),a!==null?cm(a):null}function cm(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=cm(a);if(c!==null)return c;a=a.sibling}return null}var um=e.unstable_scheduleCallback,hm=e.unstable_cancelCallback,Hu=e.unstable_shouldYield,D1=e.unstable_requestPaint,Xt=e.unstable_now,I1=e.unstable_getCurrentPriorityLevel,Sf=e.unstable_ImmediatePriority,dm=e.unstable_UserBlockingPriority,gc=e.unstable_NormalPriority,fm=e.unstable_LowPriority,wf=e.unstable_IdlePriority,Vu=null,rs=null;function N1(a){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(Vu,a,void 0,(a.current.flags&128)===128)}catch{}}var Li=Math.clz32?Math.clz32:mm,pm=Math.log,gm=Math.LN2;function mm(a){return a>>>=0,a===0?32:31-(pm(a)/gm|0)|0}var il=64,Uu=4194304;function sl(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function aa(a,c){var g=a.pendingLanes;if(g===0)return 0;var y=0,b=a.suspendedLanes,k=a.pingedLanes,A=g&268435455;if(A!==0){var B=A&~b;B!==0?y=sl(B):(k&=A,k!==0&&(y=sl(k)))}else A=g&~b,A!==0?y=sl(A):k!==0&&(y=sl(k));if(y===0)return 0;if(c!==0&&c!==y&&!(c&b)&&(b=y&-y,k=c&-c,b>=k||b===16&&(k&4194240)!==0))return c;if(y&4&&(y|=g&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=y;0<c;)g=31-Li(c),b=1<<g,y|=a[g],c&=~b;return y}function ym(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L1(a,c){for(var g=a.suspendedLanes,y=a.pingedLanes,b=a.expirationTimes,k=a.pendingLanes;0<k;){var A=31-Li(k),B=1<<A,H=b[A];H===-1?(!(B&g)||B&y)&&(b[A]=ym(B,c)):H<=c&&(a.expiredLanes|=B),k&=~B}}function Gu(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function bf(){var a=il;return il<<=1,!(il&4194240)&&(il=64),a}function mc(a){for(var c=[],g=0;31>g;g++)c.push(a);return c}function yc(a,c,g){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Li(c),a[c]=g}function vm(a,c){var g=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<g;){var b=31-Li(g),k=1<<b;c[b]=0,y[b]=-1,a[b]=-1,g&=~k}}function vc(a,c){var g=a.entangledLanes|=c;for(a=a.entanglements;g;){var y=31-Li(g),b=1<<y;b&c|a[y]&c&&(a[y]|=c),g&=~b}}var _t=0;function la(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Cf,Xu,xm,_f,kf,Yu=!1,xc=[],fo=null,po=null,go=null,ol=new Map,Sc=new Map,mo=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sm(a,c){switch(a){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":ol.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(c.pointerId)}}function ca(a,c,g,y,b,k){return a===null||a.nativeEvent!==k?(a={blockedOn:c,domEventName:g,eventSystemFlags:y,nativeEvent:k,targetContainers:[b]},c!==null&&(c=Kn(c),c!==null&&Xu(c)),a):(a.eventSystemFlags|=y,c=a.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),a)}function B1(a,c,g,y,b){switch(c){case"focusin":return fo=ca(fo,a,c,g,y,b),!0;case"dragenter":return po=ca(po,a,c,g,y,b),!0;case"mouseover":return go=ca(go,a,c,g,y,b),!0;case"pointerover":var k=b.pointerId;return ol.set(k,ca(ol.get(k)||null,a,c,g,y,b)),!0;case"gotpointercapture":return k=b.pointerId,Sc.set(k,ca(Sc.get(k)||null,a,c,g,y,b)),!0}return!1}function wm(a){var c=ls(a.target);if(c!==null){var g=oa(c);if(g!==null){if(c=g.tag,c===13){if(c=xf(g),c!==null){a.blockedOn=c,kf(a.priority,function(){xm(g)});return}}else if(c===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ku(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var g=Qu(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var y=new g.constructor(g.type,g);rl=y,g.target.dispatchEvent(y),rl=null}else return c=Kn(g),c!==null&&Xu(c),a.blockedOn=g,!1;c.shift()}return!0}function bm(a,c,g){Ku(a)&&g.delete(c)}function j1(){Yu=!1,fo!==null&&Ku(fo)&&(fo=null),po!==null&&Ku(po)&&(po=null),go!==null&&Ku(go)&&(go=null),ol.forEach(bm),Sc.forEach(bm)}function Mt(a,c){a.blockedOn===c&&(a.blockedOn=null,Yu||(Yu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,j1)))}function Et(a){function c(b){return Mt(b,a)}if(0<xc.length){Mt(xc[0],a);for(var g=1;g<xc.length;g++){var y=xc[g];y.blockedOn===a&&(y.blockedOn=null)}}for(fo!==null&&Mt(fo,a),po!==null&&Mt(po,a),go!==null&&Mt(go,a),ol.forEach(c),Sc.forEach(c),g=0;g<mo.length;g++)y=mo[g],y.blockedOn===a&&(y.blockedOn=null);for(;0<mo.length&&(g=mo[0],g.blockedOn===null);)wm(g),g.blockedOn===null&&mo.shift()}var al=F.ReactCurrentBatchConfig,qu=!0;function z1(a,c,g,y){var b=_t,k=al.transition;al.transition=null;try{_t=1,Tf(a,c,g,y)}finally{_t=b,al.transition=k}}function $1(a,c,g,y){var b=_t,k=al.transition;al.transition=null;try{_t=4,Tf(a,c,g,y)}finally{_t=b,al.transition=k}}function Tf(a,c,g,y){if(qu){var b=Qu(a,c,g,y);if(b===null)Hf(a,c,y,Ju,g),Sm(a,y);else if(B1(b,a,c,g,y))y.stopPropagation();else if(Sm(a,y),c&4&&-1<F1.indexOf(a)){for(;b!==null;){var k=Kn(b);if(k!==null&&Cf(k),k=Qu(a,c,g,y),k===null&&Hf(a,c,y,Ju,g),k===b)break;b=k}b!==null&&y.stopPropagation()}else Hf(a,c,y,null,g)}}var Ju=null;function Qu(a,c,g,y){if(Ju=null,a=ff(y),a=ls(a),a!==null)if(c=oa(a),c===null)a=null;else if(g=c.tag,g===13){if(a=xf(c),a!==null)return a;a=null}else if(g===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Ju=a,null}function Cm(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I1()){case Sf:return 1;case dm:return 4;case gc:case fm:return 16;case wf:return 536870912;default:return 16}default:return 16}}var Yt=null,wc=null,is=null;function Ef(){if(is)return is;var a,c=wc,g=c.length,y,b="value"in Yt?Yt.value:Yt.textContent,k=b.length;for(a=0;a<g&&c[a]===b[a];a++);var A=g-a;for(y=1;y<=A&&c[g-y]===b[k-y];y++);return is=b.slice(a,1<y?1-y:void 0)}function ll(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function hr(){return!0}function Of(){return!1}function Mr(a){function c(g,y,b,k,A){this._reactName=g,this._targetInst=b,this.type=y,this.nativeEvent=k,this.target=A,this.currentTarget=null;for(var B in a)a.hasOwnProperty(B)&&(g=a[B],this[B]=g?g(k):k[B]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?hr:Of,this.isPropagationStopped=Of,this}return ye(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),c}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=Mr(ua),cl=ye({},ua,{view:0,detail:0}),_m=Mr(cl),dr,Mf,Xn,eh=ye({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Xn&&(Xn&&a.type==="mousemove"?(dr=a.screenX-Xn.screenX,Mf=a.screenY-Xn.screenY):Mf=dr=0,Xn=a),dr)},movementY:function(a){return"movementY"in a?a.movementY:Mf}}),Af=Mr(eh),yo=ye({},eh,{dataTransfer:0}),th=Mr(yo),Pf=ye({},cl,{relatedTarget:0}),jt=Mr(Pf),vo=ye({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),Rf=Mr(vo),W1=ye({},ua,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Df=Mr(W1),H1=ye({},ua,{data:0}),km=Mr(H1),V1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=nh[a])?!!c[a]:!1}function If(){return ul}var Em=ye({},cl,{key:function(a){if(a.key){var c=V1[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=ll(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Tm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(a){return a.type==="keypress"?ll(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ll(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Om=Mr(Em),Nf=ye({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=Mr(Nf),Mm=ye({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),U1=Mr(Mm),Lf=ye({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ff=Mr(Lf),G1=ye({},eh,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Am=Mr(G1),Yr=[9,13,27,32],bc=l&&"CompositionEvent"in window,Ds=null;l&&"documentMode"in document&&(Ds=document.documentMode);var Pm=l&&"TextEvent"in window&&!Ds,Bf=l&&(!bc||Ds&&8<Ds&&11>=Ds),Rm=" ",Dm=!1;function Im(a,c){switch(a){case"keyup":return Yr.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var hl=!1;function dl(a,c){switch(a){case"compositionend":return Nm(c);case"keypress":return c.which!==32?null:(Dm=!0,Rm);case"textInput":return a=c.data,a===Rm&&Dm?null:a;default:return null}}function X1(a,c){if(hl)return a==="compositionend"||!bc&&Im(a,c)?(a=Ef(),is=wc=Yt=null,hl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Bf&&c.locale!=="ko"?null:c.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!Y1[a.type]:c==="textarea"}function jf(a,c,g,y){rm(y),c=fh(c,"onChange"),0<c.length&&(g=new Zu("onChange","change",null,g,y),a.push({event:g,listeners:c}))}var ui=null,xo=null;function K1(a){Wm(a,0)}function sh(a){var c=rt(a);if(ut(c))return a}function q1(a,c){if(a==="change")return c}var ha=!1;if(l){var Kr;if(l){var oh="oninput"in document;if(!oh){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),oh=typeof Lm.oninput=="function"}Kr=oh}else Kr=!1;ha=Kr&&(!document.documentMode||9<document.documentMode)}function Fm(){ui&&(ui.detachEvent("onpropertychange",Bm),xo=ui=null)}function Bm(a){if(a.propertyName==="value"&&sh(xo)){var c=[];jf(c,xo,a,ff(a)),om(K1,c)}}function J1(a,c,g){a==="focusin"?(Fm(),ui=c,xo=g,ui.attachEvent("onpropertychange",Bm)):a==="focusout"&&Fm()}function Q1(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return sh(xo)}function fl(a,c){if(a==="click")return sh(c)}function K(a,c){if(a==="input"||a==="change")return sh(c)}function le(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var ne=typeof Object.is=="function"?Object.is:le;function Ae(a,c){if(ne(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var g=Object.keys(a),y=Object.keys(c);if(g.length!==y.length)return!1;for(y=0;y<g.length;y++){var b=g[y];if(!u.call(c,b)||!ne(a[b],c[b]))return!1}return!0}function et(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function wt(a,c){var g=et(a);a=0;for(var y;g;){if(g.nodeType===3){if(y=a+g.textContent.length,a<=c&&y>=c)return{node:g,offset:c-a};a=y}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=et(g)}}function dn(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?dn(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Rt(){for(var a=window,c=on();c instanceof a.HTMLIFrameElement;){try{var g=typeof c.contentWindow.location.href=="string"}catch{g=!1}if(g)a=c.contentWindow;else break;c=on(a.document)}return c}function Cc(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function Z1(a){var c=Rt(),g=a.focusedElem,y=a.selectionRange;if(c!==g&&g&&g.ownerDocument&&dn(g.ownerDocument.documentElement,g)){if(y!==null&&Cc(g)){if(c=y.start,a=y.end,a===void 0&&(a=c),"selectionStart"in g)g.selectionStart=c,g.selectionEnd=Math.min(a,g.value.length);else if(a=(c=g.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var b=g.textContent.length,k=Math.min(y.start,b);y=y.end===void 0?k:Math.min(y.end,b),!a.extend&&k>y&&(b=y,y=k,k=b),b=wt(g,k);var A=wt(g,y);b&&A&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),a.removeAllRanges(),k>y?(a.addRange(c),a.extend(A.node,A.offset)):(c.setEnd(A.node,A.offset),a.addRange(c)))}}for(c=[],a=g;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<c.length;g++)a=c[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var hi=l&&"documentMode"in document&&11>=document.documentMode,Is=null,zf=null,ss=null,pl=!1;function _c(a,c,g){var y=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;pl||Is==null||Is!==on(y)||(y=Is,"selectionStart"in y&&Cc(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ss&&Ae(ss,y)||(ss=y,y=fh(zf,"onSelect"),0<y.length&&(c=new Zu("onSelect","select",null,c,g),a.push({event:c,listeners:y}),c.target=Is)))}function bt(a,c){var g={};return g[a.toLowerCase()]=c.toLowerCase(),g["Webkit"+a]="webkit"+c,g["Moz"+a]="moz"+c,g}var gl={animationend:bt("Animation","AnimationEnd"),animationiteration:bt("Animation","AnimationIteration"),animationstart:bt("Animation","AnimationStart"),transitionend:bt("Transition","TransitionEnd")},ah={},kc={};l&&(kc=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function lh(a){if(ah[a])return ah[a];if(!gl[a])return a;var c=gl[a],g;for(g in c)if(c.hasOwnProperty(g)&&g in kc)return ah[a]=c[g];return a}var jm=lh("animationend"),zm=lh("animationiteration"),Tc=lh("animationstart"),Ns=lh("transitionend"),Ec=new Map,$f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(a,c){Ec.set(a,c),s(c,[a])}for(var ch=0;ch<$f.length;ch++){var uh=$f[ch],hh=uh.toLowerCase(),$m=uh[0].toUpperCase()+uh.slice(1);Fi(hh,"on"+$m)}Fi(jm,"onAnimationEnd"),Fi(zm,"onAnimationIteration"),Fi(Tc,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(Ns,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),da=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Oc(a,c,g){var y=a.type||"unknown-event";a.currentTarget=g,P1(y,c,void 0,a),a.currentTarget=null}function Wm(a,c){c=(c&4)!==0;for(var g=0;g<a.length;g++){var y=a[g],b=y.event;y=y.listeners;e:{var k=void 0;if(c)for(var A=y.length-1;0<=A;A--){var B=y[A],H=B.instance,re=B.currentTarget;if(B=B.listener,H!==k&&b.isPropagationStopped())break e;Oc(b,B,re),k=H}else for(A=0;A<y.length;A++){if(B=y[A],H=B.instance,re=B.currentTarget,B=B.listener,H!==k&&b.isPropagationStopped())break e;Oc(b,B,re),k=H}}}if(Wu)throw a=vf,Wu=!1,vf=null,a}function $t(a,c){var g=c[mh];g===void 0&&(g=c[mh]=new Set);var y=a+"__bubble";g.has(y)||(dh(c,a,2,!1),g.add(y))}function Wf(a,c,g){var y=0;c&&(y|=4),dh(g,a,y,c)}var fa="_reactListening"+Math.random().toString(36).slice(2);function So(a){if(!a[fa]){a[fa]=!0,r.forEach(function(g){g!=="selectionchange"&&(da.has(g)||Wf(g,!1,a),Wf(g,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[fa]||(c[fa]=!0,Wf("selectionchange",!1,c))}}function dh(a,c,g,y){switch(Cm(c)){case 1:var b=z1;break;case 4:b=$1;break;default:b=Tf}g=b.bind(null,c,g,a),b=void 0,!dc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),y?b!==void 0?a.addEventListener(c,g,{capture:!0,passive:b}):a.addEventListener(c,g,!0):b!==void 0?a.addEventListener(c,g,{passive:b}):a.addEventListener(c,g,!1)}function Hf(a,c,g,y,b){var k=y;if(!(c&1)&&!(c&2)&&y!==null)e:for(;;){if(y===null)return;var A=y.tag;if(A===3||A===4){var B=y.stateNode.containerInfo;if(B===b||B.nodeType===8&&B.parentNode===b)break;if(A===4)for(A=y.return;A!==null;){var H=A.tag;if((H===3||H===4)&&(H=A.stateNode.containerInfo,H===b||H.nodeType===8&&H.parentNode===b))return;A=A.return}for(;B!==null;){if(A=ls(B),A===null)return;if(H=A.tag,H===5||H===6){y=k=A;continue e}B=B.parentNode}}y=y.return}om(function(){var re=k,ve=ff(g),we=[];e:{var me=Ec.get(a);if(me!==void 0){var Pe=Zu,Ne=a;switch(a){case"keypress":if(ll(g)===0)break e;case"keydown":case"keyup":Pe=Om;break;case"focusin":Ne="focus",Pe=jt;break;case"focusout":Ne="blur",Pe=jt;break;case"beforeblur":case"afterblur":Pe=jt;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=U1;break;case jm:case zm:case Tc:Pe=Rf;break;case Ns:Pe=Ff;break;case"scroll":Pe=_m;break;case"wheel":Pe=Am;break;case"copy":case"cut":case"paste":Pe=Df;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=rh}var Fe=(c&4)!==0,ln=!Fe&&a==="scroll",Q=Fe?me!==null?me+"Capture":null:me;Fe=[];for(var X=re,Z;X!==null;){Z=X;var ke=Z.stateNode;if(Z.tag===5&&ke!==null&&(Z=ke,Q!==null&&(ke=hc(X,Q),ke!=null&&Fe.push(ml(X,ke,Z)))),ln)break;X=X.return}0<Fe.length&&(me=new Pe(me,Ne,null,g,ve),we.push({event:me,listeners:Fe}))}}if(!(c&7)){e:{if(me=a==="mouseover"||a==="pointerover",Pe=a==="mouseout"||a==="pointerout",me&&g!==rl&&(Ne=g.relatedTarget||g.fromElement)&&(ls(Ne)||Ne[qr]))break e;if((Pe||me)&&(me=ve.window===ve?ve:(me=ve.ownerDocument)?me.defaultView||me.parentWindow:window,Pe?(Ne=g.relatedTarget||g.toElement,Pe=re,Ne=Ne?ls(Ne):null,Ne!==null&&(ln=oa(Ne),Ne!==ln||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Pe=null,Ne=re),Pe!==Ne)){if(Fe=Af,ke="onMouseLeave",Q="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(Fe=rh,ke="onPointerLeave",Q="onPointerEnter",X="pointer"),ln=Pe==null?me:rt(Pe),Z=Ne==null?me:rt(Ne),me=new Fe(ke,X+"leave",Pe,g,ve),me.target=ln,me.relatedTarget=Z,ke=null,ls(ve)===re&&(Fe=new Fe(Q,X+"enter",Ne,g,ve),Fe.target=Z,Fe.relatedTarget=ln,ke=Fe),ln=ke,Pe&&Ne)t:{for(Fe=Pe,Q=Ne,X=0,Z=Fe;Z;Z=yl(Z))X++;for(Z=0,ke=Q;ke;ke=yl(ke))Z++;for(;0<X-Z;)Fe=yl(Fe),X--;for(;0<Z-X;)Q=yl(Q),Z--;for(;X--;){if(Fe===Q||Q!==null&&Fe===Q.alternate)break t;Fe=yl(Fe),Q=yl(Q)}Fe=null}else Fe=null;Pe!==null&&fn(we,me,Pe,Fe,!1),Ne!==null&&ln!==null&&fn(we,ln,Ne,Fe,!0)}}e:{if(me=re?rt(re):window,Pe=me.nodeName&&me.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&me.type==="file")var je=q1;else if(ih(me))if(ha)je=K;else{je=Q1;var Ge=J1}else(Pe=me.nodeName)&&Pe.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(je=fl);if(je&&(je=je(a,re))){jf(we,je,g,ve);break e}Ge&&Ge(a,me,re),a==="focusout"&&(Ge=me._wrapperState)&&Ge.controlled&&me.type==="number"&&lr(me,"number",me.value)}switch(Ge=re?rt(re):window,a){case"focusin":(ih(Ge)||Ge.contentEditable==="true")&&(Is=Ge,zf=re,ss=null);break;case"focusout":ss=zf=Is=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,_c(we,g,ve);break;case"selectionchange":if(hi)break;case"keydown":case"keyup":_c(we,g,ve)}var We;if(bc)e:{switch(a){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else hl?Im(a,g)&&(qe="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(qe="onCompositionStart");qe&&(Bf&&g.locale!=="ko"&&(hl||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&hl&&(We=Ef()):(Yt=ve,wc="value"in Yt?Yt.value:Yt.textContent,hl=!0)),Ge=fh(re,qe),0<Ge.length&&(qe=new km(qe,a,null,g,ve),we.push({event:qe,listeners:Ge}),We?qe.data=We:(We=Nm(g),We!==null&&(qe.data=We)))),(We=Pm?dl(a,g):X1(a,g))&&(re=fh(re,"onBeforeInput"),0<re.length&&(ve=new km("onBeforeInput","beforeinput",null,g,ve),we.push({event:ve,listeners:re}),ve.data=We))}Wm(we,c)})}function ml(a,c,g){return{instance:a,listener:c,currentTarget:g}}function fh(a,c){for(var g=c+"Capture",y=[];a!==null;){var b=a,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=hc(a,g),k!=null&&y.unshift(ml(a,k,b)),k=hc(a,c),k!=null&&y.push(ml(a,k,b))),a=a.return}return y}function yl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function fn(a,c,g,y,b){for(var k=c._reactName,A=[];g!==null&&g!==y;){var B=g,H=B.alternate,re=B.stateNode;if(H!==null&&H===y)break;B.tag===5&&re!==null&&(B=re,b?(H=hc(g,k),H!=null&&A.unshift(ml(g,H,B))):b||(H=hc(g,k),H!=null&&A.push(ml(g,H,B)))),g=g.return}A.length!==0&&a.push({event:c,listeners:A})}var Yn=/\r\n?/g,ex=/\u0000|\uFFFD/g;function Hm(a){return(typeof a=="string"?a:""+a).replace(Yn,`
`).replace(ex,"")}function Mc(a,c,g){if(c=Hm(c),Hm(a)!==c&&g)throw Error(t(425))}function ph(){}var Ac=null,pa=null;function Pc(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var wo=typeof setTimeout=="function"?setTimeout:void 0,Rc=typeof clearTimeout=="function"?clearTimeout:void 0,vl=typeof Promise=="function"?Promise:void 0,gh=typeof queueMicrotask=="function"?queueMicrotask:typeof vl<"u"?function(a){return vl.resolve(null).then(a).catch(xl)}:wo;function xl(a){setTimeout(function(){throw a})}function Vf(a,c){var g=c,y=0;do{var b=g.nextSibling;if(a.removeChild(g),b&&b.nodeType===8)if(g=b.data,g==="/$"){if(y===0){a.removeChild(b),Et(c);return}y--}else g!=="$"&&g!=="$?"&&g!=="$!"||y++;g=b}while(g);Et(c)}function bo(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Vm(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(c===0)return a;c--}else g==="/$"&&c++}a=a.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),as="__reactFiber$"+Sl,Co="__reactProps$"+Sl,qr="__reactContainer$"+Sl,mh="__reactEvents$"+Sl,D="__reactListeners$"+Sl,wl="__reactHandles$"+Sl;function ls(a){var c=a[as];if(c)return c;for(var g=a.parentNode;g;){if(c=g[qr]||g[as]){if(g=c.alternate,c.child!==null||g!==null&&g.child!==null)for(a=Vm(a);a!==null;){if(g=a[as])return g;a=Vm(a)}return c}a=g,g=a.parentNode}return null}function Kn(a){return a=a[as]||a[qr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function rt(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function yh(a){return a[Co]||null}var Uf=[],bl=-1;function Ar(a){return{current:a}}function Wt(a){0>bl||(a.current=Uf[bl],Uf[bl]=null,bl--)}function zt(a,c){bl++,Uf[bl]=a.current,a.current=c}var _o={},qn=Ar(_o),Pr=Ar(!1),fr=_o;function Cl(a,c){var g=a.type.contextTypes;if(!g)return _o;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in g)b[k]=c[k];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=b),b}function Rr(a){return a=a.childContextTypes,a!=null}function vh(){Wt(Pr),Wt(qn)}function Um(a,c,g){if(qn.current!==_o)throw Error(t(168));zt(qn,c),zt(Pr,g)}function Gm(a,c,g){var y=a.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return g;y=y.getChildContext();for(var b in y)if(!(b in c))throw Error(t(108,Ve(a)||"Unknown",b));return ye({},g,y)}function di(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||_o,fr=qn.current,zt(qn,a),zt(Pr,Pr.current),!0}function Xm(a,c,g){var y=a.stateNode;if(!y)throw Error(t(169));g?(a=Gm(a,c,fr),y.__reactInternalMemoizedMergedChildContext=a,Wt(Pr),Wt(qn),zt(qn,a)):Wt(Pr),zt(Pr,g)}var Fs=null,xh=!1,Gf=!1;function Ym(a){Fs===null?Fs=[a]:Fs.push(a)}function ga(a){xh=!0,Ym(a)}function ko(){if(!Gf&&Fs!==null){Gf=!0;var a=0,c=_t;try{var g=Fs;for(_t=1;a<g.length;a++){var y=g[a];do y=y(!0);while(y!==null)}Fs=null,xh=!1}catch(b){throw Fs!==null&&(Fs=Fs.slice(a+1)),um(Sf,ko),b}finally{_t=c,Gf=!1}}return null}var _l=[],Jn=0,Sh=null,wh=0,fi=[],pi=0,ma=null,cs=1,us="";function ya(a,c){_l[Jn++]=wh,_l[Jn++]=Sh,Sh=a,wh=c}function Km(a,c,g){fi[pi++]=cs,fi[pi++]=us,fi[pi++]=ma,ma=a;var y=cs;a=us;var b=32-Li(y)-1;y&=~(1<<b),g+=1;var k=32-Li(c)+b;if(30<k){var A=b-b%5;k=(y&(1<<A)-1).toString(32),y>>=A,b-=A,cs=1<<32-Li(c)+b|g<<b|y,us=k+a}else cs=1<<k|g<<b|y,us=a}function Dc(a){a.return!==null&&(ya(a,1),Km(a,1,0))}function va(a){for(;a===Sh;)Sh=_l[--Jn],_l[Jn]=null,wh=_l[--Jn],_l[Jn]=null;for(;a===ma;)ma=fi[--pi],fi[pi]=null,us=fi[--pi],fi[pi]=null,cs=fi[--pi],fi[pi]=null}var Qn=null,Jr=null,Ht=!1,Bi=null;function hs(a,c){var g=wi(5,null,null,0);g.elementType="DELETED",g.stateNode=c,g.return=a,c=a.deletions,c===null?(a.deletions=[g],a.flags|=16):c.push(g)}function bh(a,c){switch(a.tag){case 5:var g=a.type;return c=c.nodeType!==1||g.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Qn=a,Jr=bo(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Qn=a,Jr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(g=ma!==null?{id:cs,overflow:us}:null,a.memoizedState={dehydrated:c,treeContext:g,retryLane:1073741824},g=wi(18,null,null,0),g.stateNode=c,g.return=a,a.child=g,Qn=a,Jr=null,!0):!1;default:return!1}}function Bs(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Dr(a){if(Ht){var c=Jr;if(c){var g=c;if(!bh(a,c)){if(Bs(a))throw Error(t(418));c=bo(g.nextSibling);var y=Qn;c&&bh(a,c)?hs(y,g):(a.flags=a.flags&-4097|2,Ht=!1,Qn=a)}}else{if(Bs(a))throw Error(t(418));a.flags=a.flags&-4097|2,Ht=!1,Qn=a}}}function qm(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Qn=a}function Ic(a){if(a!==Qn)return!1;if(!Ht)return qm(a),Ht=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Pc(a.type,a.memoizedProps)),c&&(c=Jr)){if(Bs(a))throw Xf(),Error(t(418));for(;c;)hs(a,c),c=bo(c.nextSibling)}if(qm(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(c===0){Jr=bo(a.nextSibling);break e}c--}else g!=="$"&&g!=="$!"&&g!=="$?"||c++}a=a.nextSibling}Jr=null}}else Jr=Qn?bo(a.stateNode.nextSibling):null;return!0}function Xf(){for(var a=Jr;a;)a=bo(a.nextSibling)}function ds(){Jr=Qn=null,Ht=!1}function fs(a){Bi===null?Bi=[a]:Bi.push(a)}var Jm=F.ReactCurrentBatchConfig;function Nc(a,c,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var y=g.stateNode}if(!y)throw Error(t(147,a));var b=y,k=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===k?c.ref:(c=function(A){var B=b.refs;A===null?delete B[k]:B[k]=A},c._stringRef=k,c)}if(typeof a!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,a))}return a}function xa(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function Qm(a){var c=a._init;return c(a._payload)}function Yf(a){function c(Q,X){if(a){var Z=Q.deletions;Z===null?(Q.deletions=[X],Q.flags|=16):Z.push(X)}}function g(Q,X){if(!a)return null;for(;X!==null;)c(Q,X),X=X.sibling;return null}function y(Q,X){for(Q=new Map;X!==null;)X.key!==null?Q.set(X.key,X):Q.set(X.index,X),X=X.sibling;return Q}function b(Q,X){return Q=Ui(Q,X),Q.index=0,Q.sibling=null,Q}function k(Q,X,Z){return Q.index=Z,a?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<X?(Q.flags|=2,X):Z):(Q.flags|=2,X)):(Q.flags|=1048576,X)}function A(Q){return a&&Q.alternate===null&&(Q.flags|=2),Q}function B(Q,X,Z,ke){return X===null||X.tag!==6?(X=Ip(Z,Q.mode,ke),X.return=Q,X):(X=b(X,Z),X.return=Q,X)}function H(Q,X,Z,ke){var je=Z.type;return je===$?ve(Q,X,Z.props.children,ke,Z.key):X!==null&&(X.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Se&&Qm(je)===X.type)?(ke=b(X,Z.props),ke.ref=Nc(Q,X,Z),ke.return=Q,ke):(ke=rd(Z.type,Z.key,Z.props,null,Q.mode,ke),ke.ref=Nc(Q,X,Z),ke.return=Q,ke)}function re(Q,X,Z,ke){return X===null||X.tag!==4||X.stateNode.containerInfo!==Z.containerInfo||X.stateNode.implementation!==Z.implementation?(X=Np(Z,Q.mode,ke),X.return=Q,X):(X=b(X,Z.children||[]),X.return=Q,X)}function ve(Q,X,Z,ke,je){return X===null||X.tag!==7?(X=Aa(Z,Q.mode,ke,je),X.return=Q,X):(X=b(X,Z),X.return=Q,X)}function we(Q,X,Z){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Ip(""+X,Q.mode,Z),X.return=Q,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case L:return Z=rd(X.type,X.key,X.props,null,Q.mode,Z),Z.ref=Nc(Q,null,X),Z.return=Q,Z;case j:return X=Np(X,Q.mode,Z),X.return=Q,X;case Se:var ke=X._init;return we(Q,ke(X._payload),Z)}if(Tn(X)||_e(X))return X=Aa(X,Q.mode,Z,null),X.return=Q,X;xa(Q,X)}return null}function me(Q,X,Z,ke){var je=X!==null?X.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return je!==null?null:B(Q,X,""+Z,ke);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return Z.key===je?H(Q,X,Z,ke):null;case j:return Z.key===je?re(Q,X,Z,ke):null;case Se:return je=Z._init,me(Q,X,je(Z._payload),ke)}if(Tn(Z)||_e(Z))return je!==null?null:ve(Q,X,Z,ke,null);xa(Q,Z)}return null}function Pe(Q,X,Z,ke,je){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return Q=Q.get(Z)||null,B(X,Q,""+ke,je);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case L:return Q=Q.get(ke.key===null?Z:ke.key)||null,H(X,Q,ke,je);case j:return Q=Q.get(ke.key===null?Z:ke.key)||null,re(X,Q,ke,je);case Se:var Ge=ke._init;return Pe(Q,X,Z,Ge(ke._payload),je)}if(Tn(ke)||_e(ke))return Q=Q.get(Z)||null,ve(X,Q,ke,je,null);xa(X,ke)}return null}function Ne(Q,X,Z,ke){for(var je=null,Ge=null,We=X,qe=X=0,Mn=null;We!==null&&qe<Z.length;qe++){We.index>qe?(Mn=We,We=null):Mn=We.sibling;var Ct=me(Q,We,Z[qe],ke);if(Ct===null){We===null&&(We=Mn);break}a&&We&&Ct.alternate===null&&c(Q,We),X=k(Ct,X,qe),Ge===null?je=Ct:Ge.sibling=Ct,Ge=Ct,We=Mn}if(qe===Z.length)return g(Q,We),Ht&&ya(Q,qe),je;if(We===null){for(;qe<Z.length;qe++)We=we(Q,Z[qe],ke),We!==null&&(X=k(We,X,qe),Ge===null?je=We:Ge.sibling=We,Ge=We);return Ht&&ya(Q,qe),je}for(We=y(Q,We);qe<Z.length;qe++)Mn=Pe(We,Q,qe,Z[qe],ke),Mn!==null&&(a&&Mn.alternate!==null&&We.delete(Mn.key===null?qe:Mn.key),X=k(Mn,X,qe),Ge===null?je=Mn:Ge.sibling=Mn,Ge=Mn);return a&&We.forEach(function(Fo){return c(Q,Fo)}),Ht&&ya(Q,qe),je}function Fe(Q,X,Z,ke){var je=_e(Z);if(typeof je!="function")throw Error(t(150));if(Z=je.call(Z),Z==null)throw Error(t(151));for(var Ge=je=null,We=X,qe=X=0,Mn=null,Ct=Z.next();We!==null&&!Ct.done;qe++,Ct=Z.next()){We.index>qe?(Mn=We,We=null):Mn=We.sibling;var Fo=me(Q,We,Ct.value,ke);if(Fo===null){We===null&&(We=Mn);break}a&&We&&Fo.alternate===null&&c(Q,We),X=k(Fo,X,qe),Ge===null?je=Fo:Ge.sibling=Fo,Ge=Fo,We=Mn}if(Ct.done)return g(Q,We),Ht&&ya(Q,qe),je;if(We===null){for(;!Ct.done;qe++,Ct=Z.next())Ct=we(Q,Ct.value,ke),Ct!==null&&(X=k(Ct,X,qe),Ge===null?je=Ct:Ge.sibling=Ct,Ge=Ct);return Ht&&ya(Q,qe),je}for(We=y(Q,We);!Ct.done;qe++,Ct=Z.next())Ct=Pe(We,Q,qe,Ct.value,ke),Ct!==null&&(a&&Ct.alternate!==null&&We.delete(Ct.key===null?qe:Ct.key),X=k(Ct,X,qe),Ge===null?je=Ct:Ge.sibling=Ct,Ge=Ct);return a&&We.forEach(function(wx){return c(Q,wx)}),Ht&&ya(Q,qe),je}function ln(Q,X,Z,ke){if(typeof Z=="object"&&Z!==null&&Z.type===$&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:e:{for(var je=Z.key,Ge=X;Ge!==null;){if(Ge.key===je){if(je=Z.type,je===$){if(Ge.tag===7){g(Q,Ge.sibling),X=b(Ge,Z.props.children),X.return=Q,Q=X;break e}}else if(Ge.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Se&&Qm(je)===Ge.type){g(Q,Ge.sibling),X=b(Ge,Z.props),X.ref=Nc(Q,Ge,Z),X.return=Q,Q=X;break e}g(Q,Ge);break}else c(Q,Ge);Ge=Ge.sibling}Z.type===$?(X=Aa(Z.props.children,Q.mode,ke,Z.key),X.return=Q,Q=X):(ke=rd(Z.type,Z.key,Z.props,null,Q.mode,ke),ke.ref=Nc(Q,X,Z),ke.return=Q,Q=ke)}return A(Q);case j:e:{for(Ge=Z.key;X!==null;){if(X.key===Ge)if(X.tag===4&&X.stateNode.containerInfo===Z.containerInfo&&X.stateNode.implementation===Z.implementation){g(Q,X.sibling),X=b(X,Z.children||[]),X.return=Q,Q=X;break e}else{g(Q,X);break}else c(Q,X);X=X.sibling}X=Np(Z,Q.mode,ke),X.return=Q,Q=X}return A(Q);case Se:return Ge=Z._init,ln(Q,X,Ge(Z._payload),ke)}if(Tn(Z))return Ne(Q,X,Z,ke);if(_e(Z))return Fe(Q,X,Z,ke);xa(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,X!==null&&X.tag===6?(g(Q,X.sibling),X=b(X,Z),X.return=Q,Q=X):(g(Q,X),X=Ip(Z,Q.mode,ke),X.return=Q,Q=X),A(Q)):g(Q,X)}return ln}var tn=Yf(!0),Ch=Yf(!1),Lc=Ar(null),Qr=null,To=null,kl=null;function js(){kl=To=Qr=null}function _h(a){var c=Lc.current;Wt(Lc),a._currentValue=c}function Ln(a,c,g){for(;a!==null;){var y=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),a===g)break;a=a.return}}function Eo(a,c){Qr=a,kl=To=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&c&&(gr=!0),a.firstContext=null)}function gi(a){var c=a._currentValue;if(kl!==a)if(a={context:a,memoizedValue:c,next:null},To===null){if(Qr===null)throw Error(t(308));To=a,Qr.dependencies={lanes:0,firstContext:a}}else To=To.next=a;return c}var Sa=null;function Kf(a){Sa===null?Sa=[a]:Sa.push(a)}function kh(a,c,g,y){var b=c.interleaved;return b===null?(g.next=g,Kf(c)):(g.next=b.next,b.next=g),c.interleaved=g,zs(a,y)}function zs(a,c){a.lanes|=c;var g=a.alternate;for(g!==null&&(g.lanes|=c),g=a,a=a.return;a!==null;)a.childLanes|=c,g=a.alternate,g!==null&&(g.childLanes|=c),g=a,a=a.return;return g.tag===3?g.stateNode:null}var mi=!1;function Th(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zm(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function $s(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function yi(a,c,g){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,vt&2){var b=y.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),y.pending=c,zs(a,g)}return b=y.interleaved,b===null?(c.next=c,Kf(y)):(c.next=b.next,b.next=c),y.interleaved=c,zs(a,g)}function Eh(a,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194240)!==0)){var y=c.lanes;y&=a.pendingLanes,g|=y,c.lanes=g,vc(a,g)}}function e0(a,c){var g=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,g===y)){var b=null,k=null;if(g=g.firstBaseUpdate,g!==null){do{var A={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};k===null?b=k=A:k=k.next=A,g=g.next}while(g!==null);k===null?b=k=c:k=k.next=c}else b=k=c;g={baseState:y.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:y.shared,effects:y.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=c:a.next=c,g.lastBaseUpdate=c}function Tl(a,c,g,y){var b=a.updateQueue;mi=!1;var k=b.firstBaseUpdate,A=b.lastBaseUpdate,B=b.shared.pending;if(B!==null){b.shared.pending=null;var H=B,re=H.next;H.next=null,A===null?k=re:A.next=re,A=H;var ve=a.alternate;ve!==null&&(ve=ve.updateQueue,B=ve.lastBaseUpdate,B!==A&&(B===null?ve.firstBaseUpdate=re:B.next=re,ve.lastBaseUpdate=H))}if(k!==null){var we=b.baseState;A=0,ve=re=H=null,B=k;do{var me=B.lane,Pe=B.eventTime;if((y&me)===me){ve!==null&&(ve=ve.next={eventTime:Pe,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ne=a,Fe=B;switch(me=c,Pe=g,Fe.tag){case 1:if(Ne=Fe.payload,typeof Ne=="function"){we=Ne.call(Pe,we,me);break e}we=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Fe.payload,me=typeof Ne=="function"?Ne.call(Pe,we,me):Ne,me==null)break e;we=ye({},we,me);break e;case 2:mi=!0}}B.callback!==null&&B.lane!==0&&(a.flags|=64,me=b.effects,me===null?b.effects=[B]:me.push(B))}else Pe={eventTime:Pe,lane:me,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ve===null?(re=ve=Pe,H=we):ve=ve.next=Pe,A|=me;if(B=B.next,B===null){if(B=b.shared.pending,B===null)break;me=B,B=me.next,me.next=null,b.lastBaseUpdate=me,b.shared.pending=null}}while(!0);if(ve===null&&(H=we),b.baseState=H,b.firstBaseUpdate=re,b.lastBaseUpdate=ve,c=b.shared.interleaved,c!==null){b=c;do A|=b.lane,b=b.next;while(b!==c)}else k===null&&(b.shared.lanes=0);Ro|=A,a.lanes=A,a.memoizedState=we}}function qf(a,c,g){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var y=a[c],b=y.callback;if(b!==null){if(y.callback=null,y=g,typeof b!="function")throw Error(t(191,b));b.call(y)}}}var Fc={},ps=Ar(Fc),Bc=Ar(Fc),El=Ar(Fc);function Ws(a){if(a===Fc)throw Error(t(174));return a}function Jf(a,c){switch(zt(El,c),zt(Bc,a),zt(ps,Fc),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Er(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Er(c,a)}Wt(ps),zt(ps,c)}function Oo(){Wt(ps),Wt(Bc),Wt(El)}function Qf(a){Ws(El.current);var c=Ws(ps.current),g=Er(c,a.type);c!==g&&(zt(Bc,a),zt(ps,g))}function Oh(a){Bc.current===a&&(Wt(ps),Wt(Bc))}var Kt=Ar(0);function wa(a){for(var c=a;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Zf=[];function Mh(){for(var a=0;a<Zf.length;a++)Zf[a]._workInProgressVersionPrimary=null;Zf.length=0}var jc=F.ReactCurrentDispatcher,ep=F.ReactCurrentBatchConfig,Mo=0,Qt=null,an=null,xn=null,Ol=!1,zc=!1,ba=0,at=0;function Zn(){throw Error(t(321))}function tp(a,c){if(c===null)return!1;for(var g=0;g<c.length&&g<a.length;g++)if(!ne(a[g],c[g]))return!1;return!0}function Ca(a,c,g,y,b,k){if(Mo=k,Qt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,jc.current=a===null||a.memoizedState===null?nx:Lh,a=g(y,b),zc){k=0;do{if(zc=!1,ba=0,25<=k)throw Error(t(301));k+=1,xn=an=null,c.updateQueue=null,jc.current=Rl,a=g(y,b)}while(zc)}if(jc.current=Nh,c=an!==null&&an.next!==null,Mo=0,xn=an=Qt=null,Ol=!1,c)throw Error(t(300));return a}function Ah(){var a=ba!==0;return ba=0,a}function gs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Qt.memoizedState=xn=a:xn=xn.next=a,xn}function vi(){if(an===null){var a=Qt.alternate;a=a!==null?a.memoizedState:null}else a=an.next;var c=xn===null?Qt.memoizedState:xn.next;if(c!==null)xn=c,an=a;else{if(a===null)throw Error(t(310));an=a,a={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},xn===null?Qt.memoizedState=xn=a:xn=xn.next=a}return xn}function er(a,c){return typeof c=="function"?c(a):c}function np(a){var c=vi(),g=c.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var y=an,b=y.baseQueue,k=g.pending;if(k!==null){if(b!==null){var A=b.next;b.next=k.next,k.next=A}y.baseQueue=b=k,g.pending=null}if(b!==null){k=b.next,y=y.baseState;var B=A=null,H=null,re=k;do{var ve=re.lane;if((Mo&ve)===ve)H!==null&&(H=H.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),y=re.hasEagerState?re.eagerState:a(y,re.action);else{var we={lane:ve,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};H===null?(B=H=we,A=y):H=H.next=we,Qt.lanes|=ve,Ro|=ve}re=re.next}while(re!==null&&re!==k);H===null?A=y:H.next=B,ne(y,c.memoizedState)||(gr=!0),c.memoizedState=y,c.baseState=A,c.baseQueue=H,g.lastRenderedState=y}if(a=g.interleaved,a!==null){b=a;do k=b.lane,Qt.lanes|=k,Ro|=k,b=b.next;while(b!==a)}else b===null&&(g.lanes=0);return[c.memoizedState,g.dispatch]}function Ml(a){var c=vi(),g=c.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var y=g.dispatch,b=g.pending,k=c.memoizedState;if(b!==null){g.pending=null;var A=b=b.next;do k=a(k,A.action),A=A.next;while(A!==b);ne(k,c.memoizedState)||(gr=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),g.lastRenderedState=k}return[k,y]}function Ph(){}function rp(a,c){var g=Qt,y=vi(),b=c(),k=!ne(y.memoizedState,b);if(k&&(y.memoizedState=b,gr=!0),y=y.queue,ms(Hs.bind(null,g,y,a),[a]),y.getSnapshot!==c||k||xn!==null&&xn.memoizedState.tag&1){if(g.flags|=2048,Al(9,Ir.bind(null,g,y,b,c),void 0,null),On===null)throw Error(t(349));Mo&30||ip(g,c,b)}return b}function ip(a,c,g){a.flags|=16384,a={getSnapshot:c,value:g},c=Qt.updateQueue,c===null?(c={lastEffect:null,stores:null},Qt.updateQueue=c,c.stores=[a]):(g=c.stores,g===null?c.stores=[a]:g.push(a))}function Ir(a,c,g,y){c.value=g,c.getSnapshot=y,Rh(c)&&sp(a)}function Hs(a,c,g){return g(function(){Rh(c)&&sp(a)})}function Rh(a){var c=a.getSnapshot;a=a.value;try{var g=c();return!ne(a,g)}catch{return!0}}function sp(a){var c=zs(a,1);c!==null&&Vi(c,a,1,-1)}function $c(a){var c=gs();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},c.queue=a,a=a.dispatch=o0.bind(null,Qt,a),[c.memoizedState,a]}function Al(a,c,g,y){return a={tag:a,create:c,destroy:g,deps:y,next:null},c=Qt.updateQueue,c===null?(c={lastEffect:null,stores:null},Qt.updateQueue=c,c.lastEffect=a.next=a):(g=c.lastEffect,g===null?c.lastEffect=a.next=a:(y=g.next,g.next=a,a.next=y,c.lastEffect=a)),a}function Dh(){return vi().memoizedState}function Wc(a,c,g,y){var b=gs();Qt.flags|=a,b.memoizedState=Al(1|c,g,void 0,y===void 0?null:y)}function Pl(a,c,g,y){var b=vi();y=y===void 0?null:y;var k=void 0;if(an!==null){var A=an.memoizedState;if(k=A.destroy,y!==null&&tp(y,A.deps)){b.memoizedState=Al(c,g,k,y);return}}Qt.flags|=a,b.memoizedState=Al(1|c,g,k,y)}function Ih(a,c){return Wc(8390656,8,a,c)}function ms(a,c){return Pl(2048,8,a,c)}function t0(a,c){return Pl(4,2,a,c)}function Vs(a,c){return Pl(4,4,a,c)}function op(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function ap(a,c,g){return g=g!=null?g.concat([a]):null,Pl(4,4,op.bind(null,c,a),g)}function Hc(){}function n0(a,c){var g=vi();c=c===void 0?null:c;var y=g.memoizedState;return y!==null&&c!==null&&tp(c,y[1])?y[0]:(g.memoizedState=[a,c],a)}function r0(a,c){var g=vi();c=c===void 0?null:c;var y=g.memoizedState;return y!==null&&c!==null&&tp(c,y[1])?y[0]:(a=a(),g.memoizedState=[a,c],a)}function i0(a,c,g){return Mo&21?(ne(g,c)||(g=bf(),Qt.lanes|=g,Ro|=g,a.baseState=!0),c):(a.baseState&&(a.baseState=!1,gr=!0),a.memoizedState=g)}function s0(a,c){var g=_t;_t=g!==0&&4>g?g:4,a(!0);var y=ep.transition;ep.transition={};try{a(!1),c()}finally{_t=g,ep.transition=y}}function lp(){return vi().memoizedState}function tx(a,c,g){var y=No(a);if(g={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null},cp(a))pr(c,g);else if(g=kh(a,c,g,y),g!==null){var b=vr();Vi(g,a,y,b),ji(g,c,y)}}function o0(a,c,g){var y=No(a),b={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null};if(cp(a))pr(c,b);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var A=c.lastRenderedState,B=k(A,g);if(b.hasEagerState=!0,b.eagerState=B,ne(B,A)){var H=c.interleaved;H===null?(b.next=b,Kf(c)):(b.next=H.next,H.next=b),c.interleaved=b;return}}catch{}finally{}g=kh(a,c,b,y),g!==null&&(b=vr(),Vi(g,a,y,b),ji(g,c,y))}}function cp(a){var c=a.alternate;return a===Qt||c!==null&&c===Qt}function pr(a,c){zc=Ol=!0;var g=a.pending;g===null?c.next=c:(c.next=g.next,g.next=c),a.pending=c}function ji(a,c,g){if(g&4194240){var y=c.lanes;y&=a.pendingLanes,g|=y,c.lanes=g,vc(a,g)}}var Nh={readContext:gi,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},nx={readContext:gi,useCallback:function(a,c){return gs().memoizedState=[a,c===void 0?null:c],a},useContext:gi,useEffect:Ih,useImperativeHandle:function(a,c,g){return g=g!=null?g.concat([a]):null,Wc(4194308,4,op.bind(null,c,a),g)},useLayoutEffect:function(a,c){return Wc(4194308,4,a,c)},useInsertionEffect:function(a,c){return Wc(4,2,a,c)},useMemo:function(a,c){var g=gs();return c=c===void 0?null:c,a=a(),g.memoizedState=[a,c],a},useReducer:function(a,c,g){var y=gs();return c=g!==void 0?g(c):c,y.memoizedState=y.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},y.queue=a,a=a.dispatch=tx.bind(null,Qt,a),[y.memoizedState,a]},useRef:function(a){var c=gs();return a={current:a},c.memoizedState=a},useState:$c,useDebugValue:Hc,useDeferredValue:function(a){return gs().memoizedState=a},useTransition:function(){var a=$c(!1),c=a[0];return a=s0.bind(null,a[1]),gs().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,g){var y=Qt,b=gs();if(Ht){if(g===void 0)throw Error(t(407));g=g()}else{if(g=c(),On===null)throw Error(t(349));Mo&30||ip(y,c,g)}b.memoizedState=g;var k={value:g,getSnapshot:c};return b.queue=k,Ih(Hs.bind(null,y,k,a),[a]),y.flags|=2048,Al(9,Ir.bind(null,y,k,g,c),void 0,null),g},useId:function(){var a=gs(),c=On.identifierPrefix;if(Ht){var g=us,y=cs;g=(y&~(1<<32-Li(y)-1)).toString(32)+g,c=":"+c+"R"+g,g=ba++,0<g&&(c+="H"+g.toString(32)),c+=":"}else g=at++,c=":"+c+"r"+g.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},Lh={readContext:gi,useCallback:n0,useContext:gi,useEffect:ms,useImperativeHandle:ap,useInsertionEffect:t0,useLayoutEffect:Vs,useMemo:r0,useReducer:np,useRef:Dh,useState:function(){return np(er)},useDebugValue:Hc,useDeferredValue:function(a){var c=vi();return i0(c,an.memoizedState,a)},useTransition:function(){var a=np(er)[0],c=vi().memoizedState;return[a,c]},useMutableSource:Ph,useSyncExternalStore:rp,useId:lp,unstable_isNewReconciler:!1},Rl={readContext:gi,useCallback:n0,useContext:gi,useEffect:ms,useImperativeHandle:ap,useInsertionEffect:t0,useLayoutEffect:Vs,useMemo:r0,useReducer:Ml,useRef:Dh,useState:function(){return Ml(er)},useDebugValue:Hc,useDeferredValue:function(a){var c=vi();return an===null?c.memoizedState=a:i0(c,an.memoizedState,a)},useTransition:function(){var a=Ml(er)[0],c=vi().memoizedState;return[a,c]},useMutableSource:Ph,useSyncExternalStore:rp,useId:lp,unstable_isNewReconciler:!1};function xi(a,c){if(a&&a.defaultProps){c=ye({},c),a=a.defaultProps;for(var g in a)c[g]===void 0&&(c[g]=a[g]);return c}return c}function Fh(a,c,g,y){c=a.memoizedState,g=g(y,c),g=g==null?c:ye({},c,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var Bh={isMounted:function(a){return(a=a._reactInternals)?oa(a)===a:!1},enqueueSetState:function(a,c,g){a=a._reactInternals;var y=vr(),b=No(a),k=$s(y,b);k.payload=c,g!=null&&(k.callback=g),c=yi(a,k,b),c!==null&&(Vi(c,a,b,y),Eh(c,a,b))},enqueueReplaceState:function(a,c,g){a=a._reactInternals;var y=vr(),b=No(a),k=$s(y,b);k.tag=1,k.payload=c,g!=null&&(k.callback=g),c=yi(a,k,b),c!==null&&(Vi(c,a,b,y),Eh(c,a,b))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var g=vr(),y=No(a),b=$s(g,y);b.tag=2,c!=null&&(b.callback=c),c=yi(a,b,y),c!==null&&(Vi(c,a,y,g),Eh(c,a,y))}};function up(a,c,g,y,b,k,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,k,A):c.prototype&&c.prototype.isPureReactComponent?!Ae(g,y)||!Ae(b,k):!0}function _a(a,c,g){var y=!1,b=_o,k=c.contextType;return typeof k=="object"&&k!==null?k=gi(k):(b=Rr(c)?fr:qn.current,y=c.contextTypes,k=(y=y!=null)?Cl(a,b):_o),c=new c(g,k),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Bh,a.stateNode=c,c._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=k),c}function Dl(a,c,g,y){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,y),c.state!==a&&Bh.enqueueReplaceState(c,c.state,null)}function hp(a,c,g,y){var b=a.stateNode;b.props=g,b.state=a.memoizedState,b.refs={},Th(a);var k=c.contextType;typeof k=="object"&&k!==null?b.context=gi(k):(k=Rr(c)?fr:qn.current,b.context=Cl(a,k)),b.state=a.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Fh(a,c,k,g),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&Bh.enqueueReplaceState(b,b.state,null),Tl(a,g,b,y),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function ka(a,c){try{var g="",y=c;do g+=Oe(y),y=y.return;while(y);var b=g}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:a,source:c,stack:b,digest:null}}function jh(a,c,g){return{value:a,source:null,stack:g??null,digest:c??null}}function Il(a,c){try{console.error(c.value)}catch(g){setTimeout(function(){throw g})}}var a0=typeof WeakMap=="function"?WeakMap:Map;function Vc(a,c,g){g=$s(-1,g),g.tag=3,g.payload={element:null};var y=c.value;return g.callback=function(){qh||(qh=!0,Ep=y),Il(a,c)},g}function zh(a,c,g){g=$s(-1,g),g.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var b=c.value;g.payload=function(){return y(b)},g.callback=function(){Il(a,c)}}var k=a.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(g.callback=function(){Il(a,c),typeof y!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})}),g}function Uc(a,c,g){var y=a.pingCache;if(y===null){y=a.pingCache=new a0;var b=new Set;y.set(c,b)}else b=y.get(c),b===void 0&&(b=new Set,y.set(c,b));b.has(g)||(b.add(g),a=ux.bind(null,a,c,g),c.then(a,a))}function l0(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function dp(a,c,g,y,b){return a.mode&1?(a.flags|=65536,a.lanes=b,a):(a===c?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(c=$s(-1,1),c.tag=2,yi(g,c,1))),g.lanes|=1),a)}var $h=F.ReactCurrentOwner,gr=!1;function Fn(a,c,g,y){c.child=a===null?Ch(c,null,g,y):tn(c,a.child,g,y)}function c0(a,c,g,y,b){g=g.render;var k=c.ref;return Eo(c,b),y=Ca(a,c,g,y,k,b),g=Ah(),a!==null&&!gr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~b,zi(a,c,b)):(Ht&&g&&Dc(c),c.flags|=1,Fn(a,c,y,b),c.child)}function fp(a,c,g,y,b){if(a===null){var k=g.type;return typeof k=="function"&&!nd(k)&&k.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(c.tag=15,c.type=k,ys(a,c,k,y,b)):(a=rd(g.type,null,y,c,c.mode,b),a.ref=c.ref,a.return=c,c.child=a)}if(k=a.child,!(a.lanes&b)){var A=k.memoizedProps;if(g=g.compare,g=g!==null?g:Ae,g(A,y)&&a.ref===c.ref)return zi(a,c,b)}return c.flags|=1,a=Ui(k,y),a.ref=c.ref,a.return=c,c.child=a}function ys(a,c,g,y,b){if(a!==null){var k=a.memoizedProps;if(Ae(k,y)&&a.ref===c.ref)if(gr=!1,c.pendingProps=y=k,(a.lanes&b)!==0)a.flags&131072&&(gr=!0);else return c.lanes=a.lanes,zi(a,c,b)}return mp(a,c,g,y,b)}function pp(a,c,g){var y=c.pendingProps,b=y.children,k=a!==null?a.memoizedState:null;if(y.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Bl,ei),ei|=g;else{if(!(g&1073741824))return a=k!==null?k.baseLanes|g:g,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,zt(Bl,ei),ei|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=k!==null?k.baseLanes:g,zt(Bl,ei),ei|=y}else k!==null?(y=k.baseLanes|g,c.memoizedState=null):y=g,zt(Bl,ei),ei|=y;return Fn(a,c,b,g),c.child}function gp(a,c){var g=c.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(c.flags|=512,c.flags|=2097152)}function mp(a,c,g,y,b){var k=Rr(g)?fr:qn.current;return k=Cl(c,k),Eo(c,b),g=Ca(a,c,g,y,k,b),y=Ah(),a!==null&&!gr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~b,zi(a,c,b)):(Ht&&y&&Dc(c),c.flags|=1,Fn(a,c,g,b),c.child)}function yp(a,c,g,y,b){if(Rr(g)){var k=!0;di(c)}else k=!1;if(Eo(c,b),c.stateNode===null)Hh(a,c),_a(c,g,y),hp(c,g,y,b),y=!0;else if(a===null){var A=c.stateNode,B=c.memoizedProps;A.props=B;var H=A.context,re=g.contextType;typeof re=="object"&&re!==null?re=gi(re):(re=Rr(g)?fr:qn.current,re=Cl(c,re));var ve=g.getDerivedStateFromProps,we=typeof ve=="function"||typeof A.getSnapshotBeforeUpdate=="function";we||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==y||H!==re)&&Dl(c,A,y,re),mi=!1;var me=c.memoizedState;A.state=me,Tl(c,y,A,b),H=c.memoizedState,B!==y||me!==H||Pr.current||mi?(typeof ve=="function"&&(Fh(c,g,ve,y),H=c.memoizedState),(B=mi||up(c,g,B,y,me,H,re))?(we||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=H),A.props=y,A.state=H,A.context=re,y=B):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{A=c.stateNode,Zm(a,c),B=c.memoizedProps,re=c.type===c.elementType?B:xi(c.type,B),A.props=re,we=c.pendingProps,me=A.context,H=g.contextType,typeof H=="object"&&H!==null?H=gi(H):(H=Rr(g)?fr:qn.current,H=Cl(c,H));var Pe=g.getDerivedStateFromProps;(ve=typeof Pe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==we||me!==H)&&Dl(c,A,y,H),mi=!1,me=c.memoizedState,A.state=me,Tl(c,y,A,b);var Ne=c.memoizedState;B!==we||me!==Ne||Pr.current||mi?(typeof Pe=="function"&&(Fh(c,g,Pe,y),Ne=c.memoizedState),(re=mi||up(c,g,re,y,me,Ne,H)||!1)?(ve||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(y,Ne,H),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(y,Ne,H)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||B===a.memoizedProps&&me===a.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&me===a.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=Ne),A.props=y,A.state=Ne,A.context=H,y=re):(typeof A.componentDidUpdate!="function"||B===a.memoizedProps&&me===a.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&me===a.memoizedState||(c.flags|=1024),y=!1)}return vp(a,c,g,y,k,b)}function vp(a,c,g,y,b,k){gp(a,c);var A=(c.flags&128)!==0;if(!y&&!A)return b&&Xm(c,g,!1),zi(a,c,k);y=c.stateNode,$h.current=c;var B=A&&typeof g.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,a!==null&&A?(c.child=tn(c,a.child,null,k),c.child=tn(c,null,B,k)):Fn(a,c,B,k),c.memoizedState=y.state,b&&Xm(c,g,!0),c.child}function u0(a){var c=a.stateNode;c.pendingContext?Um(a,c.pendingContext,c.pendingContext!==c.context):c.context&&Um(a,c.context,!1),Jf(a,c.containerInfo)}function vs(a,c,g,y,b){return ds(),fs(b),c.flags|=256,Fn(a,c,g,y),c.child}var Gc={dehydrated:null,treeContext:null,retryLane:0};function Xc(a){return{baseLanes:a,cachePool:null,transitions:null}}function Wh(a,c,g){var y=c.pendingProps,b=Kt.current,k=!1,A=(c.flags&128)!==0,B;if((B=A)||(B=a!==null&&a.memoizedState===null?!1:(b&2)!==0),B?(k=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),zt(Kt,b&1),a===null)return Dr(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(c.mode&1?a.data==="$!"?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(A=y.children,a=y.fallback,k?(y=c.mode,k=c.child,A={mode:"hidden",children:A},!(y&1)&&k!==null?(k.childLanes=0,k.pendingProps=A):k=id(A,y,0,null),a=Aa(a,y,g,null),k.return=c,a.return=c,k.sibling=a,c.child=k,c.child.memoizedState=Xc(g),c.memoizedState=Gc,a):Nl(c,A));if(b=a.memoizedState,b!==null&&(B=b.dehydrated,B!==null))return Xe(a,c,A,y,B,b,g);if(k){k=y.fallback,A=c.mode,b=a.child,B=b.sibling;var H={mode:"hidden",children:y.children};return!(A&1)&&c.child!==b?(y=c.child,y.childLanes=0,y.pendingProps=H,c.deletions=null):(y=Ui(b,H),y.subtreeFlags=b.subtreeFlags&14680064),B!==null?k=Ui(B,k):(k=Aa(k,A,g,null),k.flags|=2),k.return=c,y.return=c,y.sibling=k,c.child=y,y=k,k=c.child,A=a.child.memoizedState,A=A===null?Xc(g):{baseLanes:A.baseLanes|g,cachePool:null,transitions:A.transitions},k.memoizedState=A,k.childLanes=a.childLanes&~g,c.memoizedState=Gc,y}return k=a.child,a=k.sibling,y=Ui(k,{mode:"visible",children:y.children}),!(c.mode&1)&&(y.lanes=g),y.return=c,y.sibling=null,a!==null&&(g=c.deletions,g===null?(c.deletions=[a],c.flags|=16):g.push(a)),c.child=y,c.memoizedState=null,y}function Nl(a,c){return c=id({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Us(a,c,g,y){return y!==null&&fs(y),tn(c,a.child,null,g),a=Nl(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function Xe(a,c,g,y,b,k,A){if(g)return c.flags&256?(c.flags&=-257,y=jh(Error(t(422))),Us(a,c,A,y)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(k=y.fallback,b=c.mode,y=id({mode:"visible",children:y.children},b,0,null),k=Aa(k,b,A,null),k.flags|=2,y.return=c,k.return=c,y.sibling=k,c.child=y,c.mode&1&&tn(c,a.child,null,A),c.child.memoizedState=Xc(A),c.memoizedState=Gc,k);if(!(c.mode&1))return Us(a,c,A,null);if(b.data==="$!"){if(y=b.nextSibling&&b.nextSibling.dataset,y)var B=y.dgst;return y=B,k=Error(t(419)),y=jh(k,y,void 0),Us(a,c,A,y)}if(B=(A&a.childLanes)!==0,gr||B){if(y=On,y!==null){switch(A&-A){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=b&(y.suspendedLanes|A)?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,zs(a,b),Vi(y,a,b,-1))}return Dp(),y=jh(Error(t(421))),Us(a,c,A,y)}return b.data==="$?"?(c.flags|=128,c.child=a.child,c=hx.bind(null,a),b._reactRetry=c,null):(a=k.treeContext,Jr=bo(b.nextSibling),Qn=c,Ht=!0,Bi=null,a!==null&&(fi[pi++]=cs,fi[pi++]=us,fi[pi++]=ma,cs=a.id,us=a.overflow,ma=c),c=Nl(c,y.children),c.flags|=4096,c)}function Yc(a,c,g){a.lanes|=c;var y=a.alternate;y!==null&&(y.lanes|=c),Ln(a.return,c,g)}function Kc(a,c,g,y,b){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:g,tailMode:b}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=y,k.tail=g,k.tailMode=b)}function Ao(a,c,g){var y=c.pendingProps,b=y.revealOrder,k=y.tail;if(Fn(a,c,y.children,g),y=Kt.current,y&2)y=y&1|2,c.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Yc(a,g,c);else if(a.tag===19)Yc(a,g,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(zt(Kt,y),!(c.mode&1))c.memoizedState=null;else switch(b){case"forwards":for(g=c.child,b=null;g!==null;)a=g.alternate,a!==null&&wa(a)===null&&(b=g),g=g.sibling;g=b,g===null?(b=c.child,c.child=null):(b=g.sibling,g.sibling=null),Kc(c,!1,b,g,k);break;case"backwards":for(g=null,b=c.child,c.child=null;b!==null;){if(a=b.alternate,a!==null&&wa(a)===null){c.child=b;break}a=b.sibling,b.sibling=g,g=b,b=a}Kc(c,!0,g,null,k);break;case"together":Kc(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Hh(a,c){!(c.mode&1)&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function zi(a,c,g){if(a!==null&&(c.dependencies=a.dependencies),Ro|=c.lanes,!(g&c.childLanes))return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,g=Ui(a,a.pendingProps),c.child=g,g.return=c;a.sibling!==null;)a=a.sibling,g=g.sibling=Ui(a,a.pendingProps),g.return=c;g.sibling=null}return c.child}function h0(a,c,g){switch(c.tag){case 3:u0(c),ds();break;case 5:Qf(c);break;case 1:Rr(c.type)&&di(c);break;case 4:Jf(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,b=c.memoizedProps.value;zt(Lc,y._currentValue),y._currentValue=b;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(zt(Kt,Kt.current&1),c.flags|=128,null):g&c.child.childLanes?Wh(a,c,g):(zt(Kt,Kt.current&1),a=zi(a,c,g),a!==null?a.sibling:null);zt(Kt,Kt.current&1);break;case 19:if(y=(g&c.childLanes)!==0,a.flags&128){if(y)return Ao(a,c,g);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),zt(Kt,Kt.current),y)break;return null;case 22:case 23:return c.lanes=0,pp(a,c,g)}return zi(a,c,g)}var Bn,xp,d0,Sp;Bn=function(a,c){for(var g=c.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},xp=function(){},d0=function(a,c,g,y){var b=a.memoizedProps;if(b!==y){a=c.stateNode,Ws(ps.current);var k=null;switch(g){case"input":b=tt(a,b),y=tt(a,y),k=[];break;case"select":b=ye({},b,{value:void 0}),y=ye({},y,{value:void 0}),k=[];break;case"textarea":b=cr(a,b),y=cr(a,y),k=[];break;default:typeof b.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=ph)}Jt(g,y);var A;g=null;for(re in b)if(!y.hasOwnProperty(re)&&b.hasOwnProperty(re)&&b[re]!=null)if(re==="style"){var B=b[re];for(A in B)B.hasOwnProperty(A)&&(g||(g={}),g[A]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?k||(k=[]):(k=k||[]).push(re,null));for(re in y){var H=y[re];if(B=b!=null?b[re]:void 0,y.hasOwnProperty(re)&&H!==B&&(H!=null||B!=null))if(re==="style")if(B){for(A in B)!B.hasOwnProperty(A)||H&&H.hasOwnProperty(A)||(g||(g={}),g[A]="");for(A in H)H.hasOwnProperty(A)&&B[A]!==H[A]&&(g||(g={}),g[A]=H[A])}else g||(k||(k=[]),k.push(re,g)),g=H;else re==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(k=k||[]).push(re,H)):re==="children"?typeof H!="string"&&typeof H!="number"||(k=k||[]).push(re,""+H):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?(H!=null&&re==="onScroll"&&$t("scroll",a),k||B===H||(k=[])):(k=k||[]).push(re,H))}g&&(k=k||[]).push("style",g);var re=k;(c.updateQueue=re)&&(c.flags|=4)}},Sp=function(a,c,g,y){g!==y&&(c.flags|=4)};function qc(a,c){if(!Ht)switch(a.tailMode){case"hidden":c=a.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var y=null;g!==null;)g.alternate!==null&&(y=g),g=g.sibling;y===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function jn(a){var c=a.alternate!==null&&a.alternate.child===a.child,g=0,y=0;if(c)for(var b=a.child;b!==null;)g|=b.lanes|b.childLanes,y|=b.subtreeFlags&14680064,y|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)g|=b.lanes|b.childLanes,y|=b.subtreeFlags,y|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=y,a.childLanes=g,c}function rx(a,c,g){var y=c.pendingProps;switch(va(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(c),null;case 1:return Rr(c.type)&&vh(),jn(c),null;case 3:return y=c.stateNode,Oo(),Wt(Pr),Wt(qn),Mh(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(Ic(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,Bi!==null&&(Ap(Bi),Bi=null))),xp(a,c),jn(c),null;case 5:Oh(c);var b=Ws(El.current);if(g=c.type,a!==null&&c.stateNode!=null)d0(a,c,g,y,b),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(t(166));return jn(c),null}if(a=Ws(ps.current),Ic(c)){y=c.stateNode,g=c.type;var k=c.memoizedProps;switch(y[as]=c,y[Co]=k,a=(c.mode&1)!==0,g){case"dialog":$t("cancel",y),$t("close",y);break;case"iframe":case"object":case"embed":$t("load",y);break;case"video":case"audio":for(b=0;b<Ls.length;b++)$t(Ls[b],y);break;case"source":$t("error",y);break;case"img":case"image":case"link":$t("error",y),$t("load",y);break;case"details":$t("toggle",y);break;case"input":Tt(y,k),$t("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!k.multiple},$t("invalid",y);break;case"textarea":Tr(y,k),$t("invalid",y)}Jt(g,k),b=null;for(var A in k)if(k.hasOwnProperty(A)){var B=k[A];A==="children"?typeof B=="string"?y.textContent!==B&&(k.suppressHydrationWarning!==!0&&Mc(y.textContent,B,a),b=["children",B]):typeof B=="number"&&y.textContent!==""+B&&(k.suppressHydrationWarning!==!0&&Mc(y.textContent,B,a),b=["children",""+B]):i.hasOwnProperty(A)&&B!=null&&A==="onScroll"&&$t("scroll",y)}switch(g){case"input":pt(y),Gn(y,k,!0);break;case"textarea":pt(y),ts(y);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(y.onclick=ph)}y=b,c.updateQueue=y,y!==null&&(c.flags|=4)}else{A=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ps(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=A.createElement(g,{is:y.is}):(a=A.createElement(g),g==="select"&&(A=a,y.multiple?A.multiple=!0:y.size&&(A.size=y.size))):a=A.createElementNS(a,g),a[as]=c,a[Co]=y,Bn(a,c,!1,!1),c.stateNode=a;e:{switch(A=ci(g,y),g){case"dialog":$t("cancel",a),$t("close",a),b=y;break;case"iframe":case"object":case"embed":$t("load",a),b=y;break;case"video":case"audio":for(b=0;b<Ls.length;b++)$t(Ls[b],a);b=y;break;case"source":$t("error",a),b=y;break;case"img":case"image":case"link":$t("error",a),$t("load",a),b=y;break;case"details":$t("toggle",a),b=y;break;case"input":Tt(a,y),b=tt(a,y),$t("invalid",a);break;case"option":b=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},b=ye({},y,{value:void 0}),$t("invalid",a);break;case"textarea":Tr(a,y),b=cr(a,y),$t("invalid",a);break;default:b=y}Jt(g,b),B=b;for(k in B)if(B.hasOwnProperty(k)){var H=B[k];k==="style"?He(a,H):k==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Xr(a,H)):k==="children"?typeof H=="string"?(g!=="textarea"||H!=="")&&Or(a,H):typeof H=="number"&&Or(a,""+H):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?H!=null&&k==="onScroll"&&$t("scroll",a):H!=null&&M(a,k,H,A))}switch(g){case"input":pt(a),Gn(a,y,!1);break;case"textarea":pt(a),ts(a);break;case"option":y.value!=null&&a.setAttribute("value",""+Ye(y.value));break;case"select":a.multiple=!!y.multiple,k=y.value,k!=null?ot(a,!!y.multiple,k,!1):y.defaultValue!=null&&ot(a,!!y.multiple,y.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=ph)}switch(g){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return jn(c),null;case 6:if(a&&c.stateNode!=null)Sp(a,c,a.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(t(166));if(g=Ws(El.current),Ws(ps.current),Ic(c)){if(y=c.stateNode,g=c.memoizedProps,y[as]=c,(k=y.nodeValue!==g)&&(a=Qn,a!==null))switch(a.tag){case 3:Mc(y.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Mc(y.nodeValue,g,(a.mode&1)!==0)}k&&(c.flags|=4)}else y=(g.nodeType===9?g:g.ownerDocument).createTextNode(y),y[as]=c,c.stateNode=y}return jn(c),null;case 13:if(Wt(Kt),y=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ht&&Jr!==null&&c.mode&1&&!(c.flags&128))Xf(),ds(),c.flags|=98560,k=!1;else if(k=Ic(c),y!==null&&y.dehydrated!==null){if(a===null){if(!k)throw Error(t(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(t(317));k[as]=c}else ds(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;jn(c),k=!1}else Bi!==null&&(Ap(Bi),Bi=null),k=!0;if(!k)return c.flags&65536?c:null}return c.flags&128?(c.lanes=g,c):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(c.child.flags|=8192,c.mode&1&&(a===null||Kt.current&1?Sn===0&&(Sn=3):Dp())),c.updateQueue!==null&&(c.flags|=4),jn(c),null);case 4:return Oo(),xp(a,c),a===null&&So(c.stateNode.containerInfo),jn(c),null;case 10:return _h(c.type._context),jn(c),null;case 17:return Rr(c.type)&&vh(),jn(c),null;case 19:if(Wt(Kt),k=c.memoizedState,k===null)return jn(c),null;if(y=(c.flags&128)!==0,A=k.rendering,A===null)if(y)qc(k,!1);else{if(Sn!==0||a!==null&&a.flags&128)for(a=c.child;a!==null;){if(A=wa(a),A!==null){for(c.flags|=128,qc(k,!1),y=A.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=g,g=c.child;g!==null;)k=g,a=y,k.flags&=14680066,A=k.alternate,A===null?(k.childLanes=0,k.lanes=a,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=A.childLanes,k.lanes=A.lanes,k.child=A.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=A.memoizedProps,k.memoizedState=A.memoizedState,k.updateQueue=A.updateQueue,k.type=A.type,a=A.dependencies,k.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return zt(Kt,Kt.current&1|2),c.child}a=a.sibling}k.tail!==null&&Xt()>Ta&&(c.flags|=128,y=!0,qc(k,!1),c.lanes=4194304)}else{if(!y)if(a=wa(A),a!==null){if(c.flags|=128,y=!0,g=a.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),qc(k,!0),k.tail===null&&k.tailMode==="hidden"&&!A.alternate&&!Ht)return jn(c),null}else 2*Xt()-k.renderingStartTime>Ta&&g!==1073741824&&(c.flags|=128,y=!0,qc(k,!1),c.lanes=4194304);k.isBackwards?(A.sibling=c.child,c.child=A):(g=k.last,g!==null?g.sibling=A:c.child=A,k.last=A)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=Xt(),c.sibling=null,g=Kt.current,zt(Kt,y?g&1|2:g&1),c):(jn(c),null);case 22:case 23:return Rp(),y=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(c.flags|=8192),y&&c.mode&1?ei&1073741824&&(jn(c),c.subtreeFlags&6&&(c.flags|=8192)):jn(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function ix(a,c){switch(va(c),c.tag){case 1:return Rr(c.type)&&vh(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Oo(),Wt(Pr),Wt(qn),Mh(),a=c.flags,a&65536&&!(a&128)?(c.flags=a&-65537|128,c):null;case 5:return Oh(c),null;case 13:if(Wt(Kt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));ds()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Wt(Kt),null;case 4:return Oo(),null;case 10:return _h(c.type._context),null;case 22:case 23:return Rp(),null;case 24:return null;default:return null}}var Vh=!1,qt=!1,mr=typeof WeakSet=="function"?WeakSet:Set,De=null;function Ll(a,c){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(y){Zt(a,c,y)}else g.current=null}function Jc(a,c,g){try{g()}catch(y){Zt(a,c,y)}}var f0=!1;function sx(a,c){if(Ac=qu,a=Rt(),Cc(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var y=g.getSelection&&g.getSelection();if(y&&y.rangeCount!==0){g=y.anchorNode;var b=y.anchorOffset,k=y.focusNode;y=y.focusOffset;try{g.nodeType,k.nodeType}catch{g=null;break e}var A=0,B=-1,H=-1,re=0,ve=0,we=a,me=null;t:for(;;){for(var Pe;we!==g||b!==0&&we.nodeType!==3||(B=A+b),we!==k||y!==0&&we.nodeType!==3||(H=A+y),we.nodeType===3&&(A+=we.nodeValue.length),(Pe=we.firstChild)!==null;)me=we,we=Pe;for(;;){if(we===a)break t;if(me===g&&++re===b&&(B=A),me===k&&++ve===y&&(H=A),(Pe=we.nextSibling)!==null)break;we=me,me=we.parentNode}we=Pe}g=B===-1||H===-1?null:{start:B,end:H}}else g=null}g=g||{start:0,end:0}}else g=null;for(pa={focusedElem:a,selectionRange:g},qu=!1,De=c;De!==null;)if(c=De,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,De=a;else for(;De!==null;){c=De;try{var Ne=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Fe=Ne.memoizedProps,ln=Ne.memoizedState,Q=c.stateNode,X=Q.getSnapshotBeforeUpdate(c.elementType===c.type?Fe:xi(c.type,Fe),ln);Q.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var Z=c.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ke){Zt(c,c.return,ke)}if(a=c.sibling,a!==null){a.return=c.return,De=a;break}De=c.return}return Ne=f0,f0=!1,Ne}function Gs(a,c,g){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var b=y=y.next;do{if((b.tag&a)===a){var k=b.destroy;b.destroy=void 0,k!==void 0&&Jc(c,g,k)}b=b.next}while(b!==y)}}function Qc(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var g=c=c.next;do{if((g.tag&a)===a){var y=g.create;g.destroy=y()}g=g.next}while(g!==c)}}function Uh(a){var c=a.ref;if(c!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof c=="function"?c(a):c.current=a}}function p0(a){var c=a.alternate;c!==null&&(a.alternate=null,p0(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[as],delete c[Co],delete c[mh],delete c[D],delete c[wl])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function g0(a){return a.tag===5||a.tag===3||a.tag===4}function m0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||g0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function wp(a,c,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?g.nodeType===8?g.parentNode.insertBefore(a,c):g.insertBefore(a,c):(g.nodeType===8?(c=g.parentNode,c.insertBefore(a,g)):(c=g,c.appendChild(a)),g=g._reactRootContainer,g!=null||c.onclick!==null||(c.onclick=ph));else if(y!==4&&(a=a.child,a!==null))for(wp(a,c,g),a=a.sibling;a!==null;)wp(a,c,g),a=a.sibling}function Gh(a,c,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?g.insertBefore(a,c):g.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(Gh(a,c,g),a=a.sibling;a!==null;)Gh(a,c,g),a=a.sibling}var En=null,$i=!1;function xs(a,c,g){for(g=g.child;g!==null;)bp(a,c,g),g=g.sibling}function bp(a,c,g){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(Vu,g)}catch{}switch(g.tag){case 5:qt||Ll(g,c);case 6:var y=En,b=$i;En=null,xs(a,c,g),En=y,$i=b,En!==null&&($i?(a=En,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):En.removeChild(g.stateNode));break;case 18:En!==null&&($i?(a=En,g=g.stateNode,a.nodeType===8?Vf(a.parentNode,g):a.nodeType===1&&Vf(a,g),Et(a)):Vf(En,g.stateNode));break;case 4:y=En,b=$i,En=g.stateNode.containerInfo,$i=!0,xs(a,c,g),En=y,$i=b;break;case 0:case 11:case 14:case 15:if(!qt&&(y=g.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){b=y=y.next;do{var k=b,A=k.destroy;k=k.tag,A!==void 0&&(k&2||k&4)&&Jc(g,c,A),b=b.next}while(b!==y)}xs(a,c,g);break;case 1:if(!qt&&(Ll(g,c),y=g.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=g.memoizedProps,y.state=g.memoizedState,y.componentWillUnmount()}catch(B){Zt(g,c,B)}xs(a,c,g);break;case 21:xs(a,c,g);break;case 22:g.mode&1?(qt=(y=qt)||g.memoizedState!==null,xs(a,c,g),qt=y):xs(a,c,g);break;default:xs(a,c,g)}}function Fl(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new mr),c.forEach(function(y){var b=dx.bind(null,a,y);g.has(y)||(g.add(y),y.then(b,b))})}}function Zr(a,c){var g=c.deletions;if(g!==null)for(var y=0;y<g.length;y++){var b=g[y];try{var k=a,A=c,B=A;e:for(;B!==null;){switch(B.tag){case 5:En=B.stateNode,$i=!1;break e;case 3:En=B.stateNode.containerInfo,$i=!0;break e;case 4:En=B.stateNode.containerInfo,$i=!0;break e}B=B.return}if(En===null)throw Error(t(160));bp(k,A,b),En=null,$i=!1;var H=b.alternate;H!==null&&(H.return=null),b.return=null}catch(re){Zt(b,c,re)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Cp(c,a),c=c.sibling}function Cp(a,c){var g=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Zr(c,a),Wi(a),y&4){try{Gs(3,a,a.return),Qc(3,a)}catch(Fe){Zt(a,a.return,Fe)}try{Gs(5,a,a.return)}catch(Fe){Zt(a,a.return,Fe)}}break;case 1:Zr(c,a),Wi(a),y&512&&g!==null&&Ll(g,g.return);break;case 5:if(Zr(c,a),Wi(a),y&512&&g!==null&&Ll(g,g.return),a.flags&32){var b=a.stateNode;try{Or(b,"")}catch(Fe){Zt(a,a.return,Fe)}}if(y&4&&(b=a.stateNode,b!=null)){var k=a.memoizedProps,A=g!==null?g.memoizedProps:k,B=a.type,H=a.updateQueue;if(a.updateQueue=null,H!==null)try{B==="input"&&k.type==="radio"&&k.name!=null&&Gr(b,k),ci(B,A);var re=ci(B,k);for(A=0;A<H.length;A+=2){var ve=H[A],we=H[A+1];ve==="style"?He(b,we):ve==="dangerouslySetInnerHTML"?Xr(b,we):ve==="children"?Or(b,we):M(b,ve,we,re)}switch(B){case"input":en(b,k);break;case"textarea":Nn(b,k);break;case"select":var me=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var Pe=k.value;Pe!=null?ot(b,!!k.multiple,Pe,!1):me!==!!k.multiple&&(k.defaultValue!=null?ot(b,!!k.multiple,k.defaultValue,!0):ot(b,!!k.multiple,k.multiple?[]:"",!1))}b[Co]=k}catch(Fe){Zt(a,a.return,Fe)}}break;case 6:if(Zr(c,a),Wi(a),y&4){if(a.stateNode===null)throw Error(t(162));b=a.stateNode,k=a.memoizedProps;try{b.nodeValue=k}catch(Fe){Zt(a,a.return,Fe)}}break;case 3:if(Zr(c,a),Wi(a),y&4&&g!==null&&g.memoizedState.isDehydrated)try{Et(c.containerInfo)}catch(Fe){Zt(a,a.return,Fe)}break;case 4:Zr(c,a),Wi(a);break;case 13:Zr(c,a),Wi(a),b=a.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(Tp=Xt())),y&4&&Fl(a);break;case 22:if(ve=g!==null&&g.memoizedState!==null,a.mode&1?(qt=(re=qt)||ve,Zr(c,a),qt=re):Zr(c,a),Wi(a),y&8192){if(re=a.memoizedState!==null,(a.stateNode.isHidden=re)&&!ve&&a.mode&1)for(De=a,ve=a.child;ve!==null;){for(we=De=ve;De!==null;){switch(me=De,Pe=me.child,me.tag){case 0:case 11:case 14:case 15:Gs(4,me,me.return);break;case 1:Ll(me,me.return);var Ne=me.stateNode;if(typeof Ne.componentWillUnmount=="function"){y=me,g=me.return;try{c=y,Ne.props=c.memoizedProps,Ne.state=c.memoizedState,Ne.componentWillUnmount()}catch(Fe){Zt(y,g,Fe)}}break;case 5:Ll(me,me.return);break;case 22:if(me.memoizedState!==null){Po(we);continue}}Pe!==null?(Pe.return=me,De=Pe):Po(we)}ve=ve.sibling}e:for(ve=null,we=a;;){if(we.tag===5){if(ve===null){ve=we;try{b=we.stateNode,re?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(B=we.stateNode,H=we.memoizedProps.style,A=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=ns("display",A))}catch(Fe){Zt(a,a.return,Fe)}}}else if(we.tag===6){if(ve===null)try{we.stateNode.nodeValue=re?"":we.memoizedProps}catch(Fe){Zt(a,a.return,Fe)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===a)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===a)break e;for(;we.sibling===null;){if(we.return===null||we.return===a)break e;ve===we&&(ve=null),we=we.return}ve===we&&(ve=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:Zr(c,a),Wi(a),y&4&&Fl(a);break;case 21:break;default:Zr(c,a),Wi(a)}}function Wi(a){var c=a.flags;if(c&2){try{e:{for(var g=a.return;g!==null;){if(g0(g)){var y=g;break e}g=g.return}throw Error(t(160))}switch(y.tag){case 5:var b=y.stateNode;y.flags&32&&(Or(b,""),y.flags&=-33);var k=m0(a);Gh(a,k,b);break;case 3:case 4:var A=y.stateNode.containerInfo,B=m0(a);wp(a,B,A);break;default:throw Error(t(161))}}catch(H){Zt(a,a.return,H)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function Xh(a,c,g){De=a,_p(a)}function _p(a,c,g){for(var y=(a.mode&1)!==0;De!==null;){var b=De,k=b.child;if(b.tag===22&&y){var A=b.memoizedState!==null||Vh;if(!A){var B=b.alternate,H=B!==null&&B.memoizedState!==null||qt;B=Vh;var re=qt;if(Vh=A,(qt=H)&&!re)for(De=b;De!==null;)A=De,H=A.child,A.tag===22&&A.memoizedState!==null?y0(b):H!==null?(H.return=A,De=H):y0(b);for(;k!==null;)De=k,_p(k),k=k.sibling;De=b,Vh=B,qt=re}Hi(a)}else b.subtreeFlags&8772&&k!==null?(k.return=b,De=k):Hi(a)}}function Hi(a){for(;De!==null;){var c=De;if(c.flags&8772){var g=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:qt||Qc(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!qt)if(g===null)y.componentDidMount();else{var b=c.elementType===c.type?g.memoizedProps:xi(c.type,g.memoizedProps);y.componentDidUpdate(b,g.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var k=c.updateQueue;k!==null&&qf(c,k,y);break;case 3:var A=c.updateQueue;if(A!==null){if(g=null,c.child!==null)switch(c.child.tag){case 5:g=c.child.stateNode;break;case 1:g=c.child.stateNode}qf(c,A,g)}break;case 5:var B=c.stateNode;if(g===null&&c.flags&4){g=B;var H=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&g.focus();break;case"img":H.src&&(g.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var re=c.alternate;if(re!==null){var ve=re.memoizedState;if(ve!==null){var we=ve.dehydrated;we!==null&&Et(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||c.flags&512&&Uh(c)}catch(me){Zt(c,c.return,me)}}if(c===a){De=null;break}if(g=c.sibling,g!==null){g.return=c.return,De=g;break}De=c.return}}function Po(a){for(;De!==null;){var c=De;if(c===a){De=null;break}var g=c.sibling;if(g!==null){g.return=c.return,De=g;break}De=c.return}}function y0(a){for(;De!==null;){var c=De;try{switch(c.tag){case 0:case 11:case 15:var g=c.return;try{Qc(4,c)}catch(H){Zt(c,g,H)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var b=c.return;try{y.componentDidMount()}catch(H){Zt(c,b,H)}}var k=c.return;try{Uh(c)}catch(H){Zt(c,k,H)}break;case 5:var A=c.return;try{Uh(c)}catch(H){Zt(c,A,H)}}}catch(H){Zt(c,c.return,H)}if(c===a){De=null;break}var B=c.sibling;if(B!==null){B.return=c.return,De=B;break}De=c.return}}var v0=Math.ceil,Yh=F.ReactCurrentDispatcher,kp=F.ReactCurrentOwner,Si=F.ReactCurrentBatchConfig,vt=0,On=null,pn=null,zn=0,ei=0,Bl=Ar(0),Sn=0,Zc=null,Ro=0,eu=0,Kh=0,tu=null,Nr=null,Tp=0,Ta=1/0,Xs=null,qh=!1,Ep=null,Do=null,Jh=!1,Io=null,yr=0,nu=0,Op=null,Qh=-1,ru=0;function vr(){return vt&6?Xt():Qh!==-1?Qh:Qh=Xt()}function No(a){return a.mode&1?vt&2&&zn!==0?zn&-zn:Jm.transition!==null?(ru===0&&(ru=bf()),ru):(a=_t,a!==0||(a=window.event,a=a===void 0?16:Cm(a.type)),a):1}function Vi(a,c,g,y){if(50<nu)throw nu=0,Op=null,Error(t(185));yc(a,g,y),(!(vt&2)||a!==On)&&(a===On&&(!(vt&2)&&(eu|=g),Sn===4&&Lo(a,zn)),Lr(a,y),g===1&&vt===0&&!(c.mode&1)&&(Ta=Xt()+500,xh&&ko()))}function Lr(a,c){var g=a.callbackNode;L1(a,c);var y=aa(a,a===On?zn:0);if(y===0)g!==null&&hm(g),a.callbackNode=null,a.callbackPriority=0;else if(c=y&-y,a.callbackPriority!==c){if(g!=null&&hm(g),c===1)a.tag===0?ga(x0.bind(null,a)):Ym(x0.bind(null,a)),gh(function(){!(vt&6)&&ko()}),g=null;else{switch(la(y)){case 1:g=Sf;break;case 4:g=dm;break;case 16:g=gc;break;case 536870912:g=wf;break;default:g=gc}g=T0(g,Zh.bind(null,a))}a.callbackPriority=c,a.callbackNode=g}}function Zh(a,c){if(Qh=-1,ru=0,vt&6)throw Error(t(327));var g=a.callbackNode;if(jl()&&a.callbackNode!==g)return null;var y=aa(a,a===On?zn:0);if(y===0)return null;if(y&30||y&a.expiredLanes||c)c=ed(a,y);else{c=y;var b=vt;vt|=2;var k=w0();(On!==a||zn!==c)&&(Xs=null,Ta=Xt()+500,Oa(a,c));do try{lx();break}catch(B){S0(a,B)}while(!0);js(),Yh.current=k,vt=b,pn!==null?c=0:(On=null,zn=0,c=Sn)}if(c!==0){if(c===2&&(b=Gu(a),b!==0&&(y=b,c=Mp(a,b))),c===1)throw g=Zc,Oa(a,0),Lo(a,y),Lr(a,Xt()),g;if(c===6)Lo(a,y);else{if(b=a.current.alternate,!(y&30)&&!ox(b)&&(c=ed(a,y),c===2&&(k=Gu(a),k!==0&&(y=k,c=Mp(a,k))),c===1))throw g=Zc,Oa(a,0),Lo(a,y),Lr(a,Xt()),g;switch(a.finishedWork=b,a.finishedLanes=y,c){case 0:case 1:throw Error(t(345));case 2:Ma(a,Nr,Xs);break;case 3:if(Lo(a,y),(y&130023424)===y&&(c=Tp+500-Xt(),10<c)){if(aa(a,0)!==0)break;if(b=a.suspendedLanes,(b&y)!==y){vr(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=wo(Ma.bind(null,a,Nr,Xs),c);break}Ma(a,Nr,Xs);break;case 4:if(Lo(a,y),(y&4194240)===y)break;for(c=a.eventTimes,b=-1;0<y;){var A=31-Li(y);k=1<<A,A=c[A],A>b&&(b=A),y&=~k}if(y=b,y=Xt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*v0(y/1960))-y,10<y){a.timeoutHandle=wo(Ma.bind(null,a,Nr,Xs),y);break}Ma(a,Nr,Xs);break;case 5:Ma(a,Nr,Xs);break;default:throw Error(t(329))}}}return Lr(a,Xt()),a.callbackNode===g?Zh.bind(null,a):null}function Mp(a,c){var g=tu;return a.current.memoizedState.isDehydrated&&(Oa(a,c).flags|=256),a=ed(a,c),a!==2&&(c=Nr,Nr=g,c!==null&&Ap(c)),a}function Ap(a){Nr===null?Nr=a:Nr.push.apply(Nr,a)}function ox(a){for(var c=a;;){if(c.flags&16384){var g=c.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var y=0;y<g.length;y++){var b=g[y],k=b.getSnapshot;b=b.value;try{if(!ne(k(),b))return!1}catch{return!1}}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Lo(a,c){for(c&=~Kh,c&=~eu,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var g=31-Li(c),y=1<<g;a[g]=-1,c&=~y}}function x0(a){if(vt&6)throw Error(t(327));jl();var c=aa(a,0);if(!(c&1))return Lr(a,Xt()),null;var g=ed(a,c);if(a.tag!==0&&g===2){var y=Gu(a);y!==0&&(c=y,g=Mp(a,y))}if(g===1)throw g=Zc,Oa(a,0),Lo(a,c),Lr(a,Xt()),g;if(g===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Ma(a,Nr,Xs),Lr(a,Xt()),null}function Pp(a,c){var g=vt;vt|=1;try{return a(c)}finally{vt=g,vt===0&&(Ta=Xt()+500,xh&&ko())}}function Ea(a){Io!==null&&Io.tag===0&&!(vt&6)&&jl();var c=vt;vt|=1;var g=Si.transition,y=_t;try{if(Si.transition=null,_t=1,a)return a()}finally{_t=y,Si.transition=g,vt=c,!(vt&6)&&ko()}}function Rp(){ei=Bl.current,Wt(Bl)}function Oa(a,c){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,Rc(g)),pn!==null)for(g=pn.return;g!==null;){var y=g;switch(va(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&vh();break;case 3:Oo(),Wt(Pr),Wt(qn),Mh();break;case 5:Oh(y);break;case 4:Oo();break;case 13:Wt(Kt);break;case 19:Wt(Kt);break;case 10:_h(y.type._context);break;case 22:case 23:Rp()}g=g.return}if(On=a,pn=a=Ui(a.current,null),zn=ei=c,Sn=0,Zc=null,Kh=eu=Ro=0,Nr=tu=null,Sa!==null){for(c=0;c<Sa.length;c++)if(g=Sa[c],y=g.interleaved,y!==null){g.interleaved=null;var b=y.next,k=g.pending;if(k!==null){var A=k.next;k.next=b,y.next=A}g.pending=y}Sa=null}return a}function S0(a,c){do{var g=pn;try{if(js(),jc.current=Nh,Ol){for(var y=Qt.memoizedState;y!==null;){var b=y.queue;b!==null&&(b.pending=null),y=y.next}Ol=!1}if(Mo=0,xn=an=Qt=null,zc=!1,ba=0,kp.current=null,g===null||g.return===null){Sn=1,Zc=c,pn=null;break}e:{var k=a,A=g.return,B=g,H=c;if(c=zn,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var re=H,ve=B,we=ve.tag;if(!(ve.mode&1)&&(we===0||we===11||we===15)){var me=ve.alternate;me?(ve.updateQueue=me.updateQueue,ve.memoizedState=me.memoizedState,ve.lanes=me.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Pe=l0(A);if(Pe!==null){Pe.flags&=-257,dp(Pe,A,B,k,c),Pe.mode&1&&Uc(k,re,c),c=Pe,H=re;var Ne=c.updateQueue;if(Ne===null){var Fe=new Set;Fe.add(H),c.updateQueue=Fe}else Ne.add(H);break e}else{if(!(c&1)){Uc(k,re,c),Dp();break e}H=Error(t(426))}}else if(Ht&&B.mode&1){var ln=l0(A);if(ln!==null){!(ln.flags&65536)&&(ln.flags|=256),dp(ln,A,B,k,c),fs(ka(H,B));break e}}k=H=ka(H,B),Sn!==4&&(Sn=2),tu===null?tu=[k]:tu.push(k),k=A;do{switch(k.tag){case 3:k.flags|=65536,c&=-c,k.lanes|=c;var Q=Vc(k,H,c);e0(k,Q);break e;case 1:B=H;var X=k.type,Z=k.stateNode;if(!(k.flags&128)&&(typeof X.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Do===null||!Do.has(Z)))){k.flags|=65536,c&=-c,k.lanes|=c;var ke=zh(k,B,c);e0(k,ke);break e}}k=k.return}while(k!==null)}C0(g)}catch(je){c=je,pn===g&&g!==null&&(pn=g=g.return);continue}break}while(!0)}function w0(){var a=Yh.current;return Yh.current=Nh,a===null?Nh:a}function Dp(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),On===null||!(Ro&268435455)&&!(eu&268435455)||Lo(On,zn)}function ed(a,c){var g=vt;vt|=2;var y=w0();(On!==a||zn!==c)&&(Xs=null,Oa(a,c));do try{ax();break}catch(b){S0(a,b)}while(!0);if(js(),vt=g,Yh.current=y,pn!==null)throw Error(t(261));return On=null,zn=0,Sn}function ax(){for(;pn!==null;)b0(pn)}function lx(){for(;pn!==null&&!Hu();)b0(pn)}function b0(a){var c=k0(a.alternate,a,ei);a.memoizedProps=a.pendingProps,c===null?C0(a):pn=c,kp.current=null}function C0(a){var c=a;do{var g=c.alternate;if(a=c.return,c.flags&32768){if(g=ix(g,c),g!==null){g.flags&=32767,pn=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Sn=6,pn=null;return}}else if(g=rx(g,c,ei),g!==null){pn=g;return}if(c=c.sibling,c!==null){pn=c;return}pn=c=a}while(c!==null);Sn===0&&(Sn=5)}function Ma(a,c,g){var y=_t,b=Si.transition;try{Si.transition=null,_t=1,cx(a,c,g,y)}finally{Si.transition=b,_t=y}return null}function cx(a,c,g,y){do jl();while(Io!==null);if(vt&6)throw Error(t(327));g=a.finishedWork;var b=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var k=g.lanes|g.childLanes;if(vm(a,k),a===On&&(pn=On=null,zn=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||Jh||(Jh=!0,T0(gc,function(){return jl(),null})),k=(g.flags&15990)!==0,g.subtreeFlags&15990||k){k=Si.transition,Si.transition=null;var A=_t;_t=1;var B=vt;vt|=4,kp.current=null,sx(a,g),Cp(g,a),Z1(pa),qu=!!Ac,pa=Ac=null,a.current=g,Xh(g),D1(),vt=B,_t=A,Si.transition=k}else a.current=g;if(Jh&&(Jh=!1,Io=a,yr=b),k=a.pendingLanes,k===0&&(Do=null),N1(g.stateNode),Lr(a,Xt()),c!==null)for(y=a.onRecoverableError,g=0;g<c.length;g++)b=c[g],y(b.value,{componentStack:b.stack,digest:b.digest});if(qh)throw qh=!1,a=Ep,Ep=null,a;return yr&1&&a.tag!==0&&jl(),k=a.pendingLanes,k&1?a===Op?nu++:(nu=0,Op=a):nu=0,ko(),null}function jl(){if(Io!==null){var a=la(yr),c=Si.transition,g=_t;try{if(Si.transition=null,_t=16>a?16:a,Io===null)var y=!1;else{if(a=Io,Io=null,yr=0,vt&6)throw Error(t(331));var b=vt;for(vt|=4,De=a.current;De!==null;){var k=De,A=k.child;if(De.flags&16){var B=k.deletions;if(B!==null){for(var H=0;H<B.length;H++){var re=B[H];for(De=re;De!==null;){var ve=De;switch(ve.tag){case 0:case 11:case 15:Gs(8,ve,k)}var we=ve.child;if(we!==null)we.return=ve,De=we;else for(;De!==null;){ve=De;var me=ve.sibling,Pe=ve.return;if(p0(ve),ve===re){De=null;break}if(me!==null){me.return=Pe,De=me;break}De=Pe}}}var Ne=k.alternate;if(Ne!==null){var Fe=Ne.child;if(Fe!==null){Ne.child=null;do{var ln=Fe.sibling;Fe.sibling=null,Fe=ln}while(Fe!==null)}}De=k}}if(k.subtreeFlags&2064&&A!==null)A.return=k,De=A;else e:for(;De!==null;){if(k=De,k.flags&2048)switch(k.tag){case 0:case 11:case 15:Gs(9,k,k.return)}var Q=k.sibling;if(Q!==null){Q.return=k.return,De=Q;break e}De=k.return}}var X=a.current;for(De=X;De!==null;){A=De;var Z=A.child;if(A.subtreeFlags&2064&&Z!==null)Z.return=A,De=Z;else e:for(A=X;De!==null;){if(B=De,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:Qc(9,B)}}catch(je){Zt(B,B.return,je)}if(B===A){De=null;break e}var ke=B.sibling;if(ke!==null){ke.return=B.return,De=ke;break e}De=B.return}}if(vt=b,ko(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(Vu,a)}catch{}y=!0}return y}finally{_t=g,Si.transition=c}}return!1}function td(a,c,g){c=ka(g,c),c=Vc(a,c,1),a=yi(a,c,1),c=vr(),a!==null&&(yc(a,1,c),Lr(a,c))}function Zt(a,c,g){if(a.tag===3)td(a,a,g);else for(;c!==null;){if(c.tag===3){td(c,a,g);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Do===null||!Do.has(y))){a=ka(g,a),a=zh(c,a,1),c=yi(c,a,1),a=vr(),c!==null&&(yc(c,1,a),Lr(c,a));break}}c=c.return}}function ux(a,c,g){var y=a.pingCache;y!==null&&y.delete(c),c=vr(),a.pingedLanes|=a.suspendedLanes&g,On===a&&(zn&g)===g&&(Sn===4||Sn===3&&(zn&130023424)===zn&&500>Xt()-Tp?Oa(a,0):Kh|=g),Lr(a,c)}function _0(a,c){c===0&&(a.mode&1?(c=Uu,Uu<<=1,!(Uu&130023424)&&(Uu=4194304)):c=1);var g=vr();a=zs(a,c),a!==null&&(yc(a,c,g),Lr(a,g))}function hx(a){var c=a.memoizedState,g=0;c!==null&&(g=c.retryLane),_0(a,g)}function dx(a,c){var g=0;switch(a.tag){case 13:var y=a.stateNode,b=a.memoizedState;b!==null&&(g=b.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(c),_0(a,g)}var k0;k0=function(a,c,g){if(a!==null)if(a.memoizedProps!==c.pendingProps||Pr.current)gr=!0;else{if(!(a.lanes&g)&&!(c.flags&128))return gr=!1,h0(a,c,g);gr=!!(a.flags&131072)}else gr=!1,Ht&&c.flags&1048576&&Km(c,wh,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;Hh(a,c),a=c.pendingProps;var b=Cl(c,qn.current);Eo(c,g),b=Ca(null,c,y,a,b,g);var k=Ah();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Rr(y)?(k=!0,di(c)):k=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Th(c),b.updater=Bh,c.stateNode=b,b._reactInternals=c,hp(c,y,a,g),c=vp(null,c,y,!0,k,g)):(c.tag=0,Ht&&k&&Dc(c),Fn(null,c,b,g),c=c.child),c;case 16:y=c.elementType;e:{switch(Hh(a,c),a=c.pendingProps,b=y._init,y=b(y._payload),c.type=y,b=c.tag=px(y),a=xi(y,a),b){case 0:c=mp(null,c,y,a,g);break e;case 1:c=yp(null,c,y,a,g);break e;case 11:c=c0(null,c,y,a,g);break e;case 14:c=fp(null,c,y,xi(y.type,a),g);break e}throw Error(t(306,y,""))}return c;case 0:return y=c.type,b=c.pendingProps,b=c.elementType===y?b:xi(y,b),mp(a,c,y,b,g);case 1:return y=c.type,b=c.pendingProps,b=c.elementType===y?b:xi(y,b),yp(a,c,y,b,g);case 3:e:{if(u0(c),a===null)throw Error(t(387));y=c.pendingProps,k=c.memoizedState,b=k.element,Zm(a,c),Tl(c,y,null,g);var A=c.memoizedState;if(y=A.element,k.isDehydrated)if(k={element:y,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){b=ka(Error(t(423)),c),c=vs(a,c,y,g,b);break e}else if(y!==b){b=ka(Error(t(424)),c),c=vs(a,c,y,g,b);break e}else for(Jr=bo(c.stateNode.containerInfo.firstChild),Qn=c,Ht=!0,Bi=null,g=Ch(c,null,y,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ds(),y===b){c=zi(a,c,g);break e}Fn(a,c,y,g)}c=c.child}return c;case 5:return Qf(c),a===null&&Dr(c),y=c.type,b=c.pendingProps,k=a!==null?a.memoizedProps:null,A=b.children,Pc(y,b)?A=null:k!==null&&Pc(y,k)&&(c.flags|=32),gp(a,c),Fn(a,c,A,g),c.child;case 6:return a===null&&Dr(c),null;case 13:return Wh(a,c,g);case 4:return Jf(c,c.stateNode.containerInfo),y=c.pendingProps,a===null?c.child=tn(c,null,y,g):Fn(a,c,y,g),c.child;case 11:return y=c.type,b=c.pendingProps,b=c.elementType===y?b:xi(y,b),c0(a,c,y,b,g);case 7:return Fn(a,c,c.pendingProps,g),c.child;case 8:return Fn(a,c,c.pendingProps.children,g),c.child;case 12:return Fn(a,c,c.pendingProps.children,g),c.child;case 10:e:{if(y=c.type._context,b=c.pendingProps,k=c.memoizedProps,A=b.value,zt(Lc,y._currentValue),y._currentValue=A,k!==null)if(ne(k.value,A)){if(k.children===b.children&&!Pr.current){c=zi(a,c,g);break e}}else for(k=c.child,k!==null&&(k.return=c);k!==null;){var B=k.dependencies;if(B!==null){A=k.child;for(var H=B.firstContext;H!==null;){if(H.context===y){if(k.tag===1){H=$s(-1,g&-g),H.tag=2;var re=k.updateQueue;if(re!==null){re=re.shared;var ve=re.pending;ve===null?H.next=H:(H.next=ve.next,ve.next=H),re.pending=H}}k.lanes|=g,H=k.alternate,H!==null&&(H.lanes|=g),Ln(k.return,g,c),B.lanes|=g;break}H=H.next}}else if(k.tag===10)A=k.type===c.type?null:k.child;else if(k.tag===18){if(A=k.return,A===null)throw Error(t(341));A.lanes|=g,B=A.alternate,B!==null&&(B.lanes|=g),Ln(A,g,c),A=k.sibling}else A=k.child;if(A!==null)A.return=k;else for(A=k;A!==null;){if(A===c){A=null;break}if(k=A.sibling,k!==null){k.return=A.return,A=k;break}A=A.return}k=A}Fn(a,c,b.children,g),c=c.child}return c;case 9:return b=c.type,y=c.pendingProps.children,Eo(c,g),b=gi(b),y=y(b),c.flags|=1,Fn(a,c,y,g),c.child;case 14:return y=c.type,b=xi(y,c.pendingProps),b=xi(y.type,b),fp(a,c,y,b,g);case 15:return ys(a,c,c.type,c.pendingProps,g);case 17:return y=c.type,b=c.pendingProps,b=c.elementType===y?b:xi(y,b),Hh(a,c),c.tag=1,Rr(y)?(a=!0,di(c)):a=!1,Eo(c,g),_a(c,y,b),hp(c,y,b,g),vp(null,c,y,!0,a,g);case 19:return Ao(a,c,g);case 22:return pp(a,c,g)}throw Error(t(156,c.tag))};function T0(a,c){return um(a,c)}function fx(a,c,g,y){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(a,c,g,y){return new fx(a,c,g,y)}function nd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function px(a){if(typeof a=="function")return nd(a)?1:0;if(a!=null){if(a=a.$$typeof,a===he)return 11;if(a===ue)return 14}return 2}function Ui(a,c){var g=a.alternate;return g===null?(g=wi(a.tag,c,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=c,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,c=a.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function rd(a,c,g,y,b,k){var A=2;if(y=a,typeof a=="function")nd(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case $:return Aa(g.children,b,k,c);case W:A=8,b|=8;break;case q:return a=wi(12,g,c,b|2),a.elementType=q,a.lanes=k,a;case fe:return a=wi(13,g,c,b),a.elementType=fe,a.lanes=k,a;case ge:return a=wi(19,g,c,b),a.elementType=ge,a.lanes=k,a;case Ce:return id(g,b,k,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:A=10;break e;case se:A=9;break e;case he:A=11;break e;case ue:A=14;break e;case Se:A=16,y=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=wi(A,g,c,b),c.elementType=a,c.type=y,c.lanes=k,c}function Aa(a,c,g,y){return a=wi(7,a,y,c),a.lanes=g,a}function id(a,c,g,y){return a=wi(22,a,y,c),a.elementType=Ce,a.lanes=g,a.stateNode={isHidden:!1},a}function Ip(a,c,g){return a=wi(6,a,null,c),a.lanes=g,a}function Np(a,c,g){return c=wi(4,a.children!==null?a.children:[],a.key,c),c.lanes=g,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function gx(a,c,g,y,b){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mc(0),this.expirationTimes=mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mc(0),this.identifierPrefix=y,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Lp(a,c,g,y,b,k,A,B,H){return a=new gx(a,c,g,B,H),c===1?(c=1,k===!0&&(c|=8)):c=0,k=wi(3,null,null,c),a.current=k,k.stateNode=a,k.memoizedState={element:y,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(k),a}function mx(a,c,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:y==null?null:""+y,children:a,containerInfo:c,implementation:g}}function E0(a){if(!a)return _o;a=a._reactInternals;e:{if(oa(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Rr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var g=a.type;if(Rr(g))return Gm(a,g,c)}return c}function O0(a,c,g,y,b,k,A,B,H){return a=Lp(g,y,!0,a,b,k,A,B,H),a.context=E0(null),g=a.current,y=vr(),b=No(g),k=$s(y,b),k.callback=c??null,yi(g,k,b),a.current.lanes=b,yc(a,b,y),Lr(a,y),a}function sd(a,c,g,y){var b=c.current,k=vr(),A=No(b);return g=E0(g),c.context===null?c.context=g:c.pendingContext=g,c=$s(k,A),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=yi(b,c,A),a!==null&&(Vi(a,b,A,k),Eh(a,b,A)),A}function od(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function M0(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<c?g:c}}function Fp(a,c){M0(a,c),(a=a.alternate)&&M0(a,c)}function yx(){return null}var A0=typeof reportError=="function"?reportError:function(a){console.error(a)};function ad(a){this._internalRoot=a}iu.prototype.render=ad.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));sd(a,c,null,null)},iu.prototype.unmount=ad.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Ea(function(){sd(null,a,null,null)}),c[qr]=null}};function iu(a){this._internalRoot=a}iu.prototype.unstable_scheduleHydration=function(a){if(a){var c=_f();a={blockedOn:null,target:a,priority:c};for(var g=0;g<mo.length&&c!==0&&c<mo[g].priority;g++);mo.splice(g,0,a),g===0&&wm(a)}};function Bp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ld(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function P0(){}function vx(a,c,g,y,b){if(b){if(typeof y=="function"){var k=y;y=function(){var re=od(A);k.call(re)}}var A=O0(c,y,a,0,null,!1,!1,"",P0);return a._reactRootContainer=A,a[qr]=A.current,So(a.nodeType===8?a.parentNode:a),Ea(),A}for(;b=a.lastChild;)a.removeChild(b);if(typeof y=="function"){var B=y;y=function(){var re=od(H);B.call(re)}}var H=Lp(a,0,!1,null,null,!1,!1,"",P0);return a._reactRootContainer=H,a[qr]=H.current,So(a.nodeType===8?a.parentNode:a),Ea(function(){sd(c,H,g,y)}),H}function Pa(a,c,g,y,b){var k=g._reactRootContainer;if(k){var A=k;if(typeof b=="function"){var B=b;b=function(){var H=od(A);B.call(H)}}sd(c,A,a,b)}else A=vx(g,c,a,b,y);return od(A)}Cf=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var g=sl(c.pendingLanes);g!==0&&(vc(c,g|1),Lr(c,Xt()),!(vt&6)&&(Ta=Xt()+500,ko()))}break;case 13:Ea(function(){var y=zs(a,1);if(y!==null){var b=vr();Vi(y,a,1,b)}}),Fp(a,1)}},Xu=function(a){if(a.tag===13){var c=zs(a,134217728);if(c!==null){var g=vr();Vi(c,a,134217728,g)}Fp(a,134217728)}},xm=function(a){if(a.tag===13){var c=No(a),g=zs(a,c);if(g!==null){var y=vr();Vi(g,a,c,y)}Fp(a,c)}},_f=function(){return _t},kf=function(a,c){var g=_t;try{return _t=a,c()}finally{_t=g}},pf=function(a,c,g){switch(c){case"input":if(en(a,g),c=g.name,g.type==="radio"&&c!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<g.length;c++){var y=g[c];if(y!==a&&y.form===a.form){var b=yh(y);if(!b)throw Error(t(90));ut(y),en(y,b)}}}break;case"textarea":Nn(a,g);break;case"select":c=g.value,c!=null&&ot(a,!!g.multiple,c,!1)}},sm=Pp,gf=Ea;var xx={usingClientEntryPoint:!1,Events:[Kn,rt,yh,rm,im,Pp]},su={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sx={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=lm(a),a===null?null:a.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||yx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{Vu=cd.inject(Sx),rs=cd}catch{}}return ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xx,ki.createPortal=function(a,c){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bp(c))throw Error(t(200));return mx(a,c,null,g)},ki.createRoot=function(a,c){if(!Bp(a))throw Error(t(299));var g=!1,y="",b=A0;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=Lp(a,1,!1,null,null,g,!1,y,b),a[qr]=c.current,So(a.nodeType===8?a.parentNode:a),new ad(c)},ki.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=lm(c),a=a===null?null:a.stateNode,a},ki.flushSync=function(a){return Ea(a)},ki.hydrate=function(a,c,g){if(!ld(c))throw Error(t(200));return Pa(null,a,c,!0,g)},ki.hydrateRoot=function(a,c,g){if(!Bp(a))throw Error(t(405));var y=g!=null&&g.hydratedSources||null,b=!1,k="",A=A0;if(g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(k=g.identifierPrefix),g.onRecoverableError!==void 0&&(A=g.onRecoverableError)),c=O0(c,null,a,1,g??null,b,!1,k,A),a[qr]=c.current,So(a),y)for(a=0;a<y.length;a++)g=y[a],b=g._getVersion,b=b(g._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[g,b]:c.mutableSourceEagerHydrationData.push(g,b);return new iu(c)},ki.render=function(a,c,g){if(!ld(c))throw Error(t(200));return Pa(null,a,c,!1,g)},ki.unmountComponentAtNode=function(a){if(!ld(a))throw Error(t(40));return a._reactRootContainer?(Ea(function(){Pa(null,null,a,!1,function(){a._reactRootContainer=null,a[qr]=null})}),!0):!1},ki.unstable_batchedUpdates=Pp,ki.unstable_renderSubtreeIntoContainer=function(a,c,g,y){if(!ld(g))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Pa(a,c,g,!1,y)},ki.version="18.3.1-next-f1338f8080-20240426",ki}var HC;function aE(){if(HC)return Nx.exports;HC=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nx.exports=tD(),Nx.exports}var VC;function nD(){if(VC)return F0;VC=1;var n=aE();return F0.createRoot=n.createRoot,F0.hydrateRoot=n.hydrateRoot,F0}var rD=nD(),$p={},UC;function iD(){if(UC)return $p;UC=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.parse=o,$p.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function o(v,w){const S=new s,C=v.length;if(C<2)return S;const _=(w==null?void 0:w.decode)||p;let E=0;do{const P=v.indexOf("=",E);if(P===-1)break;const M=v.indexOf(";",E),F=M===-1?C:M;if(P>F){E=v.lastIndexOf(";",P-1)+1;continue}const L=l(v,E,P),j=u(v,P,L),$=v.slice(L,j);if(S[$]===void 0){let W=l(v,P+1,F),q=u(v,F,W);const R=_(v.slice(W,q));S[$]=R}E=F+1}while(E<C);return S}function l(v,w,S){do{const C=v.charCodeAt(w);if(C!==32&&C!==9)return w}while(++w<S);return S}function u(v,w,S){for(;w>S;){const C=v.charCodeAt(--w);if(C!==32&&C!==9)return w+1}return S}function d(v,w,S){const C=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const _=C(w);if(!e.test(_))throw new TypeError(`argument val is invalid: ${w}`);let E=v+"="+_;if(!S)return E;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);E+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);E+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);E+="; Path="+S.path}if(S.expires){if(!m(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);E+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(E+="; HttpOnly"),S.secure&&(E+="; Secure"),S.partitioned&&(E+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return E}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return i.call(v)==="[object Date]"}return $p}iD();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var GC="popstate";function sD(n={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return BS("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:vg(i)}return aD(e,t,null,n)}function rn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oD(){return Math.random().toString(36).substring(2,10)}function XC(n,e){return{usr:n.state,key:n.key,idx:e}}function BS(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Jd(e):e,state:t,key:e&&e.key||r||oD()}}function vg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Jd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function aD(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",u=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function m(){l="POP";let _=p(),E=_==null?null:_-d;d=_,u&&u({action:l,location:C.location,delta:E})}function v(_,E){l="PUSH";let P=BS(C.location,_,E);d=p()+1;let M=XC(P,d),F=C.createHref(P);try{o.pushState(M,"",F)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(F)}s&&u&&u({action:l,location:C.location,delta:1})}function w(_,E){l="REPLACE";let P=BS(C.location,_,E);d=p();let M=XC(P,d),F=C.createHref(P);o.replaceState(M,"",F),s&&u&&u({action:l,location:C.location,delta:0})}function S(_){let E=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof _=="string"?_:vg(_);return P=P.replace(/ $/,"%20"),rn(E,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,E)}let C={get action(){return l},get location(){return n(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(GC,m),u=_,()=>{i.removeEventListener(GC,m),u=null}},createHref(_){return e(i,_)},createURL:S,encodeLocation(_){let E=S(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:w,go(_){return o.go(_)}};return C}function lE(n,e,t="/"){return lD(n,e,t,!1)}function lD(n,e,t,r){let i=typeof e=="string"?Jd(e):e,s=tc(i.pathname||"/",t);if(s==null)return null;let o=cE(n);cD(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=SD(s);l=vD(o[u],d,r)}return l}function cE(n,e=[],t=[],r=""){let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(rn(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=Ua([r,u.relativePath]),p=t.concat(u);s.children&&s.children.length>0&&(rn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),cE(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:mD(d,s.index),routesMeta:p})};return n.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of uE(s.path))i(s,o,u)}),e}function uE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=uE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>n.startsWith("/")&&u===""?"/":u)}function cD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var uD=/^:[\w-]+$/,hD=3,dD=2,fD=1,pD=10,gD=-2,YC=n=>n==="*";function mD(n,e){let t=n.split("/"),r=t.length;return t.some(YC)&&(r+=gD),e&&(r+=dD),t.filter(i=>!YC(i)).reduce((i,s)=>i+(uD.test(s)?hD:s===""?fD:pD),r)}function yD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function vD(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=Uy({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),v=u.route;if(!m&&d&&t&&!r[r.length-1].route.index&&(m=Uy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Ua([s,m.pathname]),pathnameBase:_D(Ua([s,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(s=Ua([s,m.pathnameBase]))}return o}function Uy(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=xD(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:m},v)=>{if(p==="*"){let S=l[v]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const w=l[v];return m&&!w?d[p]=void 0:d[p]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:n}}function xD(n,e=!1,t=!0){oo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oo(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function tc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function wD(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Jd(n):n;return{pathname:t?t.startsWith("/")?t:bD(t,e):e,search:kD(r),hash:TD(i)}}function bD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Bx(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yw(n){let e=CD(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Kw(n,e,t,r=!1){let i;typeof n=="string"?i=Jd(n):(i={...n},rn(!i.pathname||!i.pathname.includes("?"),Bx("?","pathname","search",i)),rn(!i.pathname||!i.pathname.includes("#"),Bx("#","pathname","hash",i)),rn(!i.search||!i.search.includes("#"),Bx("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=t;else{let m=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}l=m>=0?e[m]:"/"}let u=wD(i,l),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}var Ua=n=>n.join("/").replace(/\/\/+/g,"/"),_D=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,TD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ED(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hE=["POST","PUT","PATCH","DELETE"];new Set(hE);var OD=["GET",...hE];new Set(OD);var Qd=I.createContext(null);Qd.displayName="DataRouter";var Mv=I.createContext(null);Mv.displayName="DataRouterState";var dE=I.createContext({isTransitioning:!1});dE.displayName="ViewTransition";var MD=I.createContext(new Map);MD.displayName="Fetchers";var AD=I.createContext(null);AD.displayName="Await";var uo=I.createContext(null);uo.displayName="Navigation";var zg=I.createContext(null);zg.displayName="Location";var ea=I.createContext({outlet:null,matches:[],isDataRoute:!1});ea.displayName="Route";var qw=I.createContext(null);qw.displayName="RouteError";function PD(n,{relative:e}={}){rn(Zd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=I.useContext(uo),{hash:i,pathname:s,search:o}=$g(n,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:Ua([t,s])),r.createHref({pathname:l,search:o,hash:i})}function Zd(){return I.useContext(zg)!=null}function el(){return rn(Zd(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(zg).location}var fE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pE(n){I.useContext(uo).static||I.useLayoutEffect(n)}function Av(){let{isDataRoute:n}=I.useContext(ea);return n?VD():RD()}function RD(){rn(Zd(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Qd),{basename:e,navigator:t}=I.useContext(uo),{matches:r}=I.useContext(ea),{pathname:i}=el(),s=JSON.stringify(Yw(r)),o=I.useRef(!1);return pE(()=>{o.current=!0}),I.useCallback((u,d={})=>{if(oo(o.current,fE),!o.current)return;if(typeof u=="number"){t.go(u);return}let p=Kw(u,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ua([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,s,i,n])}I.createContext(null);function $g(n,{relative:e}={}){let{matches:t}=I.useContext(ea),{pathname:r}=el(),i=JSON.stringify(Yw(t));return I.useMemo(()=>Kw(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function DD(n,e){return gE(n,e)}function gE(n,e,t,r){var E;rn(Zd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=I.useContext(uo),{matches:s}=I.useContext(ea),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let P=p&&p.path||"";mE(u,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let m=el(),v;if(e){let P=typeof e=="string"?Jd(e):e;rn(d==="/"||((E=P.pathname)==null?void 0:E.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=m;let w=v.pathname||"/",S=w;if(d!=="/"){let P=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=lE(n,{pathname:S});oo(p||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),oo(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=BD(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:Ua([d,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:Ua([d,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,t,r);return e&&_?I.createElement(zg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function ID(){let n=HD(),e=ED(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:i},t):null,o)}var ND=I.createElement(ID,null),LD=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?I.createElement(ea.Provider,{value:this.props.routeContext},I.createElement(qw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FD({routeContext:n,match:e,children:t}){let r=I.useContext(Qd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(ea.Provider,{value:n},t)}function BD(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);rn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(t)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:p,errors:m}=t,v=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,d,p)=>{let m,v=!1,w=null,S=null;t&&(m=s&&d.route.id?s[d.route.id]:void 0,w=d.route.errorElement||ND,o&&(l<0&&p===0?(mE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):l===p&&(v=!0,S=d.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,p+1)),_=()=>{let E;return m?E=w:v?E=S:d.route.Component?E=I.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,I.createElement(FD,{match:d,routeContext:{outlet:u,matches:C,isDataRoute:t!=null},children:E})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?I.createElement(LD,{location:t.location,revalidation:t.revalidation,component:w,error:m,children:_(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):_()},null)}function Jw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jD(n){let e=I.useContext(Qd);return rn(e,Jw(n)),e}function zD(n){let e=I.useContext(Mv);return rn(e,Jw(n)),e}function $D(n){let e=I.useContext(ea);return rn(e,Jw(n)),e}function Qw(n){let e=$D(n),t=e.matches[e.matches.length-1];return rn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function WD(){return Qw("useRouteId")}function HD(){var r;let n=I.useContext(qw),e=zD("useRouteError"),t=Qw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function VD(){let{router:n}=jD("useNavigate"),e=Qw("useNavigate"),t=I.useRef(!1);return pE(()=>{t.current=!0}),I.useCallback(async(i,s={})=>{oo(t.current,fE),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var KC={};function mE(n,e,t){!e&&!KC[n]&&(KC[n]=!0,oo(!1,t))}I.memo(UD);function UD({routes:n,future:e,state:t}){return gE(n,void 0,t,e)}function GD({to:n,replace:e,state:t,relative:r}){rn(Zd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(uo);oo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=I.useContext(ea),{pathname:o}=el(),l=Av(),u=Kw(n,Yw(s),o,r==="path"),d=JSON.stringify(u);return I.useEffect(()=>{l(JSON.parse(d),{replace:e,state:t,relative:r})},[l,d,r,e,t]),null}function bd(n){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XD({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){rn(!Zd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=Jd(t));let{pathname:u="/",search:d="",hash:p="",state:m=null,key:v="default"}=t,w=I.useMemo(()=>{let S=tc(u,o);return S==null?null:{location:{pathname:S,search:d,hash:p,state:m,key:v},navigationType:r}},[o,u,d,p,m,v,r]);return oo(w!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:I.createElement(uo.Provider,{value:l},I.createElement(zg.Provider,{children:e,value:w}))}function YD({children:n,location:e}){return DD(jS(n),e)}function jS(n,e=[]){let t=[];return I.Children.forEach(n,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){t.push.apply(t,jS(r.props.children,s));return}rn(r.type===bd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jS(r.props.children,s)),t.push(o)}),t}var Ty="get",Ey="application/x-www-form-urlencoded";function Pv(n){return n!=null&&typeof n.tagName=="string"}function KD(n){return Pv(n)&&n.tagName.toLowerCase()==="button"}function qD(n){return Pv(n)&&n.tagName.toLowerCase()==="form"}function JD(n){return Pv(n)&&n.tagName.toLowerCase()==="input"}function QD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZD(n,e){return n.button===0&&(!e||e==="_self")&&!QD(n)}var B0=null;function eI(){if(B0===null)try{new FormData(document.createElement("form"),0),B0=!1}catch{B0=!0}return B0}var tI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jx(n){return n!=null&&!tI.has(n)?(oo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ey}"`),null):n}function nI(n,e){let t,r,i,s,o;if(qD(n)){let l=n.getAttribute("action");r=l?tc(l,e):null,t=n.getAttribute("method")||Ty,i=jx(n.getAttribute("enctype"))||Ey,s=new FormData(n)}else if(KD(n)||JD(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||l.getAttribute("action");if(r=u?tc(u,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||Ty,i=jx(n.getAttribute("formenctype"))||jx(l.getAttribute("enctype"))||Ey,s=new FormData(l,n),!eI()){let{name:d,type:p,value:m}=n;if(p==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,m)}}else{if(Pv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ty,r=null,i=Ey,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function Zw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function rI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sI(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await rI(s,t);return o.links?o.links():[]}return[]}));return cI(r.flat(1).filter(iI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qC(n,e,t,r,i,s){let o=(u,d)=>t[d]?u.route.id!==t[d].route.id:!0,l=(u,d)=>{var p;return t[d].pathname!==u.pathname||((p=t[d].route.path)==null?void 0:p.endsWith("*"))&&t[d].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,d)=>o(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{var m;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function oI(n,e){return aI(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function aI(n){return[...new Set(n)]}function lI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function cI(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(lI(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function uI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function hI(){let n=I.useContext(Qd);return Zw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dI(){let n=I.useContext(Mv);return Zw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var eb=I.createContext(void 0);eb.displayName="FrameworkContext";function yE(){let n=I.useContext(eb);return Zw(n,"You must render this element inside a <HydratedRouter> element"),n}function fI(n,e){let t=I.useContext(eb),[r,i]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:p,onTouchStart:m}=e,v=I.useRef(null);I.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let C=E=>{E.forEach(P=>{o(P.isIntersecting)})},_=new IntersectionObserver(C,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[n]),I.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let w=()=>{i(!0)},S=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:Wp(l,w),onBlur:Wp(u,S),onMouseEnter:Wp(d,w),onMouseLeave:Wp(p,S),onTouchStart:Wp(m,w)}]:[!1,v,{}]}function Wp(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function pI({page:n,...e}){let{router:t}=hI(),r=I.useMemo(()=>lE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?I.createElement(mI,{page:n,matches:r,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function gI(n){let{manifest:e,routeModules:t}=yE(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return sI(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function mI({page:n,matches:e,...t}){let r=el(),{manifest:i,routeModules:s}=yE(),{loaderData:o,matches:l}=dI(),u=I.useMemo(()=>qC(n,e,l,i,r,"data"),[n,e,l,i,r]),d=I.useMemo(()=>qC(n,e,l,i,r,"assets"),[n,e,l,i,r]),p=I.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(_=>{var P;let E=i.routes[_.route.id];!E||!E.hasLoader||(!u.some(M=>M.route.id===_.route.id)&&_.route.id in o&&((P=s[_.route.id])!=null&&P.shouldRevalidate)||E.hasClientLoader?S=!0:w.add(_.route.id))}),w.size===0)return[];let C=uI(n);return S&&w.size>0&&C.searchParams.set("_routes",e.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[o,r,i,u,e,n,s]),m=I.useMemo(()=>oI(d,i),[d,i]),v=gI(d);return I.createElement(I.Fragment,null,p.map(w=>I.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),m.map(w=>I.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),v.map(({key:w,link:S})=>I.createElement("link",{key:w,...S})))}function yI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vE&&(window.__reactRouterVersion="7.0.2")}catch{}function vI({basename:n,children:e,window:t}){let r=I.useRef();r.current==null&&(r.current=sD({window:t,v5Compat:!0}));let i=r.current,[s,o]=I.useState({action:i.action,location:i.location}),l=I.useCallback(u=>{I.startTransition(()=>o(u))},[o]);return I.useLayoutEffect(()=>i.listen(l),[i,l]),I.createElement(XD,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rv=I.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:p,viewTransition:m,...v},w){let{basename:S}=I.useContext(uo),C=typeof d=="string"&&xE.test(d),_,E=!1;if(typeof d=="string"&&C&&(_=d,vE))try{let q=new URL(window.location.href),R=d.startsWith("//")?new URL(q.protocol+d):new URL(d),se=tc(R.pathname,S);R.origin===q.origin&&se!=null?d=se+R.search+R.hash:E=!0}catch{oo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=PD(d,{relative:i}),[M,F,L]=fI(r,v),j=bI(d,{replace:o,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:m});function $(q){e&&e(q),q.defaultPrevented||j(q)}let W=I.createElement("a",{...v,...L,href:_||P,onClick:E||s?e:$,ref:yI(w,F),target:u,"data-discover":!C&&t==="render"?"true":void 0});return M&&!C?I.createElement(I.Fragment,null,W,I.createElement(pI,{page:P})):W});Rv.displayName="Link";var xI=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:u,...d},p){let m=$g(o,{relative:d.relative}),v=el(),w=I.useContext(Mv),{navigator:S,basename:C}=I.useContext(uo),_=w!=null&&EI(m)&&l===!0,E=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,P=v.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(P=P.toLowerCase(),M=M?M.toLowerCase():null,E=E.toLowerCase()),M&&C&&(M=tc(M,C)||M);const F=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=P===E||!i&&P.startsWith(E)&&P.charAt(F)==="/",j=M!=null&&(M===E||!i&&M.startsWith(E)&&M.charAt(E.length)==="/"),$={isActive:L,isPending:j,isTransitioning:_},W=L?e:void 0,q;typeof r=="function"?q=r($):q=[r,L?"active":null,j?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s($):s;return I.createElement(Rv,{...d,"aria-current":W,className:q,ref:p,style:R,to:o,viewTransition:l},typeof u=="function"?u($):u)});xI.displayName="NavLink";var SI=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=Ty,action:l,onSubmit:u,relative:d,preventScrollReset:p,viewTransition:m,...v},w)=>{let S=kI(),C=TI(l,{relative:d}),_=o.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&xE.test(l),P=M=>{if(u&&u(M),M.defaultPrevented)return;M.preventDefault();let F=M.nativeEvent.submitter,L=(F==null?void 0:F.getAttribute("formmethod"))||o;S(F||M.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:i,state:s,relative:d,preventScrollReset:p,viewTransition:m})};return I.createElement("form",{ref:w,method:_,action:C,onSubmit:r?u:P,...v,"data-discover":!E&&n==="render"?"true":void 0})});SI.displayName="Form";function wI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SE(n){let e=I.useContext(Qd);return rn(e,wI(n)),e}function bI(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=Av(),u=el(),d=$g(n,{relative:s});return I.useCallback(p=>{if(ZD(p,e)){p.preventDefault();let m=t!==void 0?t:vg(u)===vg(d);l(n,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,d,t,r,e,n,i,s,o])}var CI=0,_I=()=>`__${String(++CI)}__`;function kI(){let{router:n}=SE("useSubmit"),{basename:e}=I.useContext(uo),t=WD();return I.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:u,body:d}=nI(r,e);if(i.navigate===!1){let p=i.fetcherKey||_I();await n.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function TI(n,{relative:e}={}){let{basename:t}=I.useContext(uo),r=I.useContext(ea);rn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...$g(n||".",{relative:e})},o=el();if(n==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(p=>p==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let p=l.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ua([t,s.pathname])),vg(s)}function EI(n,e={}){let t=I.useContext(dE);rn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=SE("useViewTransitionState"),i=$g(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=tc(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=tc(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Uy(i.pathname,o)!=null||Uy(i.pathname,s)!=null}new TextEncoder;var wE=aE();const Jp=Gw(wE);function G(n,e,t){return(e=function(r){var i=function(s,o){if(typeof s!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var u=l.call(s,o||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}(r,"string");return typeof i=="symbol"?i:i+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Y(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(t),!0).forEach(function(r){G(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sn(n,e){if(n==null)return{};var t,r,i=function(o,l){if(o==null)return{};var u={};for(var d in o)if({}.hasOwnProperty.call(o,d)){if(l.indexOf(d)>=0)continue;u[d]=o[d]}return u}(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function oc(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}class QC{constructor(){G(this,"browserShadowBlurConstant",1),G(this,"DPI",96),G(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),G(this,"perfLimitSizeTotal",2097152),G(this,"maxCacheSideLimit",4096),G(this,"minCacheSideLimit",256),G(this,"disableStyleCopyPaste",!1),G(this,"enableGLFiltering",!0),G(this,"textureSize",4096),G(this,"forceGLPutImageData",!1),G(this,"cachesBoundsOfCurve",!1),G(this,"fontPaths",{}),G(this,"NUM_FRACTION_DIGITS",4)}}const kt=new class extends QC{constructor(n){super(),this.configure(n)}configure(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,n)}addFonts(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=Y(Y({},this.fontPaths),n)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(n=>{delete this.fontPaths[n]})}clearFonts(){this.fontPaths={}}restoreDefaults(n){const e=new QC,t=(n==null?void 0:n.reduce((r,i)=>(r[i]=e[i],r),{}))||e;this.configure(t)}},nc=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return console[n]("fabric",...t)};let Go=class extends Error{constructor(e,t){super("fabric: ".concat(e),t)}},OI=class extends Go{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}};class MI{}let AI=class extends MI{testPrecision(e,t){const r="precision ".concat(t,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,r),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const t=e.getContext("webgl");t&&(this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(r=>this.testPrecision(t,r)),t.getExtension("WEBGL_lose_context").loseContext(),nc("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const PI={};let ZC;const Ko=()=>ZC||(ZC={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new AI,dispose(){},copyPasteData:PI}),ef=()=>Ko().document,tb=()=>Ko().window,bE=()=>{var n;return Math.max((n=kt.devicePixelRatio)!==null&&n!==void 0?n:tb().devicePixelRatio,1)},og=new class{constructor(){G(this,"charWidthsCache",{}),G(this,"boundsOfCurveCache",{})}getFontCache(n){let{fontFamily:e,fontStyle:t,fontWeight:r}=n;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const i=this.charWidthsCache[e],s="".concat(t.toLowerCase(),"_").concat((r+"").toLowerCase());return i[s]||(i[s]={}),i[s]}clearFontCache(n){(n=(n||"").toLowerCase())?this.charWidthsCache[n]&&delete this.charWidthsCache[n]:this.charWidthsCache={}}limitDimsByArea(n){const{perfLimitSizeTotal:e}=kt,t=Math.sqrt(e*n);return[Math.floor(t),Math.floor(e/t)]}},zS="6.5.3";function Oy(){}const Wg=Math.PI/2,Gy=2*Math.PI,nb=Math.PI/180,si=Object.freeze([1,0,0,1,0,0]),rb=16,$l=.4477152502,ft="center",Nt="left",Ei="top",$S="bottom",Cn="right",Oi="none",ib=/\r?\n/,CE="moving",Dv="scaling",_E="rotating",sb="rotate",kE="skewing",xg="resizing",RI="modifyPoly",DI="modifyPath",Xy="changed",Iv="scale",Ri="scaleX",Ms="scaleY",tf="skewX",nf="skewY",Wn="fill",Mi="stroke",Yy="modified",dd="json",zx="svg",Le=new class{constructor(){this[dd]=new Map,this[zx]=new Map}has(n){return this[dd].has(n)}getClass(n){const e=this[dd].get(n);if(!e)throw new Go("No class registered for ".concat(n));return e}setClass(n,e){e?this[dd].set(e,n):(this[dd].set(n.type,n),this[dd].set(n.type.toLowerCase(),n))}getSVGClass(n){return this[zx].get(n)}setSVGClass(n,e){this[zx].set(e??n.type.toLowerCase(),n)}},Ky=new class extends Array{remove(n){const e=this.indexOf(n);e>-1&&this.splice(e,1)}cancelAll(){const n=this.splice(0);return n.forEach(e=>e.abort()),n}cancelByCanvas(n){if(!n)return[];const e=this.filter(t=>{var r;return t.target===n||typeof t.target=="object"&&((r=t.target)===null||r===void 0?void 0:r.canvas)===n});return e.forEach(t=>t.abort()),e}cancelByTarget(n){if(!n)return[];const e=this.filter(t=>t.target===n);return e.forEach(t=>t.abort()),e}};class II{constructor(){G(this,"__eventListeners",{})}on(e,t){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(r=>{let[i,s]=r;this.on(i,s)}),()=>this.off(e);if(t){const r=e;return this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(t),()=>this.off(r,t)}return()=>!1}once(e,t){if(typeof e=="object"){const r=[];return Object.entries(e).forEach(i=>{let[s,o]=i;r.push(this.once(s,o))}),()=>r.forEach(i=>i())}if(t){const r=this.on(e,function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];t.call(this,...s),r()});return r}return()=>!1}_removeEventListener(e,t){if(this.__eventListeners[e])if(t){const r=this.__eventListeners[e],i=r.indexOf(t);i>-1&&r.splice(i,1)}else this.__eventListeners[e]=[]}off(e,t){if(this.__eventListeners)if(e===void 0)for(const r in this.__eventListeners)this._removeEventListener(r);else typeof e=="object"?Object.entries(e).forEach(r=>{let[i,s]=r;this._removeEventListener(i,s)}):this._removeEventListener(e,t)}fire(e,t){var r;if(!this.__eventListeners)return;const i=(r=this.__eventListeners[e])===null||r===void 0?void 0:r.concat();if(i)for(let s=0;s<i.length;s++)i[s].call(this,t||{})}}const Cd=(n,e)=>{const t=n.indexOf(e);return t!==-1&&n.splice(t,1),n},Ka=n=>{if(n===0)return 1;switch(Math.abs(n)/Wg){case 1:case 3:return 0;case 2:return-1}return Math.cos(n)},qa=n=>{if(n===0)return 0;const e=n/Wg,t=Math.sign(n);switch(e){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(n)};class ie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t)}add(e){return new ie(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new ie(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new ie(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new ie(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new ie(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new ie(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new ie(this.x/e.x,this.y/e.y)}scalarDivide(e){return new ie(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return t=Math.max(Math.min(1,t),0),new ie(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)}distanceFrom(e){const t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)}midPointFrom(e){return this.lerp(e)}min(e){return new ie(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new ie(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,t){return this.x=e,this.y=t,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const t=this.x,r=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=r}clone(){return new ie(this.x,this.y)}rotate(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ob;const r=qa(e),i=Ka(e),s=this.subtract(t);return new ie(s.x*i-s.y*r,s.x*r+s.y*i).add(t)}transform(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new ie(e[0]*this.x+e[2]*this.y+(t?0:e[4]),e[1]*this.x+e[3]*this.y+(t?0:e[5]))}}const ob=new ie(0,0),My=n=>!!n&&Array.isArray(n._objects);function TE(n){class e extends n{constructor(){super(...arguments),G(this,"_objects",[])}_onObjectAdded(r){}_onObjectRemoved(r){}_onStackOrderChanged(r){}add(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const o=this._objects.push(...i);return i.forEach(l=>this._onObjectAdded(l)),o}insertAt(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return this._objects.splice(r,0,...s),s.forEach(l=>this._onObjectAdded(l)),this._objects.length}remove(){const r=this._objects,i=[];for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return o.forEach(u=>{const d=r.indexOf(u);d!==-1&&(r.splice(d,1),i.push(u),this._onObjectRemoved(u))}),i}forEachObject(r){this.getObjects().forEach((i,s,o)=>r(i,s,o))}getObjects(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...i))}item(r){return this._objects[r]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(r,i){return!!this._objects.includes(r)||!!i&&this._objects.some(s=>s instanceof e&&s.contains(r,!0))}complexity(){return this._objects.reduce((r,i)=>r+=i.complexity?i.complexity():0,0)}sendObjectToBack(r){return!(!r||r===this._objects[0])&&(Cd(this._objects,r),this._objects.unshift(r),this._onStackOrderChanged(r),!0)}bringObjectToFront(r){return!(!r||r===this._objects[this._objects.length-1])&&(Cd(this._objects,r),this._objects.push(r),this._onStackOrderChanged(r),!0)}sendObjectBackwards(r,i){if(!r)return!1;const s=this._objects.indexOf(r);if(s!==0){const o=this.findNewLowerIndex(r,s,i);return Cd(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0}return!1}bringObjectForward(r,i){if(!r)return!1;const s=this._objects.indexOf(r);if(s!==this._objects.length-1){const o=this.findNewUpperIndex(r,s,i);return Cd(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0}return!1}moveObjectTo(r,i){return r!==this._objects[i]&&(Cd(this._objects,r),this._objects.splice(i,0,r),this._onStackOrderChanged(r),!0)}findNewLowerIndex(r,i,s){let o;if(s){o=i;for(let l=i-1;l>=0;--l)if(r.isOverlapping(this._objects[l])){o=l;break}}else o=i-1;return o}findNewUpperIndex(r,i,s){let o;if(s){o=i;for(let l=i+1;l<this._objects.length;++l)if(r.isOverlapping(this._objects[l])){o=l;break}}else o=i+1;return o}collectObjects(r){let{left:i,top:s,width:o,height:l}=r,{includeIntersecting:u=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=[],p=new ie(i,s),m=p.add(new ie(o,l));for(let v=this._objects.length-1;v>=0;v--){const w=this._objects[v];w.selectable&&w.visible&&(u&&w.intersectsWithRect(p,m)||w.isContainedWithinRect(p,m)||u&&w.containsPoint(p)||u&&w.containsPoint(m))&&d.push(w)}return d}}return e}class EE extends II{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const t in e)this.set(t,e[t])}_setObject(e){for(const t in e)this._set(t,e[t])}set(e,t){return typeof e=="object"?this._setObject(e):this._set(e,t),this}_set(e,t){this[e]=t}toggle(e){const t=this.get(e);return typeof t=="boolean"&&this.set(e,!t),this}get(e){return this[e]}}function Ay(n){return tb().requestAnimationFrame(n)}function NI(n){return tb().cancelAnimationFrame(n)}let LI=0;const rc=()=>LI++,ao=()=>{const n=ef().createElement("canvas");if(!n||n.getContext===void 0)throw new Go("Failed to create `canvas` element");return n},FI=()=>ef().createElement("img"),qo=n=>{const e=ao();return e.width=n.width,e.height=n.height,e},OE=(n,e,t)=>n.toDataURL("image/".concat(e),t),_n=n=>n*nb,Au=n=>n/nb,BI=n=>n.every((e,t)=>e===si[t]),Ti=(n,e,t)=>new ie(n).transform(e,t),ro=n=>{const e=1/(n[0]*n[3]-n[1]*n[2]),t=[e*n[3],-e*n[1],-e*n[2],e*n[0],0,0],{x:r,y:i}=new ie(n[4],n[5]).transform(t,!0);return t[4]=-r,t[5]=-i,t},Cr=(n,e,t)=>[n[0]*e[0]+n[2]*e[1],n[1]*e[0]+n[3]*e[1],n[0]*e[2]+n[2]*e[3],n[1]*e[2]+n[3]*e[3],t?0:n[0]*e[4]+n[2]*e[5]+n[4],t?0:n[1]*e[4]+n[3]*e[5]+n[5]],ab=(n,e)=>n.reduceRight((t,r)=>r&&t?Cr(r,t,e):r||t,void 0)||si.concat(),ME=n=>{let[e,t]=n;return Math.atan2(t,e)},qy=n=>{const e=ME(n),t=Math.pow(n[0],2)+Math.pow(n[1],2),r=Math.sqrt(t),i=(n[0]*n[3]-n[2]*n[1])/r,s=Math.atan2(n[0]*n[2]+n[1]*n[3],t);return{angle:Au(e),scaleX:r,scaleY:i,skewX:Au(s),skewY:0,translateX:n[4]||0,translateY:n[5]||0}},Hg=function(n){return[1,0,0,1,n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Vg(){let{angle:n=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:t=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=_n(n),i=Ka(r),s=qa(r);return[i,s,-s,i,e?e-(i*e-s*t):0,t?t-(s*e+i*t):0]}const lb=function(n){return[n,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,0,0]},AE=n=>Math.tan(_n(n)),PE=n=>[1,0,AE(n),1,0,0],RE=n=>[1,AE(n),0,1,0,0],Nv=n=>{let{scaleX:e=1,scaleY:t=1,flipX:r=!1,flipY:i=!1,skewX:s=0,skewY:o=0}=n,l=lb(r?-e:e,i?-t:t);return s&&(l=Cr(l,PE(s),!0)),o&&(l=Cr(l,RE(o),!0)),l},jI=n=>{const{translateX:e=0,translateY:t=0,angle:r=0}=n;let i=Hg(e,t);r&&(i=Cr(i,Vg({angle:r})));const s=Nv(n);return BI(s)||(i=Cr(i,s)),i},Py=function(n){let{signal:e,crossOrigin:t=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,i){if(e&&e.aborted)return i(new OI("loadImage"));const s=FI();let o;e&&(o=function(u){s.src="",i(u)},e.addEventListener("abort",o,{once:!0}));const l=function(){s.onload=s.onerror=null,o&&(e==null||e.removeEventListener("abort",o)),r(s)};n?(s.onload=l,s.onerror=function(){o&&(e==null||e.removeEventListener("abort",o)),i(new Go("Error loading ".concat(s.src)))},t&&(s.crossOrigin=t),s.src=n):l()})},Sg=function(n){let{signal:e,reviver:t=Oy}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,i)=>{const s=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(n.map(o=>Le.getClass(o.type).fromObject(o,{signal:e}).then(l=>(t(o,l),s.push(l),l)))).then(r).catch(o=>{s.forEach(l=>{l.dispose&&l.dispose()}),i(o)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},Lv=function(n){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((t,r)=>{const i=[];e&&e.addEventListener("abort",r,{once:!0});const s=Object.values(n).map(l=>l&&l.type&&Le.has(l.type)?Sg([l],{signal:e}).then(u=>{let[d]=u;return i.push(d),d}):l),o=Object.keys(n);Promise.all(s).then(l=>l.reduce((u,d,p)=>(u[o[p]]=d,u),{})).then(t).catch(l=>{i.forEach(u=>{u.dispose&&u.dispose()}),r(l)}).finally(()=>{e&&e.removeEventListener("abort",r)})})},rf=function(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,t)=>(t in n&&(e[t]=n[t]),e),{})},cb=(n,e)=>Object.keys(n).reduce((t,r)=>(e(n[r],r,n)&&(t[r]=n[r]),t),{}),e_={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},$x=(n,e,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n),t_=(n,e,t,r)=>{n/=255,e/=255,t/=255;const i=Math.max(n,e,t),s=Math.min(n,e,t);let o,l;const u=(i+s)/2;if(i===s)o=l=0;else{const d=i-s;switch(l=u>.5?d/(2-i-s):d/(i+s),i){case n:o=(e-t)/d+(e<t?6:0);break;case e:o=(t-n)/d+2;break;case t:o=(n-e)/d+4}o/=6}return[Math.round(360*o),Math.round(100*l),Math.round(100*u),r]},n_=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(n)/(n.endsWith("%")?100:1)},j0=n=>Math.min(Math.round(n),255).toString(16).toUpperCase().padStart(2,"0"),r_=n=>{let[e,t,r,i=1]=n;const s=Math.round(.3*e+.59*t+.11*r);return[s,s,s,i]};class Ft{constructor(e){if(G(this,"isUnrecognised",!1),e)if(e instanceof Ft)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,r,i,s=1]=e;this.setSource([t,r,i,s])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in e_&&(e=e_[e]),e==="transparent"?[255,255,255,0]:Ft.sourceFromHex(e)||Ft.sourceFromRgb(e)||Ft.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,t,r]=this.getSource();return"rgb(".concat(e,",").concat(t,",").concat(r,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,t,r]=t_(...this.getSource());return"hsl(".concat(e,",").concat(t,"%,").concat(r,"%)")}toHsla(){const[e,t,r,i]=t_(...this.getSource());return"hsla(".concat(e,",").concat(t,"%,").concat(r,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,t,r,i]=this.getSource();return"".concat(j0(e)).concat(j0(t)).concat(j0(r)).concat(j0(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(r_(this.getSource())),this}toBlackWhite(e){const[t,,,r]=r_(this.getSource()),i=t<(e||127)?0:255;return this.setSource([i,i,i,r]),this}overlayWith(e){e instanceof Ft||(e=new Ft(e));const t=this.getSource(),r=e.getSource(),[i,s,o]=t.map((l,u)=>Math.round(.5*l+.5*r[u]));return this.setSource([i,s,o,t[3]]),this}static fromRgb(e){return Ft.fromRgba(e)}static fromRgba(e){return new Ft(Ft.sourceFromRgb(e))}static sourceFromRgb(e){const t=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(t){const[r,i,s]=t.slice(1,4).map(o=>{const l=parseFloat(o);return o.endsWith("%")?Math.round(2.55*l):l});return[r,i,s,n_(t[4])]}}static fromHsl(e){return Ft.fromHsla(e)}static fromHsla(e){return new Ft(Ft.sourceFromHsl(e))}static sourceFromHsl(e){const t=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!t)return;const r=(Ft.parseAngletoDegrees(t[1])%360+360)%360/360,i=parseFloat(t[2])/100,s=parseFloat(t[3])/100;let o,l,u;if(i===0)o=l=u=s;else{const d=s<=.5?s*(i+1):s+i-s*i,p=2*s-d;o=$x(p,d,r+1/3),l=$x(p,d,r),u=$x(p,d,r-1/3)}return[Math.round(255*o),Math.round(255*l),Math.round(255*u),n_(t[4])]}static fromHex(e){return new Ft(Ft.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const t=e.slice(e.indexOf("#")+1);let r;r=t.length<=4?t.split("").map(u=>u+u):t.match(/.{2}/g);const[i,s,o,l=255]=r.map(u=>parseInt(u,16));return[i,s,o,l/255]}}static parseAngletoDegrees(e){const t=e.toLowerCase(),r=parseFloat(t);return t.includes("rad")?Au(r):t.includes("turn")?360*r:r}}const hn=(n,e)=>parseFloat(Number(n).toFixed(e)),Id=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rb;const t=/\D{0,2}$/.exec(n),r=parseFloat(n),i=kt.DPI;switch(t==null?void 0:t[0]){case"mm":return r*i/25.4;case"cm":return r*i/2.54;case"in":return r*i;case"pt":return r*i/72;case"pc":return r*i/72*12;case"em":return r*e;default:return r}},zI=n=>{const[e,t]=n.trim().split(" "),[r,i]=(s=e)&&s!==Oi?[s.slice(1,4),s.slice(5,8)]:s===Oi?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:t||"meet",alignX:r,alignY:i}},Jy=n=>"matrix("+n.map(e=>hn(e,kt.NUM_FRACTION_DIGITS)).join(" ")+")",wg=function(n,e){let t,r,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)t="url(#SVGID_".concat(e.id,")");else{const s=new Ft(e),o=s.getAlpha();t=s.toRgb(),o!==1&&(r=o.toString())}else t="none";return i?"".concat(n,": ").concat(t,"; ").concat(r?"".concat(n,"-opacity: ").concat(r,"; "):""):"".concat(n,'="').concat(t,'" ').concat(r?"".concat(n,'-opacity="').concat(r,'" '):"")},ks=n=>!!n&&n.toLive!==void 0,i_=n=>!!n&&typeof n.toObject=="function",s_=n=>!!n&&n.offsetX!==void 0&&"source"in n,uu=n=>!!n&&"multiSelectionStacking"in n;function DE(n){const e=n&&eo(n);let t=0,r=0;if(!n||!e)return{left:t,top:r};let i=n;const s=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(t=o.scrollLeft||s.scrollLeft||0,r=o.scrollTop||s.scrollTop||0):(t+=i.scrollLeft||0,r+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:t,top:r}}const eo=n=>n.ownerDocument||null,IE=n=>{var e;return((e=n.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},NE=function(n,e,t){let{width:r,height:i}=t,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;n.width=r,n.height=i,s>1&&(n.setAttribute("width",(r*s).toString()),n.setAttribute("height",(i*s).toString()),e.scale(s,s))},WS=(n,e)=>{let{width:t,height:r}=e;t&&(n.style.width=typeof t=="number"?"".concat(t,"px"):t),r&&(n.style.height=typeof r=="number"?"".concat(r,"px"):r)};function o_(n){return n.onselectstart!==void 0&&(n.onselectstart=()=>!1),n.style.userSelect=Oi,n}class LE{constructor(e){G(this,"_originalCanvasStyle",void 0),G(this,"lower",void 0);const t=this.createLowerCanvas(e);this.lower={el:t,ctx:t.getContext("2d")}}createLowerCanvas(e){const t=(r=e)&&r.getContext!==void 0?e:e&&ef().getElementById(e)||ao();var r;if(t.hasAttribute("data-fabric"))throw new Go("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=t.style.cssText,t.setAttribute("data-fabric","main"),t.classList.add("lower-canvas"),t}cleanupDOM(e){let{width:t,height:r}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(t)),i.setAttribute("height","".concat(r)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,t){const{el:r,ctx:i}=this.lower;NE(r,i,e,t)}setCSSDimensions(e){WS(this.lower.el,e)}calcOffset(){return function(e){var t;const r=e&&eo(e),i={left:0,top:0};if(!r)return i;const s=((t=IE(e))===null||t===void 0?void 0:t.getComputedStyle(e,null))||{};i.left+=parseInt(s.borderLeftWidth,10)||0,i.top+=parseInt(s.borderTopWidth,10)||0,i.left+=parseInt(s.paddingLeft,10)||0,i.top+=parseInt(s.paddingTop,10)||0;let o={left:0,top:0};const l=r.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const u=DE(e);return{left:o.left+u.left-(l.clientLeft||0)+i.left,top:o.top+u.top-(l.clientTop||0)+i.top}}(this.lower.el)}dispose(){Ko().dispose(this.lower.el),delete this.lower}}const $I={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...si]};class Ug extends TE(EE){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return Ug.ownDefaults}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(t),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new LE(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];const s=super.insertAt(e,...r);return r.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(nc("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?bE():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,t){return this.setDimensions({width:e},t)}setHeight(e,t){return this.setDimensions({height:e},t)}_setDimensionsImpl(e){let{cssOnly:t=!1,backstoreOnly:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t){const i=Y({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}r||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,t){const r=e,i=[...this.viewportTransform],s=Ti(e,ro(i));i[0]=t,i[3]=t;const o=Ti(s,i);i[4]+=r.x-o.x,i[5]+=r.y-o.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new ie(0,0),e)}absolutePan(e){const t=[...this.viewportTransform];return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}relativePan(e){return this.absolutePan(new ie(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Ay(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,t=this.height,r=ro(this.viewportTransform),i=Ti({x:0,y:0},r),s=Ti({x:e,y:t},r),o=i.min(s),l=i.max(s);return this.vptCoords={tl:o,tr:new ie(l.x,o.y),bl:new ie(o.x,l.y),br:l}}cancelRequestedRender(){this.nextRenderHandle&&(NI(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,t){if(this.destroyed)return;const r=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,t){const r=this.viewportTransform;e.save(),e.transform(...r),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}_renderObjects(e,t){for(let r=0,i=t.length;r<i;++r)t[r]&&t[r].render(e)}_renderBackgroundOrOverlay(e,t){const r=this["".concat(t,"Color")],i=this["".concat(t,"Image")],s=this.viewportTransform,o=this["".concat(t,"Vpt")];if(!r&&!i)return;const l=ks(r);if(r){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=l?r.toLive(e):r,o&&e.transform(...s),l){e.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);const u=r.gradientTransform||r.patternTransform;u&&e.transform(...u)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:u}=this;this.skipOffscreen=o,o&&e.transform(...s),i.render(e),this.skipOffscreen=u,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ie(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new ie(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new ie(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new ie(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new ie(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Ti(this.getCenterPoint(),ro(this.viewportTransform))}_centerObject(e,t){e.setXY(t,ft,ft),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,t){const r=this.clipPath,i=r&&!r.excludeFromExport?this._toObject(r,e,t):null;return Y(Y(Y({version:zS},rf(this,t)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,e,t))},this.__serializeBgOverlay(e,t)),i?{clipPath:i}:null)}_toObject(e,t,r){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const s=e[t](r);return this.includeDefaultValues||(e.includeDefaultValues=!!i),s}__serializeBgOverlay(e,t){const r={},i=this.backgroundImage,s=this.overlayImage,o=this.backgroundColor,l=this.overlayColor;return ks(o)?o.excludeFromExport||(r.background=o.toObject(t)):o&&(r.background=o),ks(l)?l.excludeFromExport||(r.overlay=l.toObject(t)):l&&(r.overlay=l),i&&!i.excludeFromExport&&(r.backgroundImage=this._toObject(i,e,t)),s&&!s.excludeFromExport&&(r.overlayImage=this._toObject(s,e,t)),r}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;const r=[];return this._setSVGPreamble(r,e),this._setSVGHeader(r,e),this.clipPath&&r.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",t),this._setSVGObjects(r,t),this.clipPath&&r.push(`</g>
`),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",t),r.push("</svg>"),r.join("")}_setSVGPreamble(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,t){const r=t.width||"".concat(this.width),i=t.height||"".concat(this.height),s=kt.NUM_FRACTION_DIGITS,o=t.viewBox;let l;if(o)l='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const u=this.viewportTransform;l='viewBox="'.concat(hn(-u[4]/u[0],s)," ").concat(hn(-u[5]/u[3],s)," ").concat(hn(this.width/u[0],s)," ").concat(hn(this.height/u[3],s),'" ')}else l='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',i,'" ',l,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",zS,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),`</defs>
`)}createSVGClipPathMarkup(e){const t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(rc()),'<clipPath id="'.concat(t.clipPathId,`" >
`).concat(t.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const t=this["".concat(e,"Color")];if(ks(t)){const r=this["".concat(e,"Vpt")],i=this.viewportTransform,s={isType:()=>!1,width:this.width/(r?i[0]:1),height:this.height/(r?i[3]:1)};return t.toSVG(s,{additionalTransform:r?Jy(i):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],t={},r=kt.fontPaths;this._objects.forEach(function s(o){e.push(o),My(o)&&o._objects.forEach(s)}),e.forEach(s=>{if(!(o=s)||typeof o._renderText!="function")return;var o;const{styles:l,fontFamily:u}=s;!t[u]&&r[u]&&(t[u]=!0,l&&Object.values(l).forEach(d=>{Object.values(d).forEach(p=>{let{fontFamily:m=""}=p;!t[m]&&r[m]&&(t[m]=!0)})}))});const i=Object.keys(t).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(r[s],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,t){this.forEachObject(r=>{r.excludeFromExport||this._setSVGObject(e,r,t)})}_setSVGObject(e,t,r){e.push(t.toSVG(r))}_setSVGBgOverlayImage(e,t,r){const i=this[t];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(r))}_setSVGBgOverlayColor(e,t){const r=this["".concat(t,"Color")];if(r)if(ks(r)){const i=r.repeat||"",s=this.width,o=this.height,l=this["".concat(t,"Vpt")]?Jy(ro(this.viewportTransform)):"";e.push('<rect transform="'.concat(l," translate(").concat(s/2,",").concat(o/2,')" x="').concat(r.offsetX-s/2,'" y="').concat(r.offsetY-o/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!s_(r)?s:r.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!s_(r)?o:r.source.height,'" fill="url(#SVGID_').concat(r.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',`></rect>
`)}loadFromJSON(e,t){let{signal:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new Go("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:s=[],backgroundImage:o,background:l,overlayImage:u,overlay:d,clipPath:p}=i,m=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Sg(s,{reviver:t,signal:r}),Lv({backgroundImage:o,backgroundColor:l,overlayImage:u,overlayColor:d,clipPath:p},{signal:r})]).then(v=>{let[w,S]=v;return this.clear(),this.add(...w),this.set(i),this.set(S),this.renderOnAddRemove=m,this})}clone(e){const t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}cloneWithoutData(){const e=qo(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:t="png",quality:r=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,o=i*(s?this.getRetinaScaling():1);return OE(this.toCanvasElement(o,e),t,r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:t,height:r,left:i,top:s,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=(t||this.width)*e,u=(r||this.height)*e,d=this.getZoom(),p=this.width,m=this.height,v=this.skipControlsDrawing,w=d*e,S=this.viewportTransform,C=[w,0,0,w,(S[4]-(i||0))*e,(S[5]-(s||0))*e],_=this.enableRetinaScaling,E=qo({width:l,height:u}),P=o?this._objects.filter(M=>o(M)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=C,this.width=l,this.height=u,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(E.getContext("2d"),P),this.viewportTransform=S,this.width=p,this.height=m,this.calcViewportBoundaries(),this.enableRetinaScaling=_,this.skipControlsDrawing=v,E}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Ky.cancelByCanvas(this),this.disposed=!0,new Promise((e,t)=>{const r=()=>{this.destroy(),e(!0)};r.kill=t,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=r:r()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}G(Ug,"ownDefaults",$I);const WI=["touchstart","touchmove","touchend"],HI=n=>{const e=DE(n.target),t=function(r){const i=r.changedTouches;return i&&i[0]?i[0]:r}(n);return new ie(t.clientX+e.left,t.clientY+e.top)},HS=n=>WI.includes(n.type)||n.pointerType==="touch",VS=n=>{n.preventDefault(),n.stopPropagation()},Ga=n=>{let e=0,t=0,r=0,i=0;for(let s=0,o=n.length;s<o;s++){const{x:l,y:u}=n[s];(l>r||!s)&&(r=l),(l<e||!s)&&(e=l),(u>i||!s)&&(i=u),(u<t||!s)&&(t=u)}return{left:e,top:t,width:r-e,height:i-t}},VI=["translateX","translateY","scaleX","scaleY"],UI=(n,e)=>Qy(n,Cr(e,n.calcOwnMatrix())),Qy=(n,e)=>{const t=qy(e),{translateX:r,translateY:i,scaleX:s,scaleY:o}=t,l=sn(t,VI),u=new ie(r,i);n.flipX=!1,n.flipY=!1,Object.assign(n,l),n.set({scaleX:s,scaleY:o}),n.setPositionByOrigin(u,ft,ft)},GI=n=>{n.scaleX=1,n.scaleY=1,n.skewX=0,n.skewY=0,n.flipX=!1,n.flipY=!1,n.rotate(0)},FE=n=>({scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,angle:n.angle,left:n.left,flipX:n.flipX,flipY:n.flipY,top:n.top}),ub=(n,e,t)=>{const r=n/2,i=e/2,s=[new ie(-r,-i),new ie(r,-i),new ie(-r,i),new ie(r,i)].map(l=>l.transform(t)),o=Ga(s);return new ie(o.width,o.height)},Fv=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:si;return Cr(ro(arguments.length>1&&arguments[1]!==void 0?arguments[1]:si),n)},Nd=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:si,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:si;return n.transform(Fv(e,t))},XI=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:si,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:si;return n.transform(Fv(e,t),!0)},YI=(n,e,t)=>{const r=Fv(e,t);return Qy(n,Cr(r,n.calcOwnMatrix())),r},BE=(n,e)=>{var t;const{transform:{target:r}}=e;(t=r.canvas)===null||t===void 0||t.fire("object:".concat(n),Y(Y({},e),{},{target:r})),r.fire(n,e)},KI={left:-.5,top:-.5,center:0,bottom:.5,right:.5},An=n=>typeof n=="string"?KI[n]:n-.5,Zy="not-allowed";function jE(n){return An(n.originX)===An(ft)&&An(n.originY)===An(ft)}function a_(n){return .5-An(n)}const io=(n,e)=>n[e],zE=(n,e,t,r)=>({e:n,transform:e,pointer:new ie(t,r)});function $E(n,e){const t=n.getTotalAngle()+Au(Math.atan2(e.y,e.x))+360;return Math.round(t%360/45)}function hb(n,e,t,r,i){var s;let{target:o,corner:l}=n;const u=o.controls[l],d=((s=o.canvas)===null||s===void 0?void 0:s.getZoom())||1,p=o.padding/d,m=function(v,w,S,C){const _=v.getRelativeCenterPoint(),E=S!==void 0&&C!==void 0?v.translateToGivenOrigin(_,ft,ft,S,C):new ie(v.left,v.top);return(v.angle?w.rotate(-_n(v.angle),_):w).subtract(E)}(o,new ie(r,i),e,t);return m.x>=p&&(m.x-=p),m.x<=-p&&(m.x+=p),m.y>=p&&(m.y-=p),m.y<=p&&(m.y+=p),m.x-=u.offsetX,m.y-=u.offsetY,m}const qI=(n,e,t,r)=>{const{target:i,offsetX:s,offsetY:o}=e,l=t-s,u=r-o,d=!io(i,"lockMovementX")&&i.left!==l,p=!io(i,"lockMovementY")&&i.top!==u;return d&&i.set(Nt,l),p&&i.set(Ei,u),(d||p)&&BE(CE,zE(n,e,t,r)),d||p};class WE{getSvgStyles(e){const t=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):Oi,s=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",u=this.strokeMiterLimit?this.strokeMiterLimit:"4",d=this.opacity!==void 0?this.opacity:"1",p=this.visible?"":" visibility: hidden;",m=e?"":this.getSvgFilter(),v=wg(Wn,this.fill);return[wg(Mi,this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",u,"; ",v,"fill-rule: ",t,"; ","opacity: ",d,";",m,p].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(Jy(r));return"".concat(i).concat(t,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:t,additionalTransform:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),s=e.indexOf("COMMON_PARTS");return e[s]=i,t?t(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:t,reviver:r,withShadow:i,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=t?"":'style="'.concat(this.getSvgStyles(),'" '),l=i?'style="'.concat(this.getSvgFilter(),'" '):"",u=this.clipPath,d=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",p=u&&u.absolutePositioned,m=this.stroke,v=this.fill,w=this.shadow,S=[],C=e.indexOf("COMMON_PARTS");let _;u&&(u.clipPathId="CLIPPATH_".concat(rc()),_='<clipPath id="'.concat(u.clipPathId,`" >
`).concat(u.toClipPathSVG(r),`</clipPath>
`)),p&&S.push("<g ",l,this.getSvgCommons(),` >
`),S.push("<g ",this.getSvgTransform(!1),p?"":l+this.getSvgCommons(),` >
`);const E=[o,d,t?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return e[C]=E,ks(v)&&S.push(v.toSVG(this)),ks(m)&&S.push(m.toSVG(this)),w&&S.push(w.toSVG(this)),u&&S.push(_),S.push(e.join("")),S.push(`</g>
`),p&&S.push(`</g>
`),r?r(S.join("")):S.join("")}addPaintOrder(){return this.paintFirst!==Wn?' paint-order="'.concat(this.paintFirst,'" '):""}}function Bv(n){return new RegExp("^("+n.join("|")+")\\b","i")}var l_;const Pu=String.raw(l_||(l_=oc(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),JI=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Pu+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Pu+"))?\\s+(.*)"),QI={cx:Nt,x:Nt,r:"radius",cy:Ei,y:Ei,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Wx="font-size",Hx="clip-path";Bv(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);Bv(["symbol","image","marker","pattern","view","svg"]);const c_=Bv(["symbol","g","a","svg","clipPath","defs"]),ZI=new ie(1,0),HE=new ie,VE=(n,e)=>n.rotate(e),US=(n,e)=>new ie(e).subtract(n),GS=n=>n.distanceFrom(HE),XS=(n,e)=>Math.atan2(ag(n,e),tN(n,e)),eN=n=>XS(ZI,n),db=n=>n.eq(HE)?n:n.scalarDivide(GS(n)),UE=function(n){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return db(new ie(-n.y,n.x).scalarMultiply(e?1:-1))},ag=(n,e)=>n.x*e.y-n.y*e.x,tN=(n,e)=>n.x*e.x+n.y*e.y,u_=(n,e,t)=>{if(n.eq(e)||n.eq(t))return!0;const r=ag(e,t),i=ag(e,n),s=ag(t,n);return r>=0?i>=0&&s<=0:!(i<=0&&s>=0)},h_="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",d_=new RegExp("(?:\\s|^)"+h_+h_+"("+Pu+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Xa{constructor(e){const t=typeof e=="string"?Xa.parseShadow(e):e;Object.assign(this,Xa.ownDefaults,t),this.id=rc()}static parseShadow(e){const t=e.trim(),[,r=0,i=0,s=0]=(d_.exec(t)||[]).map(o=>parseFloat(o)||0);return{color:(t.replace(d_,"")||"rgb(0,0,0)").trim(),offsetX:r,offsetY:i,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const t=VE(new ie(this.offsetX,this.offsetY),_n(-e.angle)),r=new Ft(this.color);let i=40,s=40;return e.width&&e.height&&(i=100*hn((Math.abs(t.x)+this.blur)/e.width,kt.NUM_FRACTION_DIGITS)+20,s=100*hn((Math.abs(t.y)+this.blur)/e.height,kt.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(hn(this.blur?this.blur/2:0,kt.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(hn(t.x,kt.NUM_FRACTION_DIGITS),'" dy="').concat(hn(t.y,kt.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(r.toRgb(),'" flood-opacity="').concat(r.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},t=Xa.ownDefaults;return this.includeDefaultValues?e:cb(e,(r,i)=>r!==t[i])}static async fromObject(e){return new this(e)}}G(Xa,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),G(Xa,"type","shadow"),Le.setClass(Xa,"shadow");const Hd=(n,e,t)=>Math.max(n,Math.min(e,t)),nN=[Ei,Nt,Ri,Ms,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",tf,nf],tl=[Wn,Mi,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],rN={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Nt,originY:Ei,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Wn,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},iN=(n,e,t,r)=>-t*Math.cos(n/r*Wg)+t+e,sN=()=>!1;class fb{constructor(e){let{startValue:t,byValue:r,duration:i=500,delay:s=0,easing:o=iN,onStart:l=Oy,onChange:u=Oy,onComplete:d=Oy,abort:p=sN,target:m}=e;G(this,"_state","pending"),G(this,"durationProgress",0),G(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=s,this.easing=o,this._onStart=l,this._onChange=u,this._onComplete=d,this._abort=p,this.target=m,this.startValue=t,this.byValue=r,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=t=>{this._state==="pending"&&(this.startTime=t||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Ay(e),this.delay):Ay(e)}tick(e){const t=(e||+new Date)-this.startTime,r=Math.min(t,this.duration);this.durationProgress=r/this.duration;const{value:i,valueProgress:s}=this.calculate(r);this.value=Object.freeze(i),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Ay(this.tick)))}register(){Ky.push(this)}unregister(){Ky.remove(this)}abort(){this._state="aborted",this.unregister()}}const oN=["startValue","endValue"];class aN extends fb{constructor(e){let{startValue:t=0,endValue:r=100}=e;super(Y(Y({},sn(e,oN)),{},{startValue:t,byValue:r-t}))}calculate(e){const t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}const lN=["startValue","endValue"];class cN extends fb{constructor(e){let{startValue:t=[0],endValue:r=[100]}=e;super(Y(Y({},sn(e,lN)),{},{startValue:t,byValue:r.map((i,s)=>i-t[s])}))}calculate(e){const t=this.startValue.map((r,i)=>this.easing(e,r,this.byValue[i],this.duration,i));return{value:t,valueProgress:Math.abs((t[0]-this.startValue[0])/this.byValue[0])}}}const uN=["startValue","endValue","easing","onChange","onComplete","abort"],hN=(n,e,t,r)=>e+t*(1-Math.cos(n/r*Wg)),Vx=n=>n&&((e,t,r)=>n(new Ft(e).toRgba(),t,r));class dN extends fb{constructor(e){let{startValue:t,endValue:r,easing:i=hN,onChange:s,onComplete:o,abort:l}=e,u=sn(e,uN);const d=new Ft(t).getSource(),p=new Ft(r).getSource();super(Y(Y({},u),{},{startValue:d,byValue:p.map((m,v)=>m-d[v]),easing:i,onChange:Vx(s),onComplete:Vx(o),abort:Vx(l)}))}calculate(e){const[t,r,i,s]=this.startValue.map((l,u)=>this.easing(e,l,this.byValue[u],this.duration,u)),o=[...[t,r,i].map(Math.round),Hd(0,s,1)];return{value:o,valueProgress:o.map((l,u)=>this.byValue[u]!==0?Math.abs((l-this.startValue[u])/this.byValue[u]):0).find(l=>l!==0)||0}}}function GE(n){const e=(t=>Array.isArray(t.startValue)||Array.isArray(t.endValue))(n)?new cN(n):new aN(n);return e.start(),e}function fN(n){const e=new dN(n);return e.start(),e}class un{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(t=>t.eq(e))}append(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.points=this.points.concat(t.filter(i=>!this.includes(i))),this}static isPointContained(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(t.eq(r))return e.eq(t);if(t.x===r.x)return e.x===t.x&&(i||e.y>=Math.min(t.y,r.y)&&e.y<=Math.max(t.y,r.y));if(t.y===r.y)return e.y===t.y&&(i||e.x>=Math.min(t.x,r.x)&&e.x<=Math.max(t.x,r.x));{const s=US(t,r),o=US(t,e).divide(s);return i?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,t){const r=new ie(e).setX(Math.min(e.x-1,...t.map(s=>s.x)));let i=0;for(let s=0;s<t.length;s++){const o=this.intersectSegmentSegment(t[s],t[(s+1)%t.length],e,r);if(o.includes(e))return!0;i+=+(o.status==="Intersection")}return i%2==1}static intersectLineLine(e,t,r,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const l=t.x-e.x,u=t.y-e.y,d=i.x-r.x,p=i.y-r.y,m=e.x-r.x,v=e.y-r.y,w=d*v-p*m,S=l*v-u*m,C=p*l-d*u;if(C!==0){const _=w/C,E=S/C;return(s||0<=_&&_<=1)&&(o||0<=E&&E<=1)?new un("Intersection").append(new ie(e.x+_*l,e.y+_*u)):new un}if(w===0||S===0){const _=s||o||un.isPointContained(e,r,i)||un.isPointContained(t,r,i)||un.isPointContained(r,e,t)||un.isPointContained(i,e,t);return new un(_?"Coincident":void 0)}return new un("Parallel")}static intersectSegmentLine(e,t,r,i){return un.intersectLineLine(e,t,r,i,!1,!0)}static intersectSegmentSegment(e,t,r,i){return un.intersectLineLine(e,t,r,i,!1,!1)}static intersectLinePolygon(e,t,r){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new un,o=r.length;for(let l,u,d,p=0;p<o;p++){if(l=r[p],u=r[(p+1)%o],d=un.intersectLineLine(e,t,l,u,i,!1),d.status==="Coincident")return d;s.append(...d.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(e,t,r){return un.intersectLinePolygon(e,t,r,!1)}static intersectPolygonPolygon(e,t){const r=new un,i=e.length,s=[];for(let o=0;o<i;o++){const l=e[o],u=e[(o+1)%i],d=un.intersectSegmentPolygon(l,u,t);d.status==="Coincident"?(s.push(d),r.append(l,u)):r.append(...d.points)}return s.length>0&&s.length===e.length?new un("Coincident"):(r.points.length>0&&(r.status="Intersection"),r)}static intersectPolygonRectangle(e,t,r){const i=t.min(r),s=t.max(r),o=new ie(s.x,i.y),l=new ie(i.x,s.y);return un.intersectPolygonPolygon(e,[i,o,s,l])}}class pN extends EE{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Ti(e,this.group.calcTransformMatrix()):e}setXY(e,t,r){this.group&&(e=Ti(e,ro(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,r)}getRelativeXY(){return new ie(this.left,this.top)}setRelativeXY(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,t,r)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:t,br:r,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),s=[e,t,r,i];if(this.group){const o=this.group.calcTransformMatrix();return s.map(l=>Ti(l,o))}return s}intersectsWithRect(e,t){return un.intersectPolygonRectangle(this.getCoords(),e,t).status==="Intersection"}intersectsWithObject(e){const t=un.intersectPolygonPolygon(this.getCoords(),e.getCoords());return t.status==="Intersection"||t.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(t=>e.containsPoint(t))}isContainedWithinRect(e,t){const{left:r,top:i,width:s,height:o}=this.getBoundingRect();return r>=e.x&&r+s<=t.x&&i>=e.y&&i+o<=t.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return un.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.getCoords().some(r=>r.x<=t.x&&r.x>=e.x&&r.y<=t.y&&r.y>=e.y)||!!this.intersectsWithRect(e,t)||this.containsPoint(e.midPointFrom(t))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return this.intersectsWithRect(e,t)?!0:this.getCoords().every(r=>(r.x>=t.x||r.x<=e.x)&&(r.y>=t.y||r.y<=e.y))&&this.containsPoint(e.midPointFrom(t))}getBoundingRect(){return Ga(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(Ri,e),this._set(Ms,e),this.setCoords()}scaleToWidth(e){const t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}scaleToHeight(e){const t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?Au(ME(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||si.concat()}calcACoords(){const e=Vg({angle:this.angle}),{x:t,y:r}=this.getRelativeCenterPoint(),i=Hg(t,r),s=Cr(i,e),o=this._getTransformedDimensions(),l=o.x/2,u=o.y/2;return{tl:Ti({x:-l,y:-u},s),tr:Ti({x:l,y:-u},s),bl:Ti({x:-l,y:u},s),br:Ti({x:l,y:u},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,An(this.originX),An(this.originY)),t}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;const r=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every((s,o)=>s===r[o])?i.value:(this.group&&(t=Cr(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:r,value:t},t)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key===e)return t.value;const r=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:r.x,translateY:r.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=jI(i);return this.ownMatrixCache={key:e,value:s},s}_getNonTransformedDimensions(){return new ie(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Y({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),r=t.strokeWidth;let i=r,s=0;this.strokeUniform&&(i=0,s=r);const o=t.width+i,l=t.height+i;let u;return u=t.skewX===0&&t.skewY===0?new ie(o*t.scaleX,l*t.scaleY):ub(o,l,Nv(t)),u.scalarAdd(s)}translateToGivenOrigin(e,t,r,i,s){let o=e.x,l=e.y;const u=An(i)-An(t),d=An(s)-An(r);if(u||d){const p=this._getTransformedDimensions();o+=u*p.x,l+=d*p.y}return new ie(o,l)}translateToCenterPoint(e,t,r){if(t===ft&&r===ft)return e;const i=this.translateToGivenOrigin(e,t,r,ft,ft);return this.angle?i.rotate(_n(this.angle),e):i}translateToOriginPoint(e,t,r){const i=this.translateToGivenOrigin(e,ft,ft,t,r);return this.angle?i.rotate(_n(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Ti(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new ie(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}setPositionByOrigin(e,t,r){const i=this.translateToCenterPoint(e,t,r),s=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Nt,Ei)}}const gN=["type"],mN=["extraParam"];let Fa=class Ry extends pN{static getDefaults(){return Ry.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){nc("warn","Setting type has no effect",e)}constructor(e){super(),G(this,"_cacheContext",null),Object.assign(this,Ry.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=ao(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const t=e.width,r=e.height,i=kt.maxCacheSideLimit,s=kt.minCacheSideLimit;if(t<=i&&r<=i&&t*r<=kt.perfLimitSizeTotal)return t<s&&(e.width=s),r<s&&(e.height=s),e;const o=t/r,[l,u]=og.limitDimsByArea(o),d=Hd(s,l,i),p=Hd(s,u,i);return t>d&&(e.zoomX/=t/d,e.width=d,e.capped=!0),r>p&&(e.zoomY/=r/p,e.height=p,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),r=t.x*e.x/this.scaleX,i=t.y*e.y/this.scaleY;return{width:Math.ceil(r+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:r,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,t=this._cacheContext,{width:r,height:i,zoomX:s,zoomY:o,x:l,y:u}=this._limitCacheSize(this._getCacheCanvasDimensions()),d=r!==e.width||i!==e.height,p=this.zoomX!==s||this.zoomY!==o;if(!e||!t)return!1;if(d||p){r!==e.width||i!==e.height?(e.width=r,e.height=i):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height));const m=l/2,v=u/2;return this.cacheTranslationX=Math.round(e.width/2-m)+m,this.cacheTranslationY=Math.round(e.height/2-v)+v,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(s,o),this.zoomX=s,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,r=this.calcTransformMatrix(!t);e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}getObjectScaling(){if(!this.group)return new ie(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=qy(this.calcTransformMatrix());return new ie(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const t=this.canvas.getZoom(),r=this.getCanvasRetinaScaling();return e.scalarMultiply(t*r)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,t){e!==Ri&&e!==Ms||(t=this._constrainScale(t)),e===Ri&&t<0?(this.flipX=!this.flipX,t*=-1):e==="scaleY"&&t<0?(this.flipY=!this.flipY,t*=-1):e!=="shadow"||!t||t instanceof Xa||(t=new Xa(t));const r=this[e]!==t;return this[e]=t,r&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||r&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:t,zoomY:r,cacheTranslationX:i,cacheTranslationY:s}=this,{width:o,height:l}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:t,zoomY:r,cacheTranslationX:i,cacheTranslationY:s,width:o,height:l,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Mi&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,t,r){e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(r,0,0),e.restore()}drawObject(e,t,r){const i=this.fill,s=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,r),this.fill=i,this.stroke=s}createClipPathLayer(e,t){const r=qo(t),i=r.getContext("2d");if(i.translate(t.cacheTranslationX,t.cacheTranslationY),i.scale(t.zoomX,t.zoomY),e._cacheCanvas=r,t.parentClipPaths.forEach(s=>{s.transform(i)}),t.parentClipPaths.push(e),e.absolutePositioned){const s=ro(this.calcTransformMatrix());i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}return e.transform(i),e.drawObject(i,!0,t),r}_drawClipPath(e,t,r){if(!t)return;t._transformDone=!0;const i=this.createClipPathLayer(t,r);this.drawClipPathOnCache(e,t,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const t=this._cacheCanvas,r=this._cacheContext;return!(!t||!r||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&r&&!e&&(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),r.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,t){const r=t.stroke;r&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,ks(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(e,r):(e.strokeStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.strokeStyle=t.stroke)}_setFillStyles(e,t){let{fill:r}=t;r&&(ks(r)?(e.fillStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.fillStyle=r)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,t){t&&t.length!==0&&e.setLineDash(t)}_setShadow(e){if(!this.shadow)return;const t=this.shadow,r=this.canvas,i=this.getCanvasRetinaScaling(),[s,,,o]=(r==null?void 0:r.viewportTransform)||si,l=s*i,u=o*i,d=t.nonScaling?new ie(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*kt.browserShadowBlurConstant*(l+u)*(d.x+d.y)/4,e.shadowOffsetX=t.offsetX*l*d.x,e.shadowOffsetY=t.offsetY*u*d.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,t){if(!ks(t))return{offsetX:0,offsetY:0};const r=t.gradientTransform||t.patternTransform,i=-this.width/2+t.offsetX||0,s=-this.height/2+t.offsetY||0;return t.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,s):e.transform(1,0,0,1,i,s),r&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:i,offsetY:s}}_renderPaintInOrder(e){this.paintFirst===Mi?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,t){var r;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),s=this.getCanvasRetinaScaling(),o=i.x/this.scaleX/s,l=i.y/this.scaleY/s,u=qo({width:Math.ceil(o),height:Math.ceil(l)}),d=u.getContext("2d");d&&(d.beginPath(),d.moveTo(0,0),d.lineTo(o,0),d.lineTo(o,l),d.lineTo(0,l),d.closePath(),d.translate(o/2,l/2),d.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(d,t),d.fillStyle=t.toLive(e),d.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=(r=d.createPattern(u,"no-repeat"))!==null&&r!==void 0?r:"")}_findCenterFromElement(){return new ie(this.left+this.width/2,this.top+this.height/2)}clone(e){const t=this.toObject(e);return this.constructor.fromObject(t)}cloneAsImage(e){const t=this.toCanvasElement(e);return new(Le.getClass("image"))(t)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=FE(this),r=this.group,i=this.shadow,s=Math.abs,o=e.enableRetinaScaling?bE():1,l=(e.multiplier||1)*o,u=e.canvasProvider||(P=>new Ug(P,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&GI(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&YI(this,this.getViewportTransform()),this.setCoords();const d=ao(),p=this.getBoundingRect(),m=this.shadow,v=new ie;if(m){const P=m.blur,M=m.nonScaling?new ie(1,1):this.getObjectScaling();v.x=2*Math.round(s(m.offsetX)+P)*s(M.x),v.y=2*Math.round(s(m.offsetY)+P)*s(M.y)}const w=p.width+v.x,S=p.height+v.y;d.width=Math.ceil(w),d.height=Math.ceil(S);const C=u(d);e.format==="jpeg"&&(C.backgroundColor="#fff"),this.setPositionByOrigin(new ie(C.width/2,C.height/2),ft,ft);const _=this.canvas;C._objects=[this],this.set("canvas",C),this.setCoords();const E=C.toCanvasElement(l||1,e);return this.set("canvas",_),this.shadow=i,r&&(this.group=r),this.set(t),this.setCoords(),C._objects=[],C.destroy(),E}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return OE(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.includes(this.constructor.type)||t.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:t,originX:r,originY:i}=this;if(t){const{x:s,y:o}=this.getRelativeCenterPoint();this.originX=ft,this.originY=ft,this.left=s,this.top=o}if(this.set("angle",e),t){const{x:s,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),r,i);this.left=s,this.top=o,this.originX=r,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Ky.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Ko().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,t){return Object.entries(e).reduce((r,i)=>{let[s,o]=i;return r[s]=this._animate(s,o,t),r},{})}_animate(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),s=this.constructor.colorProperties.includes(i[i.length-1]),{abort:o,startValue:l,onChange:u,onComplete:d}=r,p=Y(Y({},r),{},{target:this,startValue:l??i.reduce((m,v)=>m[v],this),endValue:t,abort:o==null?void 0:o.bind(this),onChange:(m,v,w)=>{i.reduce((S,C,_)=>(_===i.length-1&&(S[C]=m),S[C]),this),u&&u(m,v,w)},onComplete:(m,v,w)=>{this.setCoords(),d&&d(m,v,w)}});return s?fN(p):GE(p)}isDescendantOf(e){const{parent:t,group:r}=this;return t===e||r===e||!!t&&t.isDescendantOf(e)||!!r&&r!==t&&r.isDescendantOf(e)}getAncestors(){const e=[];let t=this;do t=t.parent,t&&e.push(t);while(t);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const t=this.getAncestors(),r=e.getAncestors();if(t.length===0&&r.length>0&&this===r[r.length-1])return{fork:[],otherFork:[e,...r.slice(0,r.length-1)],common:[this]};for(let i,s=0;s<t.length;s++){if(i=t[s],i===e)return{fork:[this,...t.slice(0,s)],otherFork:[],common:t.slice(s)};for(let o=0;o<r.length;o++){if(this===r[o])return{fork:[],otherFork:[e,...r.slice(0,o)],common:[this,...t]};if(i===r[o])return{fork:[this,...t.slice(0,s)],otherFork:[e,...r.slice(0,o)],common:t.slice(s)}}}return{fork:[this,...t],otherFork:[e,...r],common:[]}}hasCommonAncestors(e){const t=this.findCommonAncestors(e);return t&&!!t.common.length}isInFrontOf(e){if(this===e)return;const t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;const r=t.common[0]||this.canvas;if(!r)return;const i=t.fork.pop(),s=t.otherFork.pop(),o=r._objects.indexOf(i),l=r._objects.indexOf(s);return o>-1&&o>l}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(Ry.customProperties,this.constructor.customProperties||[]);let t;const r=kt.NUM_FRACTION_DIGITS,{clipPath:i,fill:s,stroke:o,shadow:l,strokeDashArray:u,left:d,top:p,originX:m,originY:v,width:w,height:S,strokeWidth:C,strokeLineCap:_,strokeDashOffset:E,strokeLineJoin:P,strokeUniform:M,strokeMiterLimit:F,scaleX:L,scaleY:j,angle:$,flipX:W,flipY:q,opacity:R,visible:se,backgroundColor:he,fillRule:fe,paintFirst:ge,globalCompositeOperation:ue,skewX:Se,skewY:Ce}=this;i&&!i.excludeFromExport&&(t=i.toObject(e.concat("inverted","absolutePositioned")));const ee=ye=>hn(ye,r),_e=Y(Y({},rf(this,e)),{},{type:this.constructor.type,version:zS,originX:m,originY:v,left:ee(d),top:ee(p),width:ee(w),height:ee(S),fill:i_(s)?s.toObject():s,stroke:i_(o)?o.toObject():o,strokeWidth:ee(C),strokeDashArray:u&&u.concat(),strokeLineCap:_,strokeDashOffset:E,strokeLineJoin:P,strokeUniform:M,strokeMiterLimit:ee(F),scaleX:ee(L),scaleY:ee(j),angle:ee($),flipX:W,flipY:q,opacity:ee(R),shadow:l&&l.toObject(),visible:se,backgroundColor:he,fillRule:fe,paintFirst:ge,globalCompositeOperation:ue,skewX:ee(Se),skewY:ee(Ce)},t?{clipPath:t}:null);return this.includeDefaultValues?_e:this._removeDefaultValues(_e)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const t=this.constructor.getDefaults(),r=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return cb(e,(i,s)=>{if(s===Nt||s===Ei||s==="type")return!0;const o=r[s];return i!==o&&!(Array.isArray(i)&&Array.isArray(o)&&i.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let t=sn(e,gN),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=r,s=sn(r,mN);return Lv(t,s).then(o=>i?(delete o[i],new this(t[i],o)):new this(o))}static fromObject(e,t){return this._fromObject(e,t)}};G(Fa,"stateProperties",nN),G(Fa,"cacheProperties",tl),G(Fa,"ownDefaults",rN),G(Fa,"type","FabricObject"),G(Fa,"colorProperties",[Wn,Mi,"backgroundColor"]),G(Fa,"customProperties",[]),Le.setClass(Fa),Le.setClass(Fa,"object");const sf=(n,e,t)=>(r,i,s,o)=>{const l=e(r,i,s,o);return l&&BE(n,Y(Y({},zE(r,i,s,o)),t)),l};function of(n){return(e,t,r,i)=>{const{target:s,originX:o,originY:l}=t,u=s.getRelativeCenterPoint(),d=s.translateToOriginPoint(u,o,l),p=n(e,t,r,i);return s.setPositionByOrigin(d,t.originX,t.originY),p}}const f_=sf(xg,of((n,e,t,r)=>{const i=hb(e,e.originX,e.originY,t,r);if(An(e.originX)===An(ft)||An(e.originX)===An(Cn)&&i.x<0||An(e.originX)===An(Nt)&&i.x>0){const{target:s}=e,o=s.strokeWidth/(s.strokeUniform?s.scaleX:1),l=jE(e)?2:1,u=s.width,d=Math.abs(i.x*l/s.scaleX)-o;return s.set("width",Math.max(d,1)),u!==s.width}return!1}));function yN(n,e,t,r,i){r=r||{};const s=this.sizeX||r.cornerSize||i.cornerSize,o=this.sizeY||r.cornerSize||i.cornerSize,l=r.transparentCorners!==void 0?r.transparentCorners:i.transparentCorners,u=l?Mi:Wn,d=!l&&(r.cornerStrokeColor||i.cornerStrokeColor);let p,m=e,v=t;n.save(),n.fillStyle=r.cornerColor||i.cornerColor||"",n.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor||"",s>o?(p=s,n.scale(1,o/s),v=t*s/o):o>s?(p=o,n.scale(s/o,1),m=e*o/s):p=s,n.beginPath(),n.arc(m,v,p/2,0,Gy,!1),n[u](),d&&n.stroke(),n.restore()}function vN(n,e,t,r,i){r=r||{};const s=this.sizeX||r.cornerSize||i.cornerSize,o=this.sizeY||r.cornerSize||i.cornerSize,l=r.transparentCorners!==void 0?r.transparentCorners:i.transparentCorners,u=l?Mi:Wn,d=!l&&(r.cornerStrokeColor||i.cornerStrokeColor),p=s/2,m=o/2;n.save(),n.fillStyle=r.cornerColor||i.cornerColor||"",n.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor||"",n.translate(e,t);const v=i.getTotalAngle();n.rotate(_n(v)),n["".concat(u,"Rect")](-p,-m,s,o),d&&n.strokeRect(-p,-m,s,o),n.restore()}class Js{constructor(e){G(this,"visible",!0),G(this,"actionName",Iv),G(this,"angle",0),G(this,"x",0),G(this,"y",0),G(this,"offsetX",0),G(this,"offsetY",0),G(this,"sizeX",0),G(this,"sizeY",0),G(this,"touchSizeX",0),G(this,"touchSizeY",0),G(this,"cursorStyle","crosshair"),G(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,t,r,i){var s;let{tl:o,tr:l,br:u,bl:d}=i;return((s=t.canvas)===null||s===void 0?void 0:s.getActiveObject())===t&&t.isControlVisible(e)&&un.isPointInPolygon(r,[o,l,u,d])}getActionHandler(e,t,r){return this.actionHandler}getMouseDownHandler(e,t,r){return this.mouseDownHandler}getMouseUpHandler(e,t,r){return this.mouseUpHandler}cursorStyleHandler(e,t,r){return t.cursorStyle}getActionName(e,t,r){return t.actionName}getVisibility(e,t){var r,i;return(r=(i=e._controlsVisibility)===null||i===void 0?void 0:i[t])!==null&&r!==void 0?r:this.visible}setVisibility(e,t,r){this.visible=e}positionHandler(e,t,r,i){return new ie(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}calcCornerCoords(e,t,r,i,s,o){const l=ab([Hg(r,i),Vg({angle:e}),lb((s?this.touchSizeX:this.sizeX)||t,(s?this.touchSizeY:this.sizeY)||t)]);return{tl:new ie(-.5,-.5).transform(l),tr:new ie(.5,-.5).transform(l),br:new ie(.5,.5).transform(l),bl:new ie(-.5,.5).transform(l)}}render(e,t,r,i,s){((i=i||{}).cornerStyle||s.cornerStyle)==="circle"?yN.call(this,e,t,r,i,s):vN.call(this,e,t,r,i,s)}}const xN=(n,e,t)=>t.lockRotation?Zy:e.cursorStyle,SN=sf(_E,of((n,e,t,r)=>{let{target:i,ex:s,ey:o,theta:l,originX:u,originY:d}=e;const p=i.translateToOriginPoint(i.getRelativeCenterPoint(),u,d);if(io(i,"lockRotation"))return!1;const m=Math.atan2(o-p.y,s-p.x),v=Math.atan2(r-p.y,t-p.x);let w=Au(v-m+l);if(i.snapAngle&&i.snapAngle>0){const C=i.snapAngle,_=i.snapThreshold||C,E=Math.ceil(w/C)*C,P=Math.floor(w/C)*C;Math.abs(w-P)<_?w=P:Math.abs(w-E)<_&&(w=E)}w<0&&(w=360+w),w%=360;const S=i.angle!==w;return i.angle=w,S}));function XE(n,e){const t=e.canvas,r=n[t.uniScaleKey];return t.uniformScaling&&!r||!t.uniformScaling&&r}function YE(n,e,t){const r=io(n,"lockScalingX"),i=io(n,"lockScalingY");if(r&&i||!e&&(r||i)&&t||r&&e==="x"||i&&e==="y")return!0;const{width:s,height:o,strokeWidth:l}=n;return s===0&&l===0&&e!=="y"||o===0&&l===0&&e!=="x"}const wN=["e","se","s","sw","w","nw","n","ne","e"],Qp=(n,e,t)=>{const r=XE(n,t);if(YE(t,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",r))return Zy;const i=$E(t,e);return"".concat(wN[i],"-resize")};function pb(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=e.target,o=i.by,l=XE(n,s);let u,d,p,m,v,w;if(YE(s,o,l))return!1;if(e.gestureScale)d=e.scaleX*e.gestureScale,p=e.scaleY*e.gestureScale;else{if(u=hb(e,e.originX,e.originY,t,r),v=o!=="y"?Math.sign(u.x||e.signX||1):1,w=o!=="x"?Math.sign(u.y||e.signY||1):1,e.signX||(e.signX=v),e.signY||(e.signY=w),io(s,"lockScalingFlip")&&(e.signX!==v||e.signY!==w))return!1;if(m=s._getTransformedDimensions(),l&&!o){const _=Math.abs(u.x)+Math.abs(u.y),{original:E}=e,P=_/(Math.abs(m.x*E.scaleX/s.scaleX)+Math.abs(m.y*E.scaleY/s.scaleY));d=E.scaleX*P,p=E.scaleY*P}else d=Math.abs(u.x*s.scaleX/m.x),p=Math.abs(u.y*s.scaleY/m.y);jE(e)&&(d*=2,p*=2),e.signX!==v&&o!=="y"&&(e.originX=a_(e.originX),d*=-1,e.signX=v),e.signY!==w&&o!=="x"&&(e.originY=a_(e.originY),p*=-1,e.signY=w)}const S=s.scaleX,C=s.scaleY;return o?(o==="x"&&s.set(Ri,d),o==="y"&&s.set(Ms,p)):(!io(s,"lockScalingX")&&s.set(Ri,d),!io(s,"lockScalingY")&&s.set(Ms,p)),S!==s.scaleX||C!==s.scaleY}const z0=sf(Dv,of((n,e,t,r)=>pb(n,e,t,r))),bN=sf(Dv,of((n,e,t,r)=>pb(n,e,t,r,{by:"x"}))),CN=sf(Dv,of((n,e,t,r)=>pb(n,e,t,r,{by:"y"}))),_N=["target","ex","ey","skewingSide"],Ux={x:{counterAxis:"y",scale:Ri,skew:tf,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Ms,skew:nf,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},kN=["ns","nesw","ew","nwse"],TN=(n,e,t)=>{if(e.x!==0&&io(t,"lockSkewingY")||e.y!==0&&io(t,"lockSkewingX"))return Zy;const r=$E(t,e)%4;return"".concat(kN[r],"-resize")};function KE(n,e,t,r,i){const{target:s}=t,{counterAxis:o,origin:l,lockSkewing:u,skew:d,flip:p}=Ux[n];if(io(s,u))return!1;const{origin:m,flip:v}=Ux[o],w=An(t[m])*(s[v]?-1:1),S=-Math.sign(w)*(s[p]?-1:1),C=.5*-((s[d]===0&&hb(t,ft,ft,r,i)[n]>0||s[d]>0?1:-1)*S)+.5;return sf(kE,of((E,P,M,F)=>function(L,j,$){let{target:W,ex:q,ey:R,skewingSide:se}=j,he=sn(j,_N);const{skew:fe}=Ux[L],ge=$.subtract(new ie(q,R)).divide(new ie(W.scaleX,W.scaleY))[L],ue=W[fe],Se=he[fe],Ce=Math.tan(_n(Se)),ee=L==="y"?W._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:W._getTransformedDimensions({scaleX:1,scaleY:1}).y,_e=2*ge*se/Math.max(ee,1)+Ce,ye=Au(Math.atan(_e));W.set(fe,ye);const V=ue!==W[fe];if(V&&L==="y"){const{skewX:ae,scaleX:Te}=W,Ee=W._getTransformedDimensions({skewY:ue}),Oe=W._getTransformedDimensions(),Ie=ae!==0?Ee.x/Oe.x:1;Ie!==1&&W.set(Ri,Ie*Te)}return V}(n,P,new ie(M,F))))(e,Y(Y({},t),{},{[l]:C,skewingSide:S}),r,i)}const EN=(n,e,t,r)=>KE("x",n,e,t,r),ON=(n,e,t,r)=>KE("y",n,e,t,r);function jv(n,e){return n[e.canvas.altActionKey]}const $0=(n,e,t)=>{const r=jv(n,t);return e.x===0?r?tf:Ms:e.y===0?r?nf:Ri:""},Ed=(n,e,t)=>jv(n,t)?TN(0,e,t):Qp(n,e,t),p_=(n,e,t,r)=>jv(n,e.target)?ON(n,e,t,r):bN(n,e,t,r),g_=(n,e,t,r)=>jv(n,e.target)?EN(n,e,t,r):CN(n,e,t,r),qE=()=>({ml:new Js({x:-.5,y:0,cursorStyleHandler:Ed,actionHandler:p_,getActionName:$0}),mr:new Js({x:.5,y:0,cursorStyleHandler:Ed,actionHandler:p_,getActionName:$0}),mb:new Js({x:0,y:.5,cursorStyleHandler:Ed,actionHandler:g_,getActionName:$0}),mt:new Js({x:0,y:-.5,cursorStyleHandler:Ed,actionHandler:g_,getActionName:$0}),tl:new Js({x:-.5,y:-.5,cursorStyleHandler:Qp,actionHandler:z0}),tr:new Js({x:.5,y:-.5,cursorStyleHandler:Qp,actionHandler:z0}),bl:new Js({x:-.5,y:.5,cursorStyleHandler:Qp,actionHandler:z0}),br:new Js({x:.5,y:.5,cursorStyleHandler:Qp,actionHandler:z0}),mtr:new Js({x:0,y:-.5,actionHandler:SN,cursorStyleHandler:xN,offsetY:-40,withConnection:!0,actionName:sb})}),MN=()=>({mr:new Js({x:.5,y:0,actionHandler:f_,cursorStyleHandler:Ed,actionName:xg}),ml:new Js({x:-.5,y:0,actionHandler:f_,cursorStyleHandler:Ed,actionName:xg})}),AN=()=>Y(Y({},qE()),MN());class bg extends Fa{static getDefaults(){return Y(Y({},super.getDefaults()),bg.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),bg.ownDefaults),this.setOptions(e)}static createControls(){return{controls:qE()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const t=e._currentTransform,r=t.target,i=t.action;if(this===r&&i&&i.startsWith(Iv))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const r=Object.entries(this.oCoords);for(let i=r.length-1;i>=0;i--){const[s,o]=r[i],l=this.controls[s];if(l.shouldActivate(s,this,e,t?o.touchCorner:o.corner))return this.__corner=s,{key:s,control:l,coord:this.oCoords[s]}}}calcOCoords(){const e=this.getViewportTransform(),t=this.getCenterPoint(),r=Hg(t.x,t.y),i=Vg({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=Cr(r,i),o=Cr(e,s),l=Cr(o,[1/e[0],0,0,1/e[3],0,0]),u=this.group?qy(this.calcTransformMatrix()):void 0;u&&(u.scaleX=Math.abs(u.scaleX),u.scaleY=Math.abs(u.scaleY));const d=this._calculateCurrentDimensions(u),p={};return this.forEachControl((m,v)=>{const w=m.positionHandler(d,l,this,m);p[v]=Object.assign(w,this._calcCornerCoords(m,w))}),p}_calcCornerCoords(e,t){const r=this.getTotalAngle();return{corner:e.calcCornerCoords(r,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(r,this.touchCornerSize,t.x,t.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const t in this.controls)e(this.controls[t],t,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const t=this.getRelativeCenterPoint(),r=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/i[0],1/i[3]),e.rotate(_n(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore()}strokeBorders(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}_drawBorders(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=Y({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},r);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,t),i.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}_renderControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:r,hasControls:i}=this,s=Y({hasBorders:r,hasControls:i},t),o=this.getViewportTransform(),l=s.hasBorders,u=s.hasControls,d=Cr(o,this.calcTransformMatrix()),p=qy(d);e.save(),e.translate(p.translateX,p.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(p.angle-=180),e.rotate(_n(this.group?p.angle:this.angle)),l&&this.drawBorders(e,p,t),u&&this.drawControls(e,t),e.restore()}drawBorders(e,t,r){let i;if(r&&r.forActiveSelection||this.group){const s=ub(this.width,this.height,Nv(t)),o=this.isStrokeAccountedForInDimensions()?ob:(this.strokeUniform?new ie().scalarAdd(this.canvas?this.canvas.getZoom():1):new ie(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);i=s.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,r)}drawControlsConnectingLines(e,t){let r=!1;e.beginPath(),this.forEachControl((i,s)=>{i.withConnection&&i.getVisibility(this,s)&&(r=!0,e.moveTo(i.x*t.x,i.y*t.y),e.lineTo(i.x*t.x+i.offsetX,i.y*t.y+i.offsetY))}),r&&e.stroke()}drawControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const r=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:s,cornerColor:o}=this,l=Y({cornerStrokeColor:i,cornerDashArray:s,cornerColor:o},t);e.setTransform(r,0,0,r,0,0),e.strokeStyle=e.fillStyle=l.cornerColor,this.transparentCorners||(e.strokeStyle=l.cornerStrokeColor),this._setLineDash(e,l.cornerDashArray),this.forEachControl((u,d)=>{if(u.getVisibility(this,d)){const p=this.oCoords[d];u.render(e,p.x,p.y,l,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(t=>{let[r,i]=t;return this.setControlVisible(r,i)})}clearContextTop(e){if(!this.canvas)return;const t=this.canvas.contextTop;if(!t)return;const r=this.canvas.viewportTransform;t.save(),t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(t);const i=this.width+4,s=this.height+4;return t.clearRect(-i/2,-s/2,i,s),e||t.restore(),t}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function JE(n,e){return e.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(n.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r)||Object.create(null))})}),n}G(bg,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class $r extends bg{}JE($r,[WE]),Le.setClass($r),Le.setClass($r,"object");const PN=(n,e,t,r)=>{const i=2*(r=Math.round(r))+1,{data:s}=n.getImageData(e-r,t-r,i,i);for(let o=3;o<s.length;o+=4)if(s[o]>0)return!1;return!0};class QE{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ie(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ie(1/this.options.scaleX,1/this.options.scaleY):new ie(1,1)}createSideVector(e,t){const r=US(e,t);return this.options.strokeUniform?r.multiply(this.scale):r}projectOrthogonally(e,t,r){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,r)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const t=new ie(e);return t.y+=t.x*Math.tan(_n(this.options.skewY)),t.x+=t.y*Math.tan(_n(this.options.skewX)),t}scaleUnitVector(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}const RN=new ie;class Ld extends QE{static getOrthogonalRotationFactor(e,t){const r=t?XS(e,t):eN(e);return Math.abs(r)<Wg?-1:1}constructor(e,t,r,i){super(i),G(this,"AB",void 0),G(this,"AC",void 0),G(this,"alpha",void 0),G(this,"bisector",void 0),this.A=new ie(e),this.B=new ie(t),this.C=new ie(r),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=XS(this.AB,this.AC),this.bisector=db(VE(this.AB.eq(RN)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,t),s=UE(i),o=Ld.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,r*o)}projectBevel(){const e=[];return(this.alpha%Gy==0?[this.B]:[this.B,this.C]).forEach(t=>{e.push(this.projectOrthogonally(this.A,t)),e.push(this.projectOrthogonally(this.A,t,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],t=Math.abs(this.alpha),r=1/Math.sin(t/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*r),s=this.options.strokeUniform?GS(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return GS(i)/this.strokeProjectionMagnitude<=s&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,t){const r=[],i=new ie(Ld.getOrthogonalRotationFactor(this.bisector),Ld.getOrthogonalRotationFactor(new ie(this.bisector.y,this.bisector.x)));return[new ie(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new ie(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(s=>{u_(s,e,t)&&r.push(this.A.add(s))}),r}projectRoundWithSkew(e,t){const r=[],{skewX:i,skewY:s,scaleX:o,scaleY:l,strokeUniform:u}=this.options,d=new ie(Math.tan(_n(i)),Math.tan(_n(s))),p=this.strokeProjectionMagnitude,m=u?p/l/Math.sqrt(1/l**2+1/o**2*d.y**2):p/Math.sqrt(1+d.y**2),v=new ie(Math.sqrt(Math.max(p**2-m**2,0)),m),w=u?p/Math.sqrt(1+d.x**2*(1/l)**2/(1/o+1/o*d.x*d.y)**2):p/Math.sqrt(1+d.x**2/(1+d.x*d.y)**2),S=new ie(w,Math.sqrt(Math.max(p**2-w**2,0)));return[S,S.scalarMultiply(-1),v,v.scalarMultiply(-1)].map(C=>this.applySkew(u?C.multiply(this.strokeUniformScalar):C)).forEach(C=>{u_(C,e,t)&&r.push(this.applySkew(this.A).add(C))}),r}projectRound(){const e=[];e.push(...this.projectBevel());const t=this.alpha%Gy==0,r=this.applySkew(this.A),i=e[t?0:2].subtract(r),s=e[t?1:0].subtract(r),o=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),l=ag(i,o)>0,u=l?i:s,d=l?s:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(u,d)):e.push(...this.projectRoundNoSkew(u,d)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class m_ extends QE{constructor(e,t,r){super(r),this.A=new ie(e),this.T=new ie(t)}calcOrthogonalProjection(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,t);return this.scaleUnitVector(UE(i),r)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const t=new ie(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push(...new Ld(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const t=new ie(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(t),this.A.subtract(t))}else{const t=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),r=this.scaleUnitVector(db(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(r);e.push(i.add(t),i.subtract(t))}return e.map(t=>this.applySkew(t))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const DN=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const r=[];if(n.length===0)return r;const i=n.reduce((s,o)=>(s[s.length-1].eq(o)||s.push(new ie(o)),s),[new ie(n[0])]);if(i.length===1)t=!0;else if(!t){const s=i[0],o=((l,u)=>{for(let d=l.length-1;d>=0;d--)if(u(l[d],d,l))return d;return-1})(i,l=>!l.eq(s));i.splice(o+1)}return i.forEach((s,o,l)=>{let u,d;o===0?(d=l[1],u=t?s:l[l.length-1]):o===l.length-1?(u=l[o-1],d=t?s:l[0]):(u=l[o-1],d=l[o+1]),t&&l.length===1?r.push(...new m_(s,s,e).project()):!t||o!==0&&o!==l.length-1?r.push(...new Ld(s,u,d,e).project()):r.push(...new m_(s,o===0?d:u,e).project())}),r},gb=n=>{const e={};return Object.keys(n).forEach(t=>{e[t]={},Object.keys(n[t]).forEach(r=>{e[t][r]=Y({},n[t][r])})}),e},IN=n=>n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),mb=n=>{const e=[];for(let t,r=0;r<n.length;r++)(t=NN(n,r))!==!1&&e.push(t);return e},NN=(n,e)=>{const t=n.charCodeAt(e);if(isNaN(t))return"";if(t<55296||t>57343)return n.charAt(e);if(55296<=t&&t<=56319){if(n.length<=e+1)throw"High surrogate without following low surrogate";const i=n.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return n.charAt(e)+n.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const r=n.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1},yb=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return n.fill!==e.fill||n.stroke!==e.stroke||n.strokeWidth!==e.strokeWidth||n.fontSize!==e.fontSize||n.fontFamily!==e.fontFamily||n.fontWeight!==e.fontWeight||n.fontStyle!==e.fontStyle||n.textBackgroundColor!==e.textBackgroundColor||n.deltaY!==e.deltaY||t&&(n.overline!==e.overline||n.underline!==e.underline||n.linethrough!==e.linethrough)},LN=(n,e)=>{const t=e.split(`
`),r=[];let i=-1,s={};n=gb(n);for(let o=0;o<t.length;o++){const l=mb(t[o]);if(n[o])for(let u=0;u<l.length;u++){i++;const d=n[o][u];d&&Object.keys(d).length>0&&(yb(s,d,!0)?r.push({start:i,end:i+1,style:d}):r[r.length-1].end++),s=d||{}}else i+=l.length,s={}}return r},FN=(n,e)=>{if(!Array.isArray(n))return gb(n);const t=e.split(ib),r={};let i=-1,s=0;for(let o=0;o<t.length;o++){const l=mb(t[o]);for(let u=0;u<l.length;u++)i++,n[s]&&n[s].start<=i&&i<n[s].end&&(r[o]=r[o]||{},r[o][u]=Y({},n[s].style),i===n[s].end-1&&s++)}return r},ac=["display","transform",Wn,"fill-opacity","fill-rule","opacity",Mi,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function y_(n,e){const t=n.nodeName,r=n.getAttribute("class"),i=n.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+t,"i"),e=e.replace(o,""),i&&e.length&&(o=new RegExp("#"+i+s,"i"),e=e.replace(o,"")),r&&e.length){const l=r.split(" ");for(let u=l.length;u--;)o=new RegExp("\\."+l[u]+s,"i"),e=e.replace(o,"")}return e.length===0}function BN(n,e){let t=!0;const r=y_(n,e.pop());return r&&e.length&&(t=function(i,s){let o,l=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&s.length;)l&&(o=s.pop()),l=y_(i=i.parentElement,o);return s.length===0}(n,e)),r&&t&&e.length===0}const jN=n=>{var e;return(e=QI[n])!==null&&e!==void 0?e:n},zN=new RegExp("(".concat(Pu,")"),"gi"),$N=n=>n.replace(zN," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var v_,x_,S_,w_,b_,C_,__;const ri="(".concat(Pu,")"),WN=String.raw(v_||(v_=oc(["(skewX)(",")"],["(skewX)\\(","\\)"])),ri),HN=String.raw(x_||(x_=oc(["(skewY)(",")"],["(skewY)\\(","\\)"])),ri),VN=String.raw(S_||(S_=oc(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),ri,ri,ri),UN=String.raw(w_||(w_=oc(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),ri,ri),GN=String.raw(b_||(b_=oc(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),ri,ri),XN=String.raw(C_||(C_=oc(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),ri,ri,ri,ri,ri,ri),vb="(?:".concat(XN,"|").concat(GN,"|").concat(VN,"|").concat(UN,"|").concat(WN,"|").concat(HN,")"),YN="(?:".concat(vb,"*)"),KN=String.raw(__||(__=oc(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),YN),qN=new RegExp(KN),JN=new RegExp(vb),QN=new RegExp(vb,"g");function YS(n){const e=[];if(!(n=$N(n).replace(/\s*([()])\s*/gi,"$1"))||n&&!qN.test(n))return[...si];for(const t of n.matchAll(QN)){const r=JN.exec(t[0]);if(!r)continue;let i=si;const s=r.filter(S=>!!S),[,o,...l]=s,[u,d,p,m,v,w]=l.map(S=>parseFloat(S));switch(o){case"translate":i=Hg(u,d);break;case sb:i=Vg({angle:u},{x:d,y:p});break;case Iv:i=lb(u,d);break;case tf:i=PE(u);break;case nf:i=RE(u);break;case"matrix":i=[u,d,p,m,v,w]}e.push(i)}return ab(e)}function ZN(n,e,t,r){const i=Array.isArray(e);let s,o=e;if(n!==Wn&&n!==Mi||e!==Oi){if(n==="strokeUniform")return e==="non-scaling-stroke";if(n==="strokeDashArray")o=e===Oi?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(n==="transformMatrix")o=t&&t.transformMatrix?Cr(t.transformMatrix,YS(e)):YS(e);else if(n==="visible")o=e!==Oi&&e!=="hidden",t&&t.visible===!1&&(o=!1);else if(n==="opacity")o=parseFloat(e),t&&t.opacity!==void 0&&(o*=t.opacity);else if(n==="textAnchor")o=e==="start"?Nt:e==="end"?Cn:ft;else if(n==="charSpacing")s=Id(e,r)/r*1e3;else if(n==="paintFirst"){const l=e.indexOf(Wn),u=e.indexOf(Mi);o=Wn,(l>-1&&u>-1&&u<l||l===-1&&u>-1)&&(o=Mi)}else{if(n==="href"||n==="xlink:href"||n==="font"||n==="id")return e;if(n==="imageSmoothing")return e==="optimizeQuality";s=i?e.map(Id):Id(e,r)}}else o="";return!i&&isNaN(s)?o:s}function eL(n,e){const t=n.match(JI);if(!t)return;const r=t[1],i=t[3],s=t[4],o=t[5],l=t[6];r&&(e.fontStyle=r),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(e.fontSize=Id(s)),l&&(e.fontFamily=l),o&&(e.lineHeight=o==="normal"?1:o)}function tL(n,e){n.replace(/;\s*$/,"").split(";").forEach(t=>{if(!t)return;const[r,i]=t.split(":");e[r.trim().toLowerCase()]=i.trim()})}function nL(n){const e={},t=n.getAttribute("style");return t&&(typeof t=="string"?tL(t,e):function(r,i){Object.entries(r).forEach(s=>{let[o,l]=s;l!==void 0&&(i[o.toLowerCase()]=l)})}(t,e)),e}const rL={stroke:"strokeOpacity",fill:"fillOpacity"};function nl(n,e,t){if(!n)return{};let r,i={},s=rb;n.parentNode&&c_.test(n.parentNode.nodeName)&&(i=nl(n.parentElement,e,t),i.fontSize&&(r=s=Id(i.fontSize)));const o=Y(Y(Y({},e.reduce((d,p)=>{const m=n.getAttribute(p);return m&&(d[p]=m),d},{})),function(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m={};for(const v in p)BN(d,v.split(" "))&&(m=Y(Y({},m),p[v]));return m}(n,t)),nL(n));o[Hx]&&n.setAttribute(Hx,o[Hx]),o[Wx]&&(r=Id(o[Wx],s),o[Wx]="".concat(r));const l={};for(const d in o){const p=jN(d),m=ZN(p,o[d],i,r);l[p]=m}l&&l.font&&eL(l.font,l);const u=Y(Y({},i),l);return c_.test(n.nodeName)?u:function(d){const p=$r.getDefaults();return Object.entries(rL).forEach(m=>{let[v,w]=m;if(d[w]===void 0||d[v]==="")return;if(d[v]===void 0){if(!p[v])return;d[v]=p[v]}if(d[v].indexOf("url(")===0)return;const S=new Ft(d[v]);d[v]=S.setAlpha(hn(S.getAlpha()*d[w],2)).toRgba()}),d}(u)}const iL=["left","top","width","height","visible"],ZE=["rx","ry"];class Wo extends $r{static getDefaults(){return Y(Y({},super.getDefaults()),Wo.ownDefaults)}constructor(e){super(),Object.assign(this,Wo.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:t}=this;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}_render(e){const{width:t,height:r}=this,i=-t/2,s=-r/2,o=this.rx?Math.min(this.rx,t/2):0,l=this.ry?Math.min(this.ry,r/2):0,u=o!==0||l!==0;e.beginPath(),e.moveTo(i+o,s),e.lineTo(i+t-o,s),u&&e.bezierCurveTo(i+t-$l*o,s,i+t,s+$l*l,i+t,s+l),e.lineTo(i+t,s+r-l),u&&e.bezierCurveTo(i+t,s+r-$l*l,i+t-$l*o,s+r,i+t-o,s+r),e.lineTo(i+o,s+r),u&&e.bezierCurveTo(i+$l*o,s+r,i,s+r-$l*l,i,s+r-l),e.lineTo(i,s+l),u&&e.bezierCurveTo(i,s+$l*l,i+$l*o,s,i+o,s),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...ZE,...e])}_toSVG(){const{width:e,height:t,rx:r,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(r,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(t,`" />
`)]}static async fromElement(e,t,r){const i=nl(e,this.ATTRIBUTE_NAMES,r),{left:s=0,top:o=0,width:l=0,height:u=0,visible:d=!0}=i,p=sn(i,iL);return new this(Y(Y(Y({},t),p),{},{left:s,top:o,width:l,height:u,visible:!!(d&&l&&u)}))}}G(Wo,"type","Rect"),G(Wo,"cacheProperties",[...tl,...ZE]),G(Wo,"ownDefaults",{rx:0,ry:0}),G(Wo,"ATTRIBUTE_NAMES",[...ac,"x","y","rx","ry","width","height"]),Le.setClass(Wo),Le.setSVGClass(Wo);const Wa="initialization",ev="added",xb="removed",tv="imperative",eO=(n,e)=>{const{strokeUniform:t,strokeWidth:r,width:i,height:s,group:o}=e,l=o&&o!==n?Fv(o.calcTransformMatrix(),n.calcTransformMatrix()):null,u=l?e.getRelativeCenterPoint().transform(l):e.getRelativeCenterPoint(),d=!e.isStrokeAccountedForInDimensions(),p=t&&d?XI(new ie(r,r),void 0,n.calcTransformMatrix()):ob,m=!t&&d?r:0,v=ub(i+m,s+m,ab([l,e.calcOwnMatrix()],!0)).add(p).scalarDivide(2);return[u.subtract(v),u.add(v)]};class zv{calcLayoutResult(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}shouldPerformLayout(e){let{type:t,prevStrategy:r,strategy:i}=e;return t===Wa||t===tv||!!r&&i!==r}shouldLayoutClipPath(e){let{type:t,target:{clipPath:r}}=e;return t!==Wa&&r&&!r.absolutePositioned}getInitialSize(e,t){return t.size}calcBoundingBox(e,t){const{type:r,target:i}=t;if(r===tv&&t.overrides)return t.overrides;if(e.length===0)return;const{left:s,top:o,width:l,height:u}=Ga(e.map(m=>eO(i,m)).reduce((m,v)=>m.concat(v),[])),d=new ie(l,u),p=new ie(s,o).add(d.scalarDivide(2));if(r===Wa){const m=this.getInitialSize(t,{size:d,center:p});return{center:p,relativeCorrection:new ie(0,0),size:m}}return{center:p.transform(i.calcOwnMatrix()),size:d}}}G(zv,"type","strategy");class KS extends zv{shouldPerformLayout(e){return!0}}G(KS,"type","fit-content"),Le.setClass(KS);const sL=["strategy"],oL=["target","strategy","bubbles","prevStrategy"],tO="layoutManager";class Cg{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new KS;G(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const t=Y(Y({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(t);const r=this.getLayoutResult(t);r&&this.commitLayout(t,r),this.onAfterLayout(t,r),this._prevLayoutStrategy=t.strategy}attachHandlers(e,t){const{target:r}=t;return[Yy,CE,xg,_E,Dv,kE,Xy,RI,DI].map(i=>e.on(i,s=>this.performLayout(i===Yy?{type:"object_modified",trigger:i,e:s,target:r}:{type:"object_modifying",trigger:i,e:s,target:r})))}subscribe(e,t){this.unsubscribe(e,t);const r=this.attachHandlers(e,t);this._subscriptions.set(e,r)}unsubscribe(e,t){(this._subscriptions.get(e)||[]).forEach(r=>r()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(t=>this.unsubscribe(t,e))}subscribeTargets(e){e.targets.forEach(t=>this.subscribe(t,e))}onBeforeLayout(e){const{target:t,type:r}=e,{canvas:i}=t;if(r===Wa||r===ev?this.subscribeTargets(e):r===xb&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:t,context:e}),r===tv&&e.deep){const s=sn(e,sL);t.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(Y(Y({},s),{},{bubbles:!1,target:o})))}}getLayoutResult(e){const{target:t,strategy:r,type:i}=e,s=r.calcLayoutResult(e,t.getObjects());if(!s)return;const o=i===Wa?new ie:t.getRelativeCenterPoint(),{center:l,correction:u=new ie,relativeCorrection:d=new ie}=s,p=o.subtract(l).add(u).transform(i===Wa?si:ro(t.calcOwnMatrix()),!0).add(d);return{result:s,prevCenter:o,nextCenter:l,offset:p}}commitLayout(e,t){const{target:r}=e,{result:{size:i},nextCenter:s}=t;var o,l;r.set({width:i.x,height:i.y}),this.layoutObjects(e,t),e.type===Wa?r.set({left:(o=e.x)!==null&&o!==void 0?o:s.x+i.x*An(r.originX),top:(l=e.y)!==null&&l!==void 0?l:s.y+i.y*An(r.originY)}):(r.setPositionByOrigin(s,ft,ft),r.setCoords(),r.set("dirty",!0))}layoutObjects(e,t){const{target:r}=e;r.forEachObject(i=>{i.group===r&&this.layoutObject(e,t,i)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,r.clipPath)}layoutObject(e,t,r){let{offset:i}=t;r.set({left:r.left+i.x,top:r.top+i.y})}onAfterLayout(e,t){const{target:r,strategy:i,bubbles:s,prevStrategy:o}=e,l=sn(e,oL),{canvas:u}=r;r.fire("layout:after",{context:e,result:t}),u&&u.fire("object:layout:after",{context:e,result:t,target:r});const d=r.parent;s&&d!=null&&d.layoutManager&&((l.path||(l.path=[])).push(r),d.layoutManager.performLayout(Y(Y({},l),{},{target:d}))),r.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(t=>t.forEach(r=>r())),e.clear()}toObject(){return{type:tO,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}Le.setClass(Cg,tO);const aL=["type","objects","layoutManager"];class lL extends Cg{performLayout(){}}class bu extends TE($r){static getDefaults(){return Y(Y({},super.getDefaults()),bu.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),G(this,"_activeObjects",[]),G(this,"__objectSelectionTracker",void 0),G(this,"__objectSelectionDisposer",void 0),Object.assign(this,bu.ownDefaults),this.setOptions(t),this.groupInit(e,t)}groupInit(e,t){var r;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(r=t.layoutManager)!==null&&r!==void 0?r:new Cg,this.layoutManager.performLayout({type:Wa,target:this,targets:[...e],x:t.left,y:t.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(nc("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(nc("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((t,r,i)=>this.canEnterGroup(t)&&i.indexOf(t)===r)}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const i=this._filterObjectsBeforeEnteringGroup(t),s=super.add(...i);return this._onAfterObjectsChange(ev,i),s}insertAt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];const s=this._filterObjectsBeforeEnteringGroup(r),o=super.insertAt(e,...s);return this._onAfterObjectsChange(ev,s),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(xb,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,t){const r=this[e];return super._set(e,t),e==="canvas"&&r!==t&&(this._objects||[]).forEach(i=>{i._set(e,t)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,t){let{target:r}=t;const i=this._activeObjects;if(e)i.push(r),this._set("dirty",!0);else if(i.length>0){const s=i.indexOf(r);s>-1&&(i.splice(s,1),this._set("dirty",!0))}}_watchObject(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}_enterGroup(e,t){t&&Qy(e,Cr(ro(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const r=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();r&&(r===e||e.isDescendantOf(r))&&this._activeObjects.push(e)}exitGroup(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,t){e._set("group",void 0),t||(Qy(e,Cr(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const r=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;r>-1&&this._activeObjects.splice(r,1)}shouldCache(){const e=$r.prototype.shouldCache.call(this);if(e){for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,t,r){this._renderBackground(e);for(let s=0;s<this._objects.length;s++){var i;const o=this._objects[s];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&o.group!==this?(e.save(),e.transform(...ro(this.calcTransformMatrix())),o.render(e),e.restore()):o.group===this&&o.render(e)}this._drawClipPath(e,this.clipPath,r)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(Y({target:this,type:tv},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,t){const r=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const s=i.includeDefaultValues;i.includeDefaultValues=r;const o=i[e||"toObject"](t);return i.includeDefaultValues=s,o})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.layoutManager.toObject();return Y(Y(Y({},super.toObject(["subTargetCheck","interactive",...e])),t.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const t=Wo.prototype._toSVG.call(this),r=t.indexOf("COMMON_PARTS");t[r]='for="group" ';const i=t.join("");return e?e(i):i}_toSVG(e){const t=["<g ","COMMON_PARTS",` >
`],r=this._createSVGBgRect(e);r&&t.push("		",r);for(let i=0;i<this._objects.length;i++)t.push("		",this._objects[i].toSVG(e));return t.push(`</g>
`),t}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}toClipPathSVG(e){const t=[],r=this._createSVGBgRect(e);r&&t.push("	",r);for(let i=0;i<this._objects.length;i++)t.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}static fromObject(e,t){let{type:r,objects:i=[],layoutManager:s}=e,o=sn(e,aL);return Promise.all([Sg(i,t),Lv(o,t)]).then(l=>{let[u,d]=l;const p=new this(u,Y(Y(Y({},o),d),{},{layoutManager:new lL}));if(s){const m=Le.getClass(s.type),v=Le.getClass(s.strategy);p.layoutManager=new m(new v)}else p.layoutManager=new Cg;return p.layoutManager.subscribeTargets({type:Wa,target:p,targets:p.getObjects()}),p.setCoords(),p})}}G(bu,"type","Group"),G(bu,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),Le.setClass(bu);const cL=(n,e)=>Math.min(e.width/n.width,e.height/n.height),uL=(n,e)=>Math.max(e.width/n.width,e.height/n.height),qS="\\s*,?\\s*",Hp="".concat(qS,"(").concat(Pu,")"),hL="".concat(Hp).concat(Hp).concat(Hp).concat(qS,"([01])").concat(qS,"([01])").concat(Hp).concat(Hp),dL={m:"l",M:"L"},fL=(n,e,t,r,i,s,o,l,u,d,p)=>{const m=Ka(n),v=qa(n),w=Ka(e),S=qa(e),C=t*i*w-r*s*S+o,_=r*i*w+t*s*S+l;return["C",d+u*(-t*i*v-r*s*m),p+u*(-r*i*v+t*s*m),C+u*(t*i*S+r*s*w),_+u*(r*i*S-t*s*w),C,_]},k_=(n,e,t,r)=>{const i=Math.atan2(e,n),s=Math.atan2(r,t);return s>=i?s-i:2*Math.PI-(i-s)};function T_(n,e,t,r,i,s,o,l){let u;if(kt.cachesBoundsOfCurve&&(u=[...arguments].join(),og.boundsOfCurveCache[u]))return og.boundsOfCurveCache[u];const d=Math.sqrt,p=Math.abs,m=[],v=[[0,0],[0,0]];let w=6*n-12*t+6*i,S=-3*n+9*t-9*i+3*o,C=3*t-3*n;for(let F=0;F<2;++F){if(F>0&&(w=6*e-12*r+6*s,S=-3*e+9*r-9*s+3*l,C=3*r-3*e),p(S)<1e-12){if(p(w)<1e-12)continue;const q=-C/w;0<q&&q<1&&m.push(q);continue}const L=w*w-4*C*S;if(L<0)continue;const j=d(L),$=(-w+j)/(2*S);0<$&&$<1&&m.push($);const W=(-w-j)/(2*S);0<W&&W<1&&m.push(W)}let _=m.length;const E=_,P=nO(n,e,t,r,i,s,o,l);for(;_--;){const{x:F,y:L}=P(m[_]);v[0][_]=F,v[1][_]=L}v[0][E]=n,v[1][E]=e,v[0][E+1]=o,v[1][E+1]=l;const M=[new ie(Math.min(...v[0]),Math.min(...v[1])),new ie(Math.max(...v[0]),Math.max(...v[1]))];return kt.cachesBoundsOfCurve&&(og.boundsOfCurveCache[u]=M),M}const pL=(n,e,t)=>{let[r,i,s,o,l,u,d,p]=t;const m=((v,w,S,C,_,E,P)=>{if(S===0||C===0)return[];let M=0,F=0,L=0;const j=Math.PI,$=P*nb,W=qa($),q=Ka($),R=.5*(-q*v-W*w),se=.5*(-q*w+W*v),he=S**2,fe=C**2,ge=se**2,ue=R**2,Se=he*fe-he*ge-fe*ue;let Ce=Math.abs(S),ee=Math.abs(C);if(Se<0){const $e=Math.sqrt(1-Se/(he*fe));Ce*=$e,ee*=$e}else L=(_===E?-1:1)*Math.sqrt(Se/(he*ge+fe*ue));const _e=L*Ce*se/ee,ye=-L*ee*R/Ce,V=q*_e-W*ye+.5*v,ae=W*_e+q*ye+.5*w;let Te=k_(1,0,(R-_e)/Ce,(se-ye)/ee),Ee=k_((R-_e)/Ce,(se-ye)/ee,(-R-_e)/Ce,(-se-ye)/ee);E===0&&Ee>0?Ee-=2*j:E===1&&Ee<0&&(Ee+=2*j);const Oe=Math.ceil(Math.abs(Ee/j*2)),Ie=[],Ve=Ee/Oe,Ye=8/3*Math.sin(Ve/4)*Math.sin(Ve/4)/Math.sin(Ve/2);let Ue=Te+Ve;for(let $e=0;$e<Oe;$e++)Ie[$e]=fL(Te,Ue,q,W,Ce,ee,V,ae,Ye,M,F),M=Ie[$e][5],F=Ie[$e][6],Te=Ue,Ue+=Ve;return Ie})(d-n,p-e,i,s,l,u,o);for(let v=0,w=m.length;v<w;v++)m[v][1]+=n,m[v][2]+=e,m[v][3]+=n,m[v][4]+=e,m[v][5]+=n,m[v][6]+=e;return m},gL=n=>{let e=0,t=0,r=0,i=0;const s=[];let o,l=0,u=0;for(const d of n){const p=[...d];let m;switch(p[0]){case"l":p[1]+=e,p[2]+=t;case"L":e=p[1],t=p[2],m=["L",e,t];break;case"h":p[1]+=e;case"H":e=p[1],m=["L",e,t];break;case"v":p[1]+=t;case"V":t=p[1],m=["L",e,t];break;case"m":p[1]+=e,p[2]+=t;case"M":e=p[1],t=p[2],r=p[1],i=p[2],m=["M",e,t];break;case"c":p[1]+=e,p[2]+=t,p[3]+=e,p[4]+=t,p[5]+=e,p[6]+=t;case"C":l=p[3],u=p[4],e=p[5],t=p[6],m=["C",p[1],p[2],l,u,e,t];break;case"s":p[1]+=e,p[2]+=t,p[3]+=e,p[4]+=t;case"S":o==="C"?(l=2*e-l,u=2*t-u):(l=e,u=t),e=p[3],t=p[4],m=["C",l,u,p[1],p[2],e,t],l=m[3],u=m[4];break;case"q":p[1]+=e,p[2]+=t,p[3]+=e,p[4]+=t;case"Q":l=p[1],u=p[2],e=p[3],t=p[4],m=["Q",l,u,e,t];break;case"t":p[1]+=e,p[2]+=t;case"T":o==="Q"?(l=2*e-l,u=2*t-u):(l=e,u=t),e=p[1],t=p[2],m=["Q",l,u,e,t];break;case"a":p[6]+=e,p[7]+=t;case"A":pL(e,t,p).forEach(v=>s.push(v)),e=p[6],t=p[7];break;case"z":case"Z":e=r,t=i,m=["Z"]}m?(s.push(m),o=m[0]):o=""}return s},nv=(n,e,t,r)=>Math.sqrt((t-n)**2+(r-e)**2),nO=(n,e,t,r,i,s,o,l)=>u=>{const d=u**3,p=(w=>3*w**2*(1-w))(u),m=(w=>3*w*(1-w)**2)(u),v=(w=>(1-w)**3)(u);return new ie(o*d+i*p+t*m+n*v,l*d+s*p+r*m+e*v)},rO=n=>n**2,iO=n=>2*n*(1-n),sO=n=>(1-n)**2,mL=(n,e,t,r,i,s,o,l)=>u=>{const d=rO(u),p=iO(u),m=sO(u),v=3*(m*(t-n)+p*(i-t)+d*(o-i)),w=3*(m*(r-e)+p*(s-r)+d*(l-s));return Math.atan2(w,v)},yL=(n,e,t,r,i,s)=>o=>{const l=rO(o),u=iO(o),d=sO(o);return new ie(i*l+t*u+n*d,s*l+r*u+e*d)},vL=(n,e,t,r,i,s)=>o=>{const l=1-o,u=2*(l*(t-n)+o*(i-t)),d=2*(l*(r-e)+o*(s-r));return Math.atan2(d,u)},E_=(n,e,t)=>{let r=new ie(e,t),i=0;for(let s=1;s<=100;s+=1){const o=n(s/100);i+=nv(r.x,r.y,o.x,o.y),r=o}return i},xL=(n,e)=>{let t,r=0,i=0,s={x:n.x,y:n.y},o=Y({},s),l=.01,u=0;const d=n.iterator,p=n.angleFinder;for(;i<e&&l>1e-4;)o=d(r),u=r,t=nv(s.x,s.y,o.x,o.y),t+i>e?(r-=l,l/=2):(s=o,r+=l,i+=t);return Y(Y({},o),{},{angle:p(u)})},oO=n=>{let e,t,r=0,i=0,s=0,o=0,l=0;const u=[];for(const d of n){const p={x:i,y:s,command:d[0],length:0};switch(d[0]){case"M":t=p,t.x=o=i=d[1],t.y=l=s=d[2];break;case"L":t=p,t.length=nv(i,s,d[1],d[2]),i=d[1],s=d[2];break;case"C":e=nO(i,s,d[1],d[2],d[3],d[4],d[5],d[6]),t=p,t.iterator=e,t.angleFinder=mL(i,s,d[1],d[2],d[3],d[4],d[5],d[6]),t.length=E_(e,i,s),i=d[5],s=d[6];break;case"Q":e=yL(i,s,d[1],d[2],d[3],d[4]),t=p,t.iterator=e,t.angleFinder=vL(i,s,d[1],d[2],d[3],d[4]),t.length=E_(e,i,s),i=d[3],s=d[4];break;case"Z":t=p,t.destX=o,t.destY=l,t.length=nv(i,s,o,l),i=o,s=l}r+=t.length,u.push(t)}return u.push({length:r,x:i,y:s}),u},SL=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oO(n),r=0;for(;e-t[r].length>0&&r<t.length-2;)e-=t[r].length,r++;const i=t[r],s=e/i.length,o=n[r];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return Y(Y({},new ie(i.x,i.y).lerp(new ie(i.destX,i.destY),s)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return Y(Y({},new ie(i.x,i.y).lerp(new ie(o[1],o[2]),s)),{},{angle:Math.atan2(o[2]-i.y,o[1]-i.x)});case"C":case"Q":return xL(i,e)}},wL=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),O_=new RegExp(hL,"g"),bL=new RegExp(Pu,"gi"),CL={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},_L=n=>{var e;const t=[],r=(e=n.match(wL))!==null&&e!==void 0?e:[];for(const i of r){const s=i[0];if(s==="z"||s==="Z"){t.push([s]);continue}const o=CL[s.toLowerCase()];let l=[];if(s==="a"||s==="A"){O_.lastIndex=0;for(let u=null;u=O_.exec(i);)l.push(...u.slice(1))}else l=i.match(bL)||[];for(let u=0;u<l.length;u+=o){const d=new Array(o),p=dL[s];d[0]=u>0&&p?p:s;for(let m=0;m<o;m++)d[m+1]=parseFloat(l[u+m]);t.push(d)}}return t},kL=(n,e)=>n.map(t=>t.map((r,i)=>i===0||e===void 0?r:hn(r,e)).join(" ")).join(" ");function JS(n,e){const t=n.style;t&&e&&(typeof e=="string"?t.cssText+=";"+e:Object.entries(e).forEach(r=>{let[i,s]=r;return t.setProperty(i,s)}))}class TL extends LE{constructor(e){let{allowTouchScrolling:t=!1,containerClass:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),G(this,"upper",void 0),G(this,"container",void 0);const{el:i}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:t}),this.applyCanvasStyle(s,{allowTouchScrolling:t,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(r),i.parentNode&&i.parentNode.replaceChild(o,i),o.append(i,s),this.container=o}createUpperCanvas(){const{el:e}=this.lower,t=ao();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}createContainerElement(){const e=ef().createElement("div");return e.setAttribute("data-fabric","wrapper"),JS(e,{position:"relative"}),o_(e),e}applyCanvasStyle(e,t){const{styles:r,allowTouchScrolling:i}=t;JS(e,Y(Y({},r),{},{"touch-action":i?"manipulation":Oi})),o_(e)}setDimensions(e,t){super.setDimensions(e,t);const{el:r,ctx:i}=this.upper;NE(r,i,e,t)}setCSSDimensions(e){super.setCSSDimensions(e),WS(this.upper.el,e),WS(this.container,e)}cleanupDOM(e){const t=this.container,{el:r}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),t.removeChild(i),t.removeChild(r),t.parentNode&&t.parentNode.replaceChild(r,t)}dispose(){super.dispose(),Ko().dispose(this.upper.el),delete this.upper,delete this.container}}class $v extends Ug{constructor(){super(...arguments),G(this,"targets",[]),G(this,"_hoveredTargets",[]),G(this,"_objectsToRender",void 0),G(this,"_currentTransform",null),G(this,"_groupSelector",null),G(this,"contextTopDirty",!1)}static getDefaults(){return Y(Y({},super.getDefaults()),$v.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new TL(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(t=>!t.group&&t!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const t=this.getRetinaScaling(),r=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=r,this.pixelFindContext.scale(t,t)}isTargetTransparent(e,t,r){const i=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-t+i,-r+i),s.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(s),e.selectionBackgroundColor=o,s.restore();const l=Math.round(i*this.getRetinaScaling());return PN(s,l,l,l)}_isSelectionKeyPressed(e){const t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find(r=>!!r&&e[r]===!0):e[t])}_shouldClearSelection(e,t){const r=this.getActiveObjects(),i=this._activeObject;return!!(!t||t&&i&&r.length>1&&r.indexOf(t)===-1&&i!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&i&&i!==t)}_shouldCenterTransform(e,t,r){if(!e)return;let i;return t===Iv||t===Ri||t===Ms||t===xg?i=this.centeredScaling||e.centeredScaling:t===sb&&(i=this.centeredRotation||e.centeredRotation),i?!r:r}_getOriginFromCorner(e,t){const r={x:e.originX,y:e.originY};return t&&(["ml","tl","bl"].includes(t)?r.x=Cn:["mr","tr","br"].includes(t)&&(r.x=Nt),["tl","mt","tr"].includes(t)?r.y=$S:["bl","mb","br"].includes(t)&&(r.y=Ei)),r}_setupCurrentTransform(e,t,r){var i;const s=t.group?Nd(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:l}=t.getActiveControl()||{},u=r&&l?(i=l.getActionHandler(e,t,l))===null||i===void 0?void 0:i.bind(l):qI,d=((w,S,C,_)=>{if(!S||!w)return"drag";const E=_.controls[S];return E.getActionName(C,E,_)})(r,o,e,t),p=e[this.centeredKey],m=this._shouldCenterTransform(t,d,p)?{x:ft,y:ft}:this._getOriginFromCorner(t,o),v={target:t,action:d,actionHandler:u,actionPerformed:!1,corner:o,scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,offsetX:s.x-t.left,offsetY:s.y-t.top,originX:m.x,originY:m.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:_n(t.angle),width:t.width,height:t.height,shiftKey:e.shiftKey,altKey:p,original:Y(Y({},FE(t)),{},{originX:m.x,originY:m.y})};this._currentTransform=v,this.fire("before:transform",{e,transform:v})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:t,y:r,deltaX:i,deltaY:s}=this._groupSelector,o=new ie(t,r).transform(this.viewportTransform),l=new ie(t+i,r+s).transform(this.viewportTransform),u=this.selectionLineWidth/2;let d=Math.min(o.x,l.x),p=Math.min(o.y,l.y),m=Math.max(o.x,l.x),v=Math.max(o.y,l.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(d,p,m-d,v-p)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,d+=u,p+=u,m-=u,v-=u,$r.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(d,p,m-d,v-p))}findTarget(e){if(this.skipTargetFind)return;const t=this.getViewportPoint(e),r=this._activeObject,i=this.getActiveObjects();if(this.targets=[],r&&i.length>=1){if(r.findControl(t,HS(e))||i.length>1&&this.searchPossibleTargets([r],t))return r;if(r===this.searchPossibleTargets([r],t)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,t);return e[this.altSelectionKey]&&o&&o!==r?(this.targets=s,r):o}return r}}return this.searchPossibleTargets(this._objects,t)}_pointIsInObjectSelectionArea(e,t){let r=e.getCoords();const i=this.getZoom(),s=e.padding/i;if(s){const[o,l,u,d]=r,p=Math.atan2(l.y-o.y,l.x-o.x),m=Ka(p)*s,v=qa(p)*s,w=m+v,S=m-v;r=[new ie(o.x-S,o.y-w),new ie(l.x+w,l.y-S),new ie(u.x+S,u.y+w),new ie(d.x-w,d.y+S)]}return un.isPointInPolygon(t,r)}_checkTarget(e,t){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Nd(t,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,t.x,t.y)))}_searchPossibleTargets(e,t){let r=e.length;for(;r--;){const i=e[r];if(this._checkTarget(i,t)){if(My(i)&&i.subTargetCheck){const s=this._searchPossibleTargets(i._objects,t);s&&this.targets.push(s)}return i}}}searchPossibleTargets(e,t){const r=this._searchPossibleTargets(e,t);if(r&&My(r)&&r.interactive&&this.targets[0]){const i=this.targets;for(let s=i.length-1;s>0;s--){const o=i[s];if(!My(o)||!o.interactive)return o}return i[0]}return r}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.upperCanvasEl,i=r.getBoundingClientRect();let s=HI(e),o=i.width||0,l=i.height||0;o&&l||(Ei in i&&$S in i&&(l=Math.abs(i.top-i.bottom)),Cn in i&&Nt in i&&(o=Math.abs(i.right-i.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,t||(s=Nd(s,void 0,this.viewportTransform));const u=this.getRetinaScaling();u!==1&&(s.x/=u,s.y/=u);const d=o===0||l===0?new ie(1,1):new ie(r.width/o,r.height/l);return s.multiply(d)}_setDimensionsImpl(e,t){this._resetTransformEventData(),super._setDimensionsImpl(e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=ao(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return uu(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,t){let r=!1,i=!1;const s=this.getActiveObjects(),o=[],l=[];e.forEach(u=>{s.includes(u)||(r=!0,u.fire("deselected",{e:t,target:u}),l.push(u))}),s.forEach(u=>{e.includes(u)||(r=!0,u.fire("selected",{e:t,target:u}),o.push(u))}),e.length>0&&s.length>0?(i=!0,r&&this.fire("selection:updated",{e:t,selected:o,deselected:l})):s.length>0?(i=!0,this.fire("selection:created",{e:t,selected:o})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:t,deselected:l})),i&&(this._objectsToRender=void 0)}setActiveObject(e,t){const r=this.getActiveObjects(),i=this._setActiveObject(e,t);return this._fireSelectionEvents(r,t),i}_setActiveObject(e,t){const r=this._activeObject;return r!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,uu(e)&&r!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,t){const r=this._activeObject;return!!r&&!r.onDeselect({e,object:t})&&(this._currentTransform&&this._currentTransform.target===r&&this.endCurrentTransform(e),uu(r)&&r===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const t=this.getActiveObjects(),r=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e,deselected:[r]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),i}endCurrentTransform(e){const t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const t=this._currentTransform,r=t.target,i={e,target:r,transform:t,action:t.action};r._scaling&&(r._scaling=!1),r.setCoords(),t.actionPerformed&&(this.fire("object:modified",i),r.fire(Yy,i))}setViewportTransform(e){super.setViewportTransform(e);const t=this._activeObject;t&&t.setCoords()}destroy(){const e=this._activeObject;uu(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const t=this._activeObject;t&&t._renderControls(e)}_toObject(e,t,r){const i=this._realizeGroupTransformOnObject(e),s=super._toObject(e,t,r);return e.set(i),s}_realizeGroupTransformOnObject(e){const{group:t}=e;if(t&&uu(t)&&this._activeObject===t){const r=rf(e,["angle","flipX","flipY",Nt,Ri,Ms,tf,nf,Ei]);return UI(e,t.calcOwnMatrix()),r}return{}}_setSVGObject(e,t,r){const i=this._realizeGroupTransformOnObject(t);super._setSVGObject(e,t,r),t.set(i)}}G($v,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class EL{constructor(e){G(this,"targets",[]),G(this,"__disposer",void 0);const t=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},r=e.upperCanvasEl;r.addEventListener("click",t),this.__disposer=()=>r.removeEventListener("click",t)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),Cd(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var t;!((t=this.target)===null||t===void 0)&&t.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const OL=["target","oldTarget","fireCanvas","e"],Ki={passive:!1},fd=(n,e)=>{const t=n.getViewportPoint(e),r=n.getScenePoint(e);return{viewportPoint:t,scenePoint:r,pointer:t,absolutePointer:r}},Wl=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return n.addEventListener(...t)},ws=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return n.removeEventListener(...t)},ML={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class QS extends $v{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),G(this,"_isClick",void 0),G(this,"textEditingManager",new EL(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(t=>{this[t]=this[t].bind(this)}),this.addOrRemove(Wl,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,t){const r=this.upperCanvasEl,i=this._getEventPrefix();e(IE(r),"resize",this._onResize),e(r,i+"down",this._onMouseDown),e(r,"".concat(i,"move"),this._onMouseMove,Ki),e(r,"".concat(i,"out"),this._onMouseOut),e(r,"".concat(i,"enter"),this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"dblclick",this._onDoubleClick),e(r,"dragstart",this._onDragStart),e(r,"dragend",this._onDragEnd),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,Ki)}removeListeners(){this.addOrRemove(ws,"remove");const e=this._getEventPrefix(),t=eo(this.upperCanvasEl);ws(t,"".concat(e,"up"),this._onMouseUp),ws(t,"touchend",this._onTouchEnd,Ki),ws(t,"".concat(e,"move"),this._onMouseMove,Ki),ws(t,"touchmove",this._onMouseMove,Ki),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const t=this._hoveredTarget,r=Y({e},fd(this,e));this.fire("mouse:out",Y(Y({},r),{},{target:t})),this._hoveredTarget=void 0,t&&t.fire("mouseout",Y({},r)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",Y(Y({},r),{},{target:i})),i&&i.fire("mouseout",Y({},r))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",Y({e},fd(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;const r={e,target:t};return this.fire("dragstart",r),t.fire("dragstart",r),void Wl(this.upperCanvasEl,"drag",this._onDragProgress)}VS(e)}_renderDragEffects(e,t,r){let i=!1;const s=this._dropTarget;s&&s!==t&&s!==r&&(s.clearContextTop(),i=!0),t==null||t.clearContextTop(),r!==t&&(r==null||r.clearContextTop());const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),t&&(o.save(),t.transform(o),t.renderDragSourceEffect(e),o.restore(),i=!0),r&&(o.save(),r.transform(o),r.renderDropTargetEffect(e),o.restore(),i=!0),o.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const t=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Oi,r=t?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:t,dropTarget:r};ws(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const t={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const t="dragover",{target:r,targets:i}=this.findDragTargets(e),s=this._dragSource,o={e,target:r,subTargets:i,dragSource:s,canDrop:!1,dropTarget:void 0};let l;this.fire(t,o),this._fireEnterLeaveEvents(r,o),r&&(r.canDrop(e)&&(l=r),r.fire(t,o));for(let u=0;u<i.length;u++){const d=i[u];d.canDrop(e)&&(l=d),d.fire(t,o)}this._renderDragEffects(e,s,l),this._dropTarget=l}_onDragEnter(e){const{target:t,targets:r}=this.findDragTargets(e),i={e,target:t,subTargets:r,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(t,i)}_onDragLeave(e){const t={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",t),this._fireEnterLeaveEvents(void 0,t),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:t,targets:r}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",Y({e,target:t,subTargets:r,dragSource:this._dragSource},fd(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const t=this.findTarget(e),r=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:t,subTargets:r});return this.stopContextMenu&&VS(e),this._basicEventHandler("contextmenu",i),!1}_onDoubleClick(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData()}getPointerId(e){const t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let t=!this.allowTouchScrolling;const r=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||r&&this._target===r)&&(t=!0),t&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix(),o=eo(i);Wl(o,"touchend",this._onTouchEnd,Ki),t&&Wl(o,"touchmove",this._onMouseMove,Ki),ws(i,"".concat(s,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const t=this.upperCanvasEl,r=this._getEventPrefix();ws(t,"".concat(r,"move"),this._onMouseMove,Ki);const i=eo(t);Wl(i,"".concat(r,"up"),this._onMouseUp),Wl(i,"".concat(r,"move"),this._onMouseMove,Ki)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const t=this._getEventPrefix(),r=eo(this.upperCanvasEl);ws(r,"touchend",this._onTouchEnd,Ki),ws(r,"touchmove",this._onMouseMove,Ki),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Wl(this.upperCanvasEl,"".concat(t,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const t=this.upperCanvasEl,r=this._getEventPrefix();if(this._isMainEvent(e)){const i=eo(this.upperCanvasEl);ws(i,"".concat(r,"up"),this._onMouseUp),ws(i,"".concat(r,"move"),this._onMouseMove,Ki),Wl(t,"".concat(r,"move"),this._onMouseMove,Ki)}}_onMouseMove(e){const t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}__onMouseUp(e){var t;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const r=this._currentTransform,i=this._isClick,s=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let l,u,d=!1;if(r&&(this._finalizeCurrentTransform(e),d=r.actionPerformed),!i){const p=s===this._activeObject;this.handleSelection(e),d||(d=this._shouldRender(s)||!p&&s===this._activeObject)}if(s){const p=s.findControl(this.getViewportPoint(e),HS(e)),{key:m,control:v}=p||{};if(u=m,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,e),d=!0;else if(v){const w=v.getMouseUpHandler(e,s,v);w&&(l=this.getScenePoint(e),w.call(v,e,r,l.x,l.y))}s.isMoving=!1}if(r&&(r.target!==s||r.corner!==u)){const p=r.target&&r.target.controls[r.corner],m=p&&p.getMouseUpHandler(e,r.target,p);l=l||this.getScenePoint(e),m&&m.call(p,e,r,l.x,l.y)}this._setCursorFromEvent(e,s),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),d?this.requestRenderAll():i||(t=this._activeObject)!==null&&t!==void 0&&t.isEditing||this.renderTop()}_basicEventHandler(e,t){const{target:r,subTargets:i=[]}=t;this.fire(e,t),r&&r.fire(e,t);for(let s=0;s<i.length;s++)i[s]!==r&&i[s].fire(e,t);return t}_handleEvent(e,t){const r=this._target,i=this.targets||[],s=Y(Y({e,target:r,subTargets:i},fd(this,e)),{},{transform:this._currentTransform},t==="up:before"||t==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(t),s),r&&r.fire("mouse".concat(t),s);for(let o=0;o<i.length;o++)i[o]!==r&&i[o].fire("mouse".concat(t),s)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e,pointer:t}),this._handleEvent(e,"down")}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let t=this._target;const{button:r}=e;if(r)return(this.fireMiddleClick&&r===1||this.fireRightClick&&r===2)&&this._handleEvent(e,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let i=this._shouldRender(t),s=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,s=!0,i=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){const o=this.getScenePoint(e);this._groupSelector={x:o.x,y:o.y,deltaY:0,deltaX:0}}if(t){const o=t===this._activeObject;t.selectable&&t.activeOn==="down"&&this.setActiveObject(t,e);const l=t.findControl(this.getViewportPoint(e),HS(e));if(t===this._activeObject&&(l||!s)){this._setupCurrentTransform(e,t,o);const u=l?l.control:void 0,d=this.getScenePoint(e),p=u&&u.getMouseDownHandler(e,t,u);p&&p.call(u,e,this._currentTransform,d.x,d.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down"),i&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Nd(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const t=this._groupSelector;if(t){const r=this.getScenePoint(e);t.deltaX=r.x-t.x,t.deltaY=r.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const r=this.findTarget(e);this._setCursorFromEvent(e,r),this._fireOverOutEvents(e,r)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,t){const r=this._hoveredTarget,i=this._hoveredTargets,s=this.targets,o=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("mouse",{e,target:t,oldTarget:r,fireCanvas:!0});for(let l=0;l<o;l++)this.fireSyntheticInOutEvents("mouse",{e,target:s[l],oldTarget:i[l]});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,t){const r=this._draggedoverTarget,i=this._hoveredTargets,s=this.targets,o=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("drag",Y(Y({},t),{},{target:e,oldTarget:r,fireCanvas:!0}));for(let l=0;l<o;l++)this.fireSyntheticInOutEvents("drag",Y(Y({},t),{},{target:s[l],oldTarget:i[l]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,t){let{target:r,oldTarget:i,fireCanvas:s,e:o}=t,l=sn(t,OL);const{targetIn:u,targetOut:d,canvasIn:p,canvasOut:m}=ML[e],v=i!==r;if(i&&v){const w=Y(Y({},l),{},{e:o,target:i,nextTarget:r},fd(this,o));s&&this.fire(m,w),i.fire(d,w)}if(r&&v){const w=Y(Y({},l),{},{e:o,target:r,previousTarget:i},fd(this,o));s&&this.fire(p,w),r.fire(u,w)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const t=this.getScenePoint(e),r=this._currentTransform,i=r.target,s=i.group?Nd(t,void 0,i.group.calcTransformMatrix()):t;r.shiftKey=e.shiftKey,r.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,r,s),r.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,t,r){const{action:i,actionHandler:s,target:o}=t,l=!!s&&s(e,t,r.x,r.y);l&&o.setCoords(),i==="drag"&&l&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||l}_setCursorFromEvent(e,t){if(!t)return void this.setCursor(this.defaultCursor);let r=t.hoverCursor||this.hoverCursor;const i=uu(this._activeObject)?this._activeObject:null,s=(!i||t.group!==i)&&t.findControl(this.getViewportPoint(e));if(s){const o=s.control;this.setCursor(o.cursorStyleHandler(e,o,t))}else t.subTargetCheck&&this.targets.concat().reverse().map(o=>{r=o.hoverCursor||r}),this.setCursor(r)}handleMultiSelection(e,t){const r=this._activeObject,i=uu(r);if(r&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(r!==t||i)&&(i||!t.isDescendantOf(r)&&!r.isDescendantOf(t))&&!t.onSelect({e})&&!r.getActiveControl()){if(i){const s=r.getObjects();if(t===r){const o=this.getViewportPoint(e);if(!(t=this.searchPossibleTargets(s,o)||this.searchPossibleTargets(this._objects,o))||!t.selectable)return!1}t.group===r?(r.remove(t),this._hoveredTarget=t,this._hoveredTargets=[...this.targets],r.size()===1&&this._setActiveObject(r.item(0),e)):(r.multiSelectAdd(t),this._hoveredTarget=r,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,e)}else{r.isEditing&&r.exitEditing();const s=new(Le.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(r,t),this._hoveredTarget=s,this._setActiveObject(s,e),this._fireSelectionEvents([r],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:t,y:r,deltaX:i,deltaY:s}=this._groupSelector,o=new ie(t,r),l=o.add(new ie(i,s)),u=o.min(l),d=o.max(l).subtract(u),p=this.collectObjects({left:u.x,top:u.y,width:d.x,height:d.y},{includeIntersecting:!this.selectionFullyContained}),m=o.eq(l)?p[0]?[p[0]]:[]:p.length>1?p.filter(v=>!v.onSelect({e})).reverse():p;if(m.length===1)this.setActiveObject(m[0],e);else if(m.length>1){const v=Le.getClass("ActiveSelection");this.setActiveObject(new v(m,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const aO={x1:0,y1:0,x2:0,y2:0},AL=Y(Y({},aO),{},{r1:0,r2:0}),Od=(n,e)=>isNaN(n)&&typeof e=="number"?e:n,PL=/^(\d+\.\d+)%|(\d+)%$/;function lO(n){return n&&PL.test(n)}function cO(n,e){const t=typeof n=="number"?n:typeof n=="string"?parseFloat(n)/(lO(n)?100:1):NaN;return Hd(0,Od(t,e),1)}const RL=/\s*;\s*/,DL=/\s*:\s*/;function IL(n,e){let t,r;const i=n.getAttribute("style");if(i){const o=i.split(RL);o[o.length-1]===""&&o.pop();for(let l=o.length;l--;){const[u,d]=o[l].split(DL).map(p=>p.trim());u==="stop-color"?t=d:u==="stop-opacity"&&(r=d)}}const s=new Ft(t||n.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:cO(n.getAttribute("offset"),0),color:s.toRgb(),opacity:Od(parseFloat(r||n.getAttribute("stop-opacity")||""),1)*s.getAlpha()*e}}function NL(n,e){const t=[],r=n.getElementsByTagName("stop"),i=cO(e,1);for(let s=r.length;s--;)t.push(IL(r[s],i));return t}function uO(n){return n.nodeName==="linearGradient"||n.nodeName==="LINEARGRADIENT"?"linear":"radial"}function hO(n){return n.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function qs(n,e){return n.getAttribute(e)}function LL(n,e){return function(t,r){let i,{width:s,height:o,gradientUnits:l}=r;return Object.keys(t).reduce((u,d)=>{const p=t[d];return p==="Infinity"?i=1:p==="-Infinity"?i=0:(i=typeof p=="string"?parseFloat(p):p,typeof p=="string"&&lO(p)&&(i*=.01,l==="pixels"&&(d!=="x1"&&d!=="x2"&&d!=="r2"||(i*=s),d!=="y1"&&d!=="y2"||(i*=o)))),u[d]=i,u},{})}(uO(n)==="linear"?function(t){return{x1:qs(t,"x1")||0,y1:qs(t,"y1")||0,x2:qs(t,"x2")||"100%",y2:qs(t,"y2")||0}}(n):function(t){return{x1:qs(t,"fx")||qs(t,"cx")||"50%",y1:qs(t,"fy")||qs(t,"cy")||"50%",r1:0,x2:qs(t,"cx")||"50%",y2:qs(t,"cy")||"50%",r2:qs(t,"r")||"50%"}}(n),Y(Y({},e),{},{gradientUnits:hO(n)}))}class W0{constructor(e){const{type:t="linear",gradientUnits:r="pixels",coords:i={},colorStops:s=[],offsetX:o=0,offsetY:l=0,gradientTransform:u,id:d}=e||{};Object.assign(this,{type:t,gradientUnits:r,coords:Y(Y({},t==="radial"?AL:aO),i),colorStops:s,offsetX:o,offsetY:l,gradientTransform:u,id:d?"".concat(d,"_").concat(rc()):rc()})}addColorStop(e){for(const t in e){const r=new Ft(e[t]);this.colorStops.push({offset:parseFloat(t),color:r.toRgb(),opacity:r.getAlpha()})}return this}toObject(e){return Y(Y({},rf(this,e)),{},{type:this.type,coords:Y({},this.coords),colorStops:this.colorStops.map(t=>Y({},t)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],i=this.gradientTransform?this.gradientTransform.concat():si.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(m=>Y({},m)).sort((m,v)=>m.offset-v.offset);let l=-this.offsetX,u=-this.offsetY;var d;s==="objectBoundingBox"?(l/=e.width,u/=e.height):(l+=e.width/2,u+=e.height/2),(d=e)&&typeof d._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(l-=e.pathOffset.x,u-=e.pathOffset.y),i[4]-=l,i[5]-=u;const p=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(t?t+" ":"").concat(Jy(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:m,y1:v,x2:w,y2:S}=this.coords;r.push("<linearGradient ",p,' x1="',m,'" y1="',v,'" x2="',w,'" y2="',S,`">
`)}else if(this.type==="radial"){const{x1:m,y1:v,x2:w,y2:S,r1:C,r2:_}=this.coords,E=C>_;r.push("<radialGradient ",p,' cx="',E?m:w,'" cy="',E?v:S,'" r="',E?C:_,'" fx="',E?w:m,'" fy="',E?S:v,`">
`),E&&(o.reverse(),o.forEach(M=>{M.offset=1-M.offset}));const P=Math.min(C,_);if(P>0){const M=P/Math.max(C,_);o.forEach(F=>{F.offset+=M*(1-F.offset)})}}return o.forEach(m=>{let{color:v,offset:w,opacity:S}=m;r.push("<stop ",'offset="',100*w+"%",'" style="stop-color:',v,S!==void 0?";stop-opacity: "+S:";",`"/>
`)}),r.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),r.join("")}toLive(e){const{x1:t,y1:r,x2:i,y2:s,r1:o,r2:l}=this.coords,u=this.type==="linear"?e.createLinearGradient(t,r,i,s):e.createRadialGradient(t,r,o,i,s,l);return this.colorStops.forEach(d=>{let{color:p,opacity:m,offset:v}=d;u.addColorStop(v,m!==void 0?new Ft(p).setAlpha(m).toRgba():p)}),u}static async fromObject(e){const{colorStops:t,gradientTransform:r}=e;return new this(Y(Y({},e),{},{colorStops:t?t.map(i=>Y({},i)):void 0,gradientTransform:r?[...r]:void 0}))}static fromElement(e,t,r){const i=hO(e),s=t._findCenterFromElement();return new this(Y({id:e.getAttribute("id")||void 0,type:uO(e),coords:LL(e,{width:r.viewBoxWidth||r.width,height:r.viewBoxHeight||r.height}),colorStops:NL(e,r.opacity),gradientUnits:i,gradientTransform:YS(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:t.width/2-s.x,offsetY:t.height/2-s.y}:{offsetX:0,offsetY:0}))}}G(W0,"type","Gradient"),Le.setClass(W0,"gradient"),Le.setClass(W0,"linear"),Le.setClass(W0,"radial");const FL=["type","source","patternTransform"];class Gx{get type(){return"pattern"}set type(e){nc("warn","Setting type has no effect",e)}constructor(e){G(this,"repeat","repeat"),G(this,"offsetX",0),G(this,"offsetY",0),G(this,"crossOrigin",""),this.id=rc(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:t,crossOrigin:r}=this;return Y(Y({},rf(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:r,offsetX:hn(this.offsetX,kt.NUM_FRACTION_DIGITS),offsetY:hn(this.offsetY,kt.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:t,height:r}=e;const{source:i,repeat:s,id:o}=this,l=Od(this.offsetX/t,0),u=Od(this.offsetY/r,0),d=s==="repeat-y"||s==="no-repeat"?1+Math.abs(l||0):Od(i.width/t,0),p=s==="repeat-x"||s==="no-repeat"?1+Math.abs(u||0):Od(i.height/r,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(l,'" y="').concat(u,'" width="').concat(d,'" height="').concat(p,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,t){let{type:r,source:i,patternTransform:s}=e,o=sn(e,FL);const l=await Py(i,Y(Y({},t),{},{crossOrigin:o.crossOrigin}));return new this(Y(Y({},o),{},{patternTransform:s&&s.slice(0),source:l}))}}G(Gx,"type","Pattern"),Le.setClass(Gx),Le.setClass(Gx,"pattern");const BL=["path","left","top"],jL=["d"];class hu extends $r{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:r,left:i,top:s}=t,o=sn(t,BL);super(),Object.assign(this,hu.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof i=="number"&&this.set(Nt,i),typeof s=="number"&&this.set(Ei,s)}_setPath(e,t){this.path=gL(Array.isArray(e)?e:_L(e)),this.setBoundingBox(t)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new ie(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const t=-this.pathOffset.x,r=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+t,i[2]+r);break;case"M":e.moveTo(i[1]+t,i[2]+r);break;case"C":e.bezierCurveTo(i[1]+t,i[2]+r,i[3]+t,i[4]+r,i[5]+t,i[6]+r);break;case"Q":e.quadraticCurveTo(i[1]+t,i[2]+r,i[3]+t,i[4]+r);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject(e)),{},{path:this.path.map(t=>t.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}_toSVG(){const e=kL(this.path,kt.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=kt.NUM_FRACTION_DIGITS;return" translate(".concat(hn(-this.pathOffset.x,e),", ").concat(hn(-this.pathOffset.y,e),")")}toClipPathSVG(e){const t=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}toSVG(e){const t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:t,height:r,pathOffset:i}=this._calcDimensions();this.set({width:t,height:r,pathOffset:i}),e&&this.setPositionByOrigin(i,ft,ft)}_calcBoundsFromPath(){const e=[];let t=0,r=0,i=0,s=0;for(const o of this.path)switch(o[0]){case"L":i=o[1],s=o[2],e.push({x:t,y:r},{x:i,y:s});break;case"M":i=o[1],s=o[2],t=i,r=s;break;case"C":e.push(...T_(i,s,o[1],o[2],o[3],o[4],o[5],o[6])),i=o[5],s=o[6];break;case"Q":e.push(...T_(i,s,o[1],o[2],o[1],o[2],o[3],o[4])),i=o[3],s=o[4];break;case"Z":i=t,s=r}return Ga(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return Y(Y({},e),{},{pathOffset:new ie(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,t,r){const i=nl(e,this.ATTRIBUTE_NAMES,r),{d:s}=i;return new this(s,Y(Y(Y({},sn(i,jL)),t),{},{left:void 0,top:void 0}))}}G(hu,"type","Path"),G(hu,"cacheProperties",[...tl,"path","fillRule"]),G(hu,"ATTRIBUTE_NAMES",[...ac,"d"]),Le.setClass(hu),Le.setSVGClass(hu);const zL=["left","top","radius"],dO=["radius","startAngle","endAngle","counterClockwise"];class ja extends $r{static getDefaults(){return Y(Y({},super.getDefaults()),ja.ownDefaults)}constructor(e){super(),Object.assign(this,ja.ownDefaults),this.setOptions(e)}_set(e,t){return super._set(e,t),e==="radius"&&this.setRadius(t),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,_n(this.startAngle),_n(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(Ri)}getRadiusY(){return this.get("radius")*this.get(Ms)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...dO,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:t}=this,r=_n(this.startAngle),i=_n(this.endAngle),s=Ka(r)*t,o=qa(r)*t,l=Ka(i)*t,u=qa(i)*t,d=e>180?1:0,p=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(o," A ").concat(t," ").concat(t," 0 ").concat(d," ").concat(p," ").concat(l," ").concat(u,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,t,r){const i=nl(e,this.ATTRIBUTE_NAMES,r),{left:s=0,top:o=0,radius:l=0}=i;return new this(Y(Y({},sn(i,zL)),{},{radius:l,left:s-l,top:o-l}))}static fromObject(e){return super._fromObject(e)}}G(ja,"type","Circle"),G(ja,"cacheProperties",[...tl,...dO]),G(ja,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),G(ja,"ATTRIBUTE_NAMES",["cx","cy","r",...ac]),Le.setClass(ja),Le.setSVGClass(ja);const $L=["x1","y1","x2","y2"],WL=["x1","y1","x2","y2"],ZS=["x1","x2","y1","y2"];class du extends $r{constructor(){let[e,t,r,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,du.ownDefaults),this.setOptions(s),this.x1=e,this.x2=r,this.y1=t,this.y2=i,this._setWidthHeight();const{left:o,top:l}=s;typeof o=="number"&&this.set(Nt,o),typeof l=="number"&&this.set(Ei,l)}_setWidthHeight(){const{x1:e,y1:t,x2:r,y2:i}=this;this.width=Math.abs(r-e),this.height=Math.abs(i-t);const{left:s,top:o,width:l,height:u}=Ga([{x:e,y:t},{x:r,y:i}]),d=new ie(s+l/2,o+u/2);this.setPositionByOrigin(d,ft,ft)}_set(e,t){return super._set(e,t),ZS.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;const r=e.strokeStyle;var i;ks(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=r}_findCenterFromElement(){return new ie((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:t,y1:r,y2:i,width:s,height:o}=this,l=e<=t?-1:1,u=r<=i?-1:1;return{x1:l*s/2,x2:l*-s/2,y1:u*o/2,y2:u*-o/2}}_toSVG(){const{x1:e,x2:t,y1:r,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(r,'" x2="').concat(t,'" y2="').concat(i,`" />
`)]}static async fromElement(e,t,r){const i=nl(e,this.ATTRIBUTE_NAMES,r),{x1:s=0,y1:o=0,x2:l=0,y2:u=0}=i;return new this([s,o,l,u],sn(i,$L))}static fromObject(e){let{x1:t,y1:r,x2:i,y2:s}=e,o=sn(e,WL);return this._fromObject(Y(Y({},o),{},{points:[t,r,i,s]}),{extraParam:"points"})}}G(du,"type","Line"),G(du,"cacheProperties",[...tl,...ZS]),G(du,"ATTRIBUTE_NAMES",ac.concat(ZS)),Le.setClass(du),Le.setSVGClass(du);class gu extends $r{static getDefaults(){return Y(Y({},super.getDefaults()),gu.ownDefaults)}constructor(e){super(),Object.assign(this,gu.ownDefaults),this.setOptions(e)}_render(e){const t=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-t,r),e.lineTo(0,-r),e.lineTo(t,r),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}G(gu,"type","Triangle"),G(gu,"ownDefaults",{width:100,height:100}),Le.setClass(gu),Le.setSVGClass(gu);const fO=["rx","ry"];class za extends $r{static getDefaults(){return Y(Y({},super.getDefaults()),za.ownDefaults)}constructor(e){super(),Object.assign(this,za.ownDefaults),this.setOptions(e)}_set(e,t){switch(super._set(e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}getRx(){return this.get("rx")*this.get(Ri)}getRy(){return this.get("ry")*this.get(Ms)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...fO,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,Gy,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,t,r){const i=nl(e,this.ATTRIBUTE_NAMES,r);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function HL(n){if(!n)return[];const e=n.replace(/,/g," ").trim().split(/\s+/),t=[];for(let r=0;r<e.length;r+=2)t.push({x:parseFloat(e[r]),y:parseFloat(e[r+1])});return t}G(za,"type","Ellipse"),G(za,"cacheProperties",[...tl,...fO]),G(za,"ownDefaults",{rx:0,ry:0}),G(za,"ATTRIBUTE_NAMES",[...ac,"cx","cy","rx","ry"]),Le.setClass(za),Le.setSVGClass(za);const VL=["left","top"],pO={exactBoundingBox:!1};class Zs extends $r{static getDefaults(){return Y(Y({},super.getDefaults()),Zs.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),G(this,"strokeDiff",void 0),Object.assign(this,Zs.ownDefaults),this.setOptions(t),this.points=e;const{left:r,top:i}=t;this.initialized=!0,this.setBoundingBox(!0),typeof r=="number"&&this.set(Nt,r),typeof i=="number"&&this.set(Ei,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return DN(this.points,e,this.isOpen())}_calcDimensions(e){e=Y({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(d=>d.projectedPoint):this.points;if(t.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new ie,strokeOffset:new ie,strokeDiff:new ie};const r=Ga(t),i=Nv(Y(Y({},e),{},{scaleX:1,scaleY:1})),s=Ga(this.points.map(d=>Ti(d,i,!0))),o=new ie(this.scaleX,this.scaleY);let l=r.left+r.width/2,u=r.top+r.height/2;return this.exactBoundingBox&&(l-=u*Math.tan(_n(this.skewX)),u-=l*Math.tan(_n(this.skewY))),Y(Y({},r),{},{pathOffset:new ie(l,u),strokeOffset:new ie(s.left,s.top).subtract(new ie(r.left,r.top)).multiply(o),strokeDiff:new ie(r.width,r.height).subtract(new ie(s.width,s.height)).multiply(o)})}_findCenterFromElement(){const e=Ga(this.points);return new ie(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:t,top:r,width:i,height:s,pathOffset:o,strokeOffset:l,strokeDiff:u}=this._calcDimensions();this.set({width:i,height:s,pathOffset:o,strokeOffset:l,strokeDiff:u}),e&&this.setPositionByOrigin(new ie(t+i/2,r+s/2),ft,ft)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ie(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some(l=>this.strokeUniform||this.constructor.layoutProperties.includes(l))){var t,r;const{width:l,height:u}=this._calcDimensions(e);o=new ie((t=e.width)!==null&&t!==void 0?t:l,(r=e.height)!==null&&r!==void 0?r:u)}else{var i,s;o=new ie((i=e.width)!==null&&i!==void 0?i:this.width,(s=e.height)!==null&&s!==void 0?s:this.height)}return o.multiply(new ie(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,t){const r=this.initialized&&this[e]!==t,i=super._set(e,t);return this.exactBoundingBox&&r&&((e===Ri||e===Ms)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject(e)),{},{points:this.points.map(t=>{let{x:r,y:i}=t;return{x:r,y:i}})})}_toSVG(){const e=[],t=this.pathOffset.x,r=this.pathOffset.y,i=kt.NUM_FRACTION_DIGITS;for(let s=0,o=this.points.length;s<o;s++)e.push(hn(this.points[s].x-t,i),",",hn(this.points[s].y-r,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const t=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-i);for(let s=0;s<t;s++){const o=this.points[s];e.lineTo(o.x-r,o.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,t,r){return new this(HL(e.getAttribute("points")),Y(Y({},sn(nl(e,this.ATTRIBUTE_NAMES,r),VL)),t))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}G(Zs,"ownDefaults",pO),G(Zs,"type","Polyline"),G(Zs,"layoutProperties",[tf,nf,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),G(Zs,"cacheProperties",[...tl,"points"]),G(Zs,"ATTRIBUTE_NAMES",[...ac]),Le.setClass(Zs),Le.setSVGClass(Zs);class H0 extends Zs{isOpen(){return!1}}G(H0,"ownDefaults",pO),G(H0,"type","Polygon"),Le.setClass(H0),Le.setSVGClass(H0);const gO=["fontSize","fontWeight","fontFamily","fontStyle"],mO=["underline","overline","linethrough"],yO=[...gO,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],vO=[...yO,...mO,"textBackgroundColor","direction"],UL=[...gO,...mO,Mi,"strokeWidth",Wn,"deltaY","textBackgroundColor"],GL={_reNewline:ib,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Nt,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Nt,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},Uo="justify",rv="justify-left",lg="justify-right",cg="justify-center";class xO extends $r{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const t=e===void 0?this.styles:{line:this.styles[e]};for(const r in t)for(const i in t[r])for(const s in t[r][i])return!1;return!0}styleHas(e,t){if(!this.styles||t!==void 0&&!this.styles[t])return!1;const r=t===void 0?this.styles:{0:this.styles[t]};for(const i in r)for(const s in r[i])if(r[i][s][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const t=this.styles;let r,i,s=0,o=!0,l=0;for(const u in t){r=0;for(const d in t[u]){const p=t[u][d]||{};s++,p[e]!==void 0?(i?p[e]!==i&&(o=!1):i=p[e],p[e]===this[e]&&delete p[e]):o=!1,Object.keys(p).length!==0?r++:delete t[u][d]}r===0&&delete t[u]}for(let u=0;u<this._textLines.length;u++)l+=this._textLines[u].length;o&&s===l&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const t=this.styles;let r,i,s;for(i in t){for(s in r=t[i],r)delete r[s][e],Object.keys(r[s]).length===0&&delete r[s];Object.keys(r).length===0&&delete t[i]}}_extendStyles(e,t){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(r)||this._setLineStyle(r);const s=cb(Y(Y({},this._getStyleDeclaration(r,i)),t),o=>o!==void 0);this._setStyleDeclaration(r,i,s)}getSelectionStyles(e,t,r){const i=[];for(let s=e;s<(t||e);s++)i.push(this.getStyleAtPosition(s,r));return i}getStyleAtPosition(e,t){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e);return t?this.getCompleteStyleDeclaration(r,i):this._getStyleDeclaration(r,i)}setSelectionStyles(e,t,r){for(let i=t;i<(r||t);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,t){var r;const i=this.styles&&this.styles[e];return i&&(r=i[t])!==null&&r!==void 0?r:{}}getCompleteStyleDeclaration(e,t){return Y(Y({},rf(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}_setStyleDeclaration(e,t,r){this.styles[e][t]=r}_deleteStyleDeclaration(e,t){delete this.styles[e][t]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}G(xO,"_styleProperties",UL);const XL=/  +/g,YL=/"/g;function Xx(n,e,t,r,i){return"		".concat(function(s,o){let{left:l,top:u,width:d,height:p}=o,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kt.NUM_FRACTION_DIGITS;const v=wg(Wn,s,!1),[w,S,C,_]=[l,u,d,p].map(E=>hn(E,m));return"<rect ".concat(v,' x="').concat(w,'" y="').concat(S,'" width="').concat(C,'" height="').concat(_,'"></rect>')}(n,{left:e,top:t,width:r,height:i}),`
`)}const KL=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Yx;class ni extends xO{static getDefaults(){return Y(Y({},super.getDefaults()),ni.ownDefaults)}constructor(e,t){super(),G(this,"__charBounds",[]),Object.assign(this,ni.ownDefaults),this.setOptions(t),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=oO(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Uo)&&this.enlargeSpaces()}enlargeSpaces(){let e,t,r,i,s,o,l;for(let u=0,d=this._textLines.length;u<d;u++)if((this.textAlign===Uo||u!==d-1&&!this.isEndOfWrapping(u))&&(i=0,s=this._textLines[u],t=this.getLineWidth(u),t<this.width&&(l=this.textLines[u].match(this._reSpacesAndTabs)))){r=l.length,e=(this.width-t)/r;for(let p=0;p<=s.length;p++)o=this.__charBounds[u][p],this._reSpaceAndTab.test(s[p])?(o.width+=e,o.kernedWidth+=e,o.left+=i,i+=e):o.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,t){const r=t?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<r.length;i++){if(e<=r[i].length)return{lineIndex:i,charIndex:e};e-=r[i].length+this.missingNewlineOffset(i,t)}return{lineIndex:i-1,charIndex:r[i-1].length<e?r[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}_render(e){const t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===Mi?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,t,r){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case ft:e.textBaseline="middle";break;case"ascender":e.textBaseline=Ei;break;case"descender":e.textBaseline=$S}e.font=this._getFontDeclaration(t,r)}calcTextWidth(){let e=this.getLineWidth(0);for(let t=1,r=this._textLines.length;t<r;t++){const i=this.getLineWidth(t);i>e&&(e=i)}return e}_renderTextLine(e,t,r,i,s,o){this._renderChars(e,t,r,i,s,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const t=e.fillStyle,r=this._getLeftOffset();let i=this._getTopOffset();for(let s=0,o=this._textLines.length;s<o;s++){const l=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){i+=l;continue}const u=this._textLines[s].length,d=this._getLineLeftOffset(s);let p,m,v=0,w=0,S=this.getValueOfPropertyAt(s,0,"textBackgroundColor");for(let C=0;C<u;C++){const _=this.__charBounds[s][C];m=this.getValueOfPropertyAt(s,C,"textBackgroundColor"),this.path?(e.save(),e.translate(_.renderLeft,_.renderTop),e.rotate(_.angle),e.fillStyle=m,m&&e.fillRect(-_.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),_.width,l/this.lineHeight),e.restore()):m!==S?(p=r+d+w,this.direction==="rtl"&&(p=this.width-p-v),e.fillStyle=S,S&&e.fillRect(p,i,v,l/this.lineHeight),w=_.left,v=_.width,S=m):v+=_.kernedWidth}m&&!this.path&&(p=r+d+w,this.direction==="rtl"&&(p=this.width-p-v),e.fillStyle=m,e.fillRect(p,i,v,l/this.lineHeight)),i+=l}e.fillStyle=t,this._removeShadow(e)}_measureChar(e,t,r,i){const s=og.getFontCache(t),o=this._getFontDeclaration(t),l=r+e,u=r&&o===this._getFontDeclaration(i),d=t.fontSize/this.CACHE_FONT_SIZE;let p,m,v,w;if(r&&s[r]!==void 0&&(v=s[r]),s[e]!==void 0&&(w=p=s[e]),u&&s[l]!==void 0&&(m=s[l],w=m-v),p===void 0||v===void 0||m===void 0){const S=function(){return Yx||(Yx=qo({width:0,height:0}).getContext("2d")),Yx}();this._setTextStyles(S,t,!0),p===void 0&&(w=p=S.measureText(e).width,s[e]=p),v===void 0&&u&&r&&(v=S.measureText(r).width,s[r]=v),u&&m===void 0&&(m=S.measureText(l).width,s[l]=m,w=m-v)}return{width:p*d,kernedWidth:w*d}}getHeightOfChar(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}measureLine(e){const t=this._measureLine(e);return this.charSpacing!==0&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}_measureLine(e){let t,r,i=0;const s=this.pathSide===Cn,o=this.path,l=this._textLines[e],u=l.length,d=new Array(u);this.__charBounds[e]=d;for(let p=0;p<u;p++){const m=l[p];r=this._getGraphemeBox(m,e,p,t),d[p]=r,i+=r.kernedWidth,t=m}if(d[u]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let p=0;const m=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case Nt:p=s?m-i:0;break;case ft:p=(m-i)/2;break;case Cn:p=s?0:m-i}p+=this.pathStartOffset*(s?-1:1);for(let v=s?u-1:0;s?v>=0:v<u;s?v--:v++)r=d[v],p>m?p%=m:p<0&&(p+=m),this._setGraphemeOnPath(p,r),p+=r.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,t){const r=e+t.kernedWidth/2,i=this.path,s=SL(i.path,r,i.segmentsInfo);t.renderLeft=s.x-i.pathOffset.x,t.renderTop=s.y-i.pathOffset.y,t.angle=s.angle+(this.pathSide===Cn?Math.PI:0)}_getGraphemeBox(e,t,r,i,s){const o=this.getCompleteStyleDeclaration(t,r),l=i?this.getCompleteStyleDeclaration(t,r-1):{},u=this._measureChar(e,o,i,l);let d,p=u.kernedWidth,m=u.width;this.charSpacing!==0&&(d=this._getWidthOfCharSpacing(),m+=d,p+=d);const v={width:m,left:0,height:o.fontSize,kernedWidth:p,deltaY:o.deltaY};if(r>0&&!s){const w=this.__charBounds[t][r-1];v.left=w.left+w.width+u.kernedWidth-u.width}return v}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let t=this.getHeightOfChar(e,0);for(let r=1,i=this._textLines[e].length;r<i;r++)t=Math.max(this.getHeightOfChar(e,r),t);return this.__lineHeights[e]=t*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,t=0;for(let r=0,i=this._textLines.length;r<i;r++)e=this.getHeightOfLine(r),t+=r===i-1?e/this.lineHeight:e;return t}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,t){e.save();let r=0;const i=this._getLeftOffset(),s=this._getTopOffset();for(let o=0,l=this._textLines.length;o<l;o++){const u=this.getHeightOfLine(o),d=u/this.lineHeight,p=this._getLineLeftOffset(o);this._renderTextLine(t,e,this._textLines[o],i+p,s+r+d,o),r+=u}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(Wn))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,t,r,i,s,o){const l=this.getHeightOfLine(o),u=this.textAlign.includes(Uo),d=this.path,p=!u&&this.charSpacing===0&&this.isEmptyStyles(o)&&!d,m=this.direction==="ltr",v=this.direction==="ltr"?1:-1,w=t.direction;let S,C,_,E,P,M="",F=0;if(t.save(),w!==this.direction&&(t.canvas.setAttribute("dir",m?"ltr":"rtl"),t.direction=m?"ltr":"rtl",t.textAlign=m?Nt:Cn),s-=l*this._fontSizeFraction/this.lineHeight,p)return this._renderChar(e,t,o,0,r.join(""),i,s),void t.restore();for(let L=0,j=r.length-1;L<=j;L++)E=L===j||this.charSpacing||d,M+=r[L],_=this.__charBounds[o][L],F===0?(i+=v*(_.kernedWidth-_.width),F+=_.width):F+=_.kernedWidth,u&&!E&&this._reSpaceAndTab.test(r[L])&&(E=!0),E||(S=S||this.getCompleteStyleDeclaration(o,L),C=this.getCompleteStyleDeclaration(o,L+1),E=yb(S,C,!1)),E&&(d?(t.save(),t.translate(_.renderLeft,_.renderTop),t.rotate(_.angle),this._renderChar(e,t,o,L,M,-F/2,0),t.restore()):(P=i,this._renderChar(e,t,o,L,M,P,s)),M="",S=C,i+=v*F,F=0);t.restore()}_applyPatternGradientTransformText(e){const t=this.width+this.strokeWidth,r=this.height+this.strokeWidth,i=qo({width:t,height:r}),s=i.getContext("2d");return i.width=t,i.height=r,s.beginPath(),s.moveTo(0,0),s.lineTo(t,0),s.lineTo(t,r),s.lineTo(0,r),s.closePath(),s.translate(t/2,r/2),s.fillStyle=e.toLive(s),this._applyPatternGradientTransform(s,e),s.fill(),s.createPattern(i,"no-repeat")}handleFiller(e,t,r){let i,s;return ks(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(i=-this.width/2,s=-this.height/2,e.translate(i,s),e[t]=this._applyPatternGradientTransformText(r),{offsetX:i,offsetY:s}):(e[t]=r.toLive(e),this._applyPatternGradientTransform(e,r)):(e[t]=r,{offsetX:0,offsetY:0})}_setStrokeStyles(e,t){let{stroke:r,strokeWidth:i}=t;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",r)}_setFillStyles(e,t){let{fill:r}=t;return this.handleFiller(e,"fillStyle",r)}_renderChar(e,t,r,i,s,o,l){const u=this._getStyleDeclaration(r,i),d=this.getCompleteStyleDeclaration(r,i),p=e==="fillText"&&d.fill,m=e==="strokeText"&&d.stroke&&d.strokeWidth;if(m||p){if(t.save(),t.font=this._getFontDeclaration(d),u.textBackgroundColor&&this._removeShadow(t),u.deltaY&&(l+=u.deltaY),p){const v=this._setFillStyles(t,d);t.fillText(s,o-v.offsetX,l-v.offsetY)}if(m){const v=this._setStrokeStyles(t,d);t.strokeText(s,o-v.offsetX,l-v.offsetY)}t.restore()}}setSuperscript(e,t){this._setScript(e,t,this.superscript)}setSubscript(e,t){this._setScript(e,t,this.subscript)}_setScript(e,t,r){const i=this.get2DCursorLocation(e,!0),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),l={fontSize:s*r.size,deltaY:o+s*r.baseline};this.setSelectionStyles(l,e,t)}_getLineLeftOffset(e){const t=this.getLineWidth(e),r=this.width-t,i=this.textAlign,s=this.direction,o=this.isEndOfWrapping(e);let l=0;return i===Uo||i===cg&&!o||i===lg&&!o||i===rv&&!o?0:(i===ft&&(l=r/2),i===Cn&&(l=r),i===cg&&(l=r/2),i===lg&&(l=r),s==="rtl"&&(i===Cn||i===Uo||i===lg?l=0:i===Nt||i===rv?l=-r:i!==ft&&i!==cg||(l=-r/2)),l)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:t}=this.measureLine(e);return this.__lineWidths[e]=t,t}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,t,r){var i;return(i=this._getStyleDeclaration(e,t)[r])!==null&&i!==void 0?i:this[r]}_renderTextDecoration(e,t){if(!this[t]&&!this.styleHas(t))return;let r=this._getTopOffset();const i=this._getLeftOffset(),s=this.path,o=this._getWidthOfCharSpacing(),l=this.offsets[t];for(let u=0,d=this._textLines.length;u<d;u++){const p=this.getHeightOfLine(u);if(!this[t]&&!this.styleHas(t,u)){r+=p;continue}const m=this._textLines[u],v=p/this.lineHeight,w=this._getLineLeftOffset(u);let S,C,_=0,E=0,P=this.getValueOfPropertyAt(u,0,t),M=this.getValueOfPropertyAt(u,0,Wn);const F=r+v*(1-this._fontSizeFraction);let L=this.getHeightOfChar(u,0),j=this.getValueOfPropertyAt(u,0,"deltaY");for(let W=0,q=m.length;W<q;W++){const R=this.__charBounds[u][W];S=this.getValueOfPropertyAt(u,W,t),C=this.getValueOfPropertyAt(u,W,Wn);const se=this.getHeightOfChar(u,W),he=this.getValueOfPropertyAt(u,W,"deltaY");if(s&&S&&C)e.save(),e.fillStyle=M,e.translate(R.renderLeft,R.renderTop),e.rotate(R.angle),e.fillRect(-R.kernedWidth/2,l*se+he,R.kernedWidth,this.fontSize/15),e.restore();else if((S!==P||C!==M||se!==L||he!==j)&&E>0){let fe=i+w+_;this.direction==="rtl"&&(fe=this.width-fe-E),P&&M&&(e.fillStyle=M,e.fillRect(fe,F+l*L+j,E,this.fontSize/15)),_=R.left,E=R.width,P=S,M=C,L=se,j=he}else E+=R.kernedWidth}let $=i+w+_;this.direction==="rtl"&&($=this.width-$-E),e.fillStyle=C,S&&C&&e.fillRect($,F+l*L+j,E-o,this.fontSize/15),r+=p}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:t=this.fontStyle,fontWeight:r=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||ni.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[t,r,"".concat(s?this.CACHE_FONT_SIZE:i,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return mb(e)}_splitTextIntoLines(e){const t=e.split(this._reNewline),r=new Array(t.length),i=[`
`];let s=[];for(let o=0;o<t.length;o++)r[o]=this.graphemeSplit(t[o]),s=s.concat(r[o],i);return s.pop(),{_unwrappedLines:r,lines:t,graphemeText:s,graphemeLines:r}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y(Y({},super.toObject([...vO,...e])),{},{styles:LN(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,t){const{textLayoutProperties:r}=this.constructor;super.set(e,t);let i=!1,s=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),i=i||r.includes(o),s=s||o==="path";else i=r.includes(e),s=e==="path";return s&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,t,r){const i=nl(e,ni.ATTRIBUTE_NAMES,r),s=Y(Y({},t),i),{textAnchor:o=Nt,textDecoration:l="",dx:u=0,dy:d=0,top:p=0,left:m=0,fontSize:v=rb,strokeWidth:w=1}=s,S=sn(s,KL),C=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),Y({left:m+u,top:p+d,underline:l.includes("underline"),overline:l.includes("overline"),linethrough:l.includes("line-through"),strokeWidth:0,fontSize:v},S)),_=C.getScaledHeight()/C.height,E=((C.height+C.strokeWidth)*C.lineHeight-C.height)*_,P=C.getScaledHeight()+E;let M=0;return o===ft&&(M=C.getScaledWidth()/2),o===Cn&&(M=C.getScaledWidth()),C.set({left:C.left-M,top:C.top-(P-C.fontSize*(.07+C._fontSizeFraction))/C.lineHeight,strokeWidth:w}),C}static fromObject(e){return this._fromObject(Y(Y({},e),{},{styles:FN(e.styles||{},e.text)}),{extraParam:"text"})}}G(ni,"textLayoutProperties",yO),G(ni,"cacheProperties",[...tl,...vO]),G(ni,"ownDefaults",GL),G(ni,"type","Text"),G(ni,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),G(ni,"ATTRIBUTE_NAMES",ac.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),JE(ni,[class extends WE{_toSVG(){const n=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(n.textTop,n.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(n){return this._createBaseSVGMarkup(this._toSVG(),{reviver:n,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(n){let{textBgRects:e,textSpans:t}=n;const r=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(YL,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",r?'text-decoration="'.concat(r,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.join(""),`</text>
`]}_getSVGTextAndBg(n,e){const t=[],r=[];let i,s=n;this.backgroundColor&&r.push(...Xx(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,l=this._textLines.length;o<l;o++)i=this._getLineLeftOffset(o),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(r,o,e+i,s),this._setSVGTextLineText(t,o,e+i,s),s+=this.getHeightOfLine(o);return{textSpans:t,textBgRects:r}}_createTextCharSpan(n,e,t,r){const i=this.getSvgSpanStyles(e,n!==n.trim()||!!n.match(XL)),s=i?'style="'.concat(i,'"'):"",o=e.deltaY,l=o?' dy="'.concat(hn(o,kt.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(hn(t,kt.NUM_FRACTION_DIGITS),'" y="').concat(hn(r,kt.NUM_FRACTION_DIGITS),'" ').concat(l).concat(s,">").concat(IN(n),"</tspan>")}_setSVGTextLineText(n,e,t,r){const i=this.getHeightOfLine(e),s=this.textAlign.includes(Uo),o=this._textLines[e];let l,u,d,p,m,v="",w=0;r+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let S=0,C=o.length-1;S<=C;S++)m=S===C||this.charSpacing,v+=o[S],d=this.__charBounds[e][S],w===0?(t+=d.kernedWidth-d.width,w+=d.width):w+=d.kernedWidth,s&&!m&&this._reSpaceAndTab.test(o[S])&&(m=!0),m||(l=l||this.getCompleteStyleDeclaration(e,S),u=this.getCompleteStyleDeclaration(e,S+1),m=yb(l,u,!0)),m&&(p=this._getStyleDeclaration(e,S),n.push(this._createTextCharSpan(v,p,t,r)),v="",l=u,this.direction==="rtl"?t-=w:t+=w,w=0)}_setSVGTextLineBg(n,e,t,r){const i=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight;let o,l=0,u=0,d=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let p=0;p<i.length;p++){const{left:m,width:v,kernedWidth:w}=this.__charBounds[e][p];o=this.getValueOfPropertyAt(e,p,"textBackgroundColor"),o!==d?(d&&n.push(...Xx(d,t+u,r,l,s)),u=m,l=v,d=o):l+=w}o&&n.push(...Xx(d,t+u,r,l,s))}_getSVGLineTopOffset(n){let e,t=0;for(e=0;e<n;e++)t+=this.getHeightOfLine(e);const r=this.getHeightOfLine(e);return{lineTop:t,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(n){return"".concat(super.getSvgStyles(n)," white-space: pre;")}getSvgSpanStyles(n,e){const{fontFamily:t,strokeWidth:r,stroke:i,fill:s,fontSize:o,fontStyle:l,fontWeight:u,deltaY:d}=n,p=this.getSvgTextDecoration(n);return[i?wg(Mi,i):"",r?"stroke-width: ".concat(r,"; "):"",t?"font-family: ".concat(t.includes("'")||t.includes('"')?t:"'".concat(t,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",l?"font-style: ".concat(l,"; "):"",u?"font-weight: ".concat(u,"; "):"",p&&"text-decoration: ".concat(p,"; "),s?wg(Wn,s):"",d?"baseline-shift: ".concat(-d,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(n){return["overline","underline","line-through"].filter(e=>n[e.replace("-","")]).join(" ")}}]),Le.setClass(ni),Le.setSVGClass(ni);class qL{constructor(e){G(this,"target",void 0),G(this,"__mouseDownInPlace",!1),G(this,"__dragStartFired",!1),G(this,"__isDraggingOver",!1),G(this,"__dragStartSelection",void 0),G(this,"__dragImageDisposer",void 0),G(this,"_dispose",void 0),this.target=e;const t=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{t.forEach(r=>r()),this._dispose=void 0}}isPointerOverSelection(e){const t=this.target,r=t.getSelectionStartFromPointer(e);return t.isEditing&&r>=t.selectionStart&&r<=t.selectionEnd&&t.selectionStart<t.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,t){var r;let{selectionStart:i,selectionEnd:s}=t;const o=this.target,l=o.canvas,u=new ie(o.flipX?-1:1,o.flipY?-1:1),d=o._getCursorBoundaries(i),p=new ie(d.left+d.leftOffset,d.top+d.topOffset).multiply(u).transform(o.calcTransformMatrix()),m=l.getScenePoint(e).subtract(p),v=o.getCanvasRetinaScaling(),w=o.getBoundingRect(),S=p.subtract(new ie(w.left,w.top)),C=l.viewportTransform,_=S.add(m).transform(C,!0),E=o.backgroundColor,P=gb(o.styles);o.backgroundColor="";const M={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(M,0,i),o.setSelectionStyles(M,s,o.text.length),o.dirty=!0;const F=o.toCanvasElement({enableRetinaScaling:l.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=E,o.styles=P,o.dirty=!0,JS(F,{position:"fixed",left:"".concat(-F.width,"px"),border:Oi,width:"".concat(F.width/v,"px"),height:"".concat(F.height/v,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{F.remove()},eo(e.target||this.target.hiddenTextarea).body.appendChild(F),(r=e.dataTransfer)===null||r===void 0||r.setDragImage(F,_.x,_.y)}onDragStart(e){this.__dragStartFired=!0;const t=this.target,r=this.isActive();if(r&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},s=t._text.slice(i.selectionStart,i.selectionEnd).join(""),o=Y({text:t.text,value:s},i);e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:t.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return t.abortCursorAnimation(),r}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const t=this.target.getSelectionStartFromPointer(e),r=this.__dragStartSelection;return t<r.selectionStart||t>r.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:t}=e;const r=this.targetCanDrop(t);!this.__isDraggingOver&&r&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:t}=e,r=this.targetCanDrop(t);!this.__isDraggingOver&&r?this.__isDraggingOver=!0:this.__isDraggingOver&&!r&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var t;const{e:r}=e,i=r.defaultPrevented;this.__isDraggingOver=!1,r.preventDefault();let s=(t=r.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain");if(s&&!i){const o=this.target,l=o.canvas;let u=o.getSelectionStartFromPointer(r);const{styles:d}=r.dataTransfer.types.includes("application/fabric")?JSON.parse(r.dataTransfer.getData("application/fabric")):{},p=s[Math.max(0,s.length-1)],m=0;if(this.__dragStartSelection){const v=this.__dragStartSelection.selectionStart,w=this.__dragStartSelection.selectionEnd;u>v&&u<=w?u=v:u>w&&(u-=w-v),o.removeChars(v,w),delete this.__dragStartSelection}o._reNewline.test(p)&&(o._reNewline.test(o._text[u])||u===o._text.length)&&(s=s.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(s,d,u),l.setActiveObject(o),o.enterEditing(r),o.selectionStart=Math.min(u+m,o._text.length),o.selectionEnd=Math.min(o.selectionStart+s.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(Xy,{index:u+m,action:"drop"}),l.fire("text:changed",{target:o}),l.contextTopDirty=!0,l.requestRenderAll()}}dragEndHandler(e){let{e:t}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var r;const i=this.target,s=this.target.canvas,{selectionStart:o,selectionEnd:l}=this.__dragStartSelection,u=((r=t.dataTransfer)===null||r===void 0?void 0:r.dropEffect)||Oi;u===Oi?(i.selectionStart=o,i.selectionEnd=l,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),u==="move"&&(i.removeChars(o,l),i.selectionStart=i.selectionEnd=o,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(Xy,{index:o,action:"dragend"}),s.fire("text:changed",{target:i}),s.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const M_=/[ \n\.,;!\?\-]/;class JL extends ni{constructor(){super(...arguments),G(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:t,duration:r,delay:i,onComplete:s}=e;return GE({startValue:this._currentCursorOpacity,endValue:t,duration:r,delay:i,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(t=>{t&&!t.isDone()&&(e=!0,t.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let t=0,r=e-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)t++,r--;for(;/\S/.test(this._text[r])&&r>-1;)t++,r--;return e-t}findWordBoundaryRight(e){let t=0,r=e;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)t++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)t++,r++;return e+t}findLineBoundaryLeft(e){let t=0,r=e-1;for(;!/\n/.test(this._text[r])&&r>-1;)t++,r--;return e-t}findLineBoundaryRight(e){let t=0,r=e;for(;!/\n/.test(this._text[r])&&r<this._text.length;)t++,r++;return e+t}searchWordBoundary(e,t){const r=this._text;let i=e>0&&this._reSpace.test(r[e])&&(t===-1||!ib.test(r[e-1]))?e-1:e,s=r[i];for(;i>0&&i<r.length&&!M_.test(s);)i+=t,s=r[i];return t===-1&&M_.test(s)&&i++,i}selectWord(e){e=e||this.selectionStart;const t=this.searchWordBoundary(e,-1),r=Math.max(t,this.searchWordBoundary(e,1));this.selectionStart=t,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){e=e||this.selectionStart;const t=this.findLineBoundaryLeft(e),r=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const t=this.hiddenTextarea;eo(t).activeElement!==t&&t.focus();const r=this.getSelectionStartFromPointer(e),i=this.selectionStart,s=this.selectionEnd;(r===this.__selectionStartOnMouseDown&&i!==s||i!==r&&s!==r)&&(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,t,r){const i=r.slice(0,e),s=this.graphemeSplit(i).length;if(e===t)return{selectionStart:s,selectionEnd:s};const o=r.slice(e,t);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,t,r){const i=r.slice(0,e).join("").length;return e===t?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+r.slice(e,t).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const t=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),r=this.get2DCursorLocation(e),i=r.lineIndex,s=r.charIndex,o=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,l=t.leftOffset,u=this.getCanvasRetinaScaling(),d=this.canvas.upperCanvasEl,p=d.width/u,m=d.height/u,v=p-o,w=m-o,S=new ie(t.left+l,t.top+t.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ie(d.clientWidth/p,d.clientHeight/m));return S.x<0&&(S.x=0),S.x>v&&(S.x=v),S.y<0&&(S.y=0),S.y>w&&(S.y=w),S.x+=this.canvas._offset.left,S.y+=this.canvas._offset.top,{left:"".concat(S.x,"px"),top:"".concat(S.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(Yy),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,t){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:s,charIndex:o}=this.get2DCursorLocation(t,!0);if(r!==s){if(this.styles[r])for(let l=i;l<this._unwrappedTextLines[r].length;l++)delete this.styles[r][l];if(this.styles[s])for(let l=o;l<this._unwrappedTextLines[s].length;l++){const u=this.styles[s][l];u&&(this.styles[r]||(this.styles[r]={}),this.styles[r][i+l-o]=u)}for(let l=r+1;l<=s;l++)delete this.styles[l];this.shiftLineStyles(s,r-s)}else if(this.styles[r]){const l=this.styles[r],u=o-i;for(let d=i;d<o;d++)delete l[d];for(const d in this.styles[r]){const p=parseInt(d,10);p>=o&&(l[p-u]=l[d],delete l[d])}}}shiftLineStyles(e,t){const r=Object.assign({},this.styles);for(const i in this.styles){const s=parseInt(i,10);s>e&&(this.styles[s+t]=r[s],r[s-t]||delete this.styles[s])}}insertNewlineStyleObject(e,t,r,i){const s={},o=this._unwrappedTextLines[e].length,l=o===t;let u=!1;r||(r=1),this.shiftLineStyles(e,r);const d=this.styles[e]?this.styles[e][t===0?t:t-1]:void 0;for(const m in this.styles[e]){const v=parseInt(m,10);v>=t&&(u=!0,s[v-t]=this.styles[e][m],l&&t===0||delete this.styles[e][m])}let p=!1;for(u&&!l&&(this.styles[e+r]=s,p=!0),(p||o>t)&&r--;r>0;)i&&i[r-1]?this.styles[e+r]={0:Y({},i[r-1])}:d?this.styles[e+r]={0:Y({},d)}:delete this.styles[e+r],r--;this._forceClearCache=!0}insertCharStyleObject(e,t,r,i){this.styles||(this.styles={});const s=this.styles[e],o=s?Y({},s):{};r||(r=1);for(const u in o){const d=parseInt(u,10);d>=t&&(s[d+r]=o[d],o[d-r]||delete s[d])}if(this._forceClearCache=!0,i){for(;r--;)Object.keys(i[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+r]=Y({},i[r]));return}if(!s)return;const l=s[t?t-1:1];for(;l&&r--;)this.styles[e][t+r]=Y({},l)}insertNewStyleBlock(e,t,r){const i=this.get2DCursorLocation(t,!0),s=[0];let o,l=0;for(let u=0;u<e.length;u++)e[u]===`
`?(l++,s[l]=0):s[l]++;for(s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],r),r=r&&r.slice(s[0]+1)),l&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],l),o=1;o<l;o++)s[o]>0?this.insertCharStyleObject(i.lineIndex+o,0,s[o],r):r&&this.styles[i.lineIndex+o]&&r[0]&&(this.styles[i.lineIndex+o][0]=r[0]),r=r&&r.slice(s[o]+1);s[o]>0&&this.insertCharStyleObject(i.lineIndex+o,0,s[o],r)}removeChars(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;i>r&&this.removeStyleFromTo(r,i);const s=this.graphemeSplit(e);this.insertNewStyleBlock(s,r,t),this._text=[...this._text.slice(0,r),...s,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,t,r){r<=e?(t===e?this._selectionDirection=Nt:this._selectionDirection===Cn&&(this._selectionDirection=Nt,this.selectionEnd=e),this.selectionStart=r):r>e&&r<t?this._selectionDirection===Cn?this.selectionEnd=r:this.selectionStart=r:(t===e?this._selectionDirection=Cn:this._selectionDirection===Nt&&(this._selectionDirection=Cn,this.selectionStart=t),this.selectionEnd=r)}}class QL extends JL{initHiddenTextarea(){const e=this.canvas&&eo(this.canvas.getElement())||ef(),t=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[l,u]=o;return t.setAttribute(l,u)});const{top:r,left:i,fontSize:s}=this._calcTextareaPosition();t.style.cssText="position: absolute; top: ".concat(r,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||e.body).appendChild(t),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[l,u]=o;return t.addEventListener(l,this[u].bind(this))}),this.hiddenTextarea=t}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const t=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const r=()=>{this.updateFromTextArea(),this.fire(Xy),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void r();const i=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,s=this._text.length,o=i.length,l=this.selectionStart,u=this.selectionEnd,d=l!==u;let p,m,v,w,S=o-s;const C=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),_=l>C.selectionStart;d?(m=this._text.slice(l,u),S+=u-l):o<s&&(m=_?this._text.slice(u+S,u):this._text.slice(l,l-S));const E=i.slice(C.selectionEnd-S,C.selectionEnd);if(m&&m.length&&(E.length&&(p=this.getSelectionStyles(l,l+1,!1),p=E.map(()=>p[0])),d?(v=l,w=u):_?(v=u-m.length,w=u):(v=u,w=u+m.length),this.removeStyleFromTo(v,w)),E.length){const{copyPasteData:P}=Ko();t&&E.join("")===P.copiedText&&!kt.disableStyleCopyPaste&&(p=P.copiedTextStyle),this.insertNewStyleBlock(E,l,p)}r()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:t}=e;const{selectionStart:r,selectionEnd:i}=t;this.compositionStart=r,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=Ko();e.copiedText=this.getSelectedText(),kt.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,t){let r,i=this._getLineLeftOffset(e);return t>0&&(r=this.__charBounds[e][t-1],i+=r.left+r.width),i}getDownCursorOffset(e,t){const r=this._getSelectionForOffset(e,t),i=this.get2DCursorLocation(r),s=i.lineIndex;if(s===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-r;const o=i.charIndex,l=this._getWidthBeforeCursor(s,o),u=this._getIndexOnLine(s+1,l);return this._textLines[s].slice(o).length+u+1+this.missingNewlineOffset(s)}_getSelectionForOffset(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,t){const r=this._getSelectionForOffset(e,t),i=this.get2DCursorLocation(r),s=i.lineIndex;if(s===0||e.metaKey||e.keyCode===33)return-r;const o=i.charIndex,l=this._getWidthBeforeCursor(s,o),u=this._getIndexOnLine(s-1,l),d=this._textLines[s].slice(0,o),p=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+u-d.length+(1-p)}_getIndexOnLine(e,t){const r=this._textLines[e];let i,s,o=this._getLineLeftOffset(e),l=0;for(let u=0,d=r.length;u<d;u++)if(i=this.__charBounds[e][u].width,o+=i,o>t){s=!0;const p=o-i,m=o,v=Math.abs(p-t);l=Math.abs(m-t)<v?u:u-1;break}return s||(l=r.length-1),l}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,t){const r=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===Cn);if(t.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),r!==0){const i=this.text.length;this.selectionStart=Hd(0,this.selectionStart,i),this.selectionEnd=Hd(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const t=this._selectionDirection===Nt?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,t,r){let i;if(e.altKey)i=this["findWordBoundary".concat(r)](this[t]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[t]+=r==="Left"?-1:1,!0;i=this["findLineBoundary".concat(r)](this[t])}return i!==void 0&&this[t]!==i&&(this[t]=i,!0)}_moveLeft(e,t){return this._move(e,t,"Left")}_moveRight(e,t){return this._move(e,t,"Right")}moveCursorLeftWithoutShift(e){let t=!0;return this._selectionDirection=Nt,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}moveCursorLeftWithShift(e){return this._selectionDirection===Cn&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Nt,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,t){const r="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[r](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Nt&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Cn,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let t=!0;return this._selectionDirection=Cn,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}const Kx=n=>!!n.button;class ZL extends QL{constructor(){super(...arguments),G(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new qL(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}onMouseDown(e){if(!this.canvas)return;this.__newClickTime=+new Date;const t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),VS(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y}doubleClickHandler(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))}tripleClickHandler(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))}_mouseDownHandler(e){let{e:t}=e;this.canvas&&this.editable&&!Kx(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(e){let{e:t}=e;this.canvas&&this.editable&&!Kx(t)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(e){let{e:t,transform:r}=e;const i=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||r&&r.actionPerformed||Kx(t)||i||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(e){const t=this.getSelectionStartFromPointer(e),r=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(r,i,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const t=this.canvas.getScenePoint(e).transform(ro(this.calcTransformMatrix())).add(new ie(-this._getLeftOffset(),-this._getTopOffset()));let r=0,i=0,s=0;for(let d=0;d<this._textLines.length&&r<=t.y;d++)r+=this.getHeightOfLine(d),s=d,d>0&&(i+=this._textLines[d-1].length+this.missingNewlineOffset(d-1));let o=Math.abs(this._getLineLeftOffset(s));const l=this._textLines[s].length,u=this.__charBounds[s];for(let d=0;d<l;d++){const p=o+u[d].kernedWidth;if(t.x<=p){Math.abs(t.x-p)<=Math.abs(t.x-o)&&i++;break}o=p,i++}return Math.min(this.flipX?l-i:i,this._text.length)}}const V0="moveCursorUp",U0="moveCursorDown",G0="moveCursorLeft",X0="moveCursorRight",Y0="exitEditing",eF=Y({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Y0,27:Y0,33:V0,34:U0,35:X0,36:G0,37:G0,38:V0,39:X0,40:U0},keysMapRtl:{9:Y0,27:Y0,33:V0,34:U0,35:G0,36:X0,37:X0,38:V0,39:G0,40:U0},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Ha extends ZL{static getDefaults(){return Y(Y({},super.getDefaults()),Ha.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,t){super(e,Y(Y({},Ha.ownDefaults),t)),this.initBehavior()}_set(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):(e==="canvas"&&(this.canvas instanceof QS&&this.canvas.textEditingManager.remove(this),t instanceof QS&&t.textEditingManager.add(this)),super._set(e,t))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,r=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,t,r)}setSelectionStyles(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,t,r)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,t)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const t=this.isEditing;this.isEditing=!1;const r=super.toCanvasElement(e);return this.isEditing=t,r}renderCursorOrSelection(){if(!this.isEditing)return;const e=this.clearContextTop(!0);if(!e)return;const t=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(e,t):this.renderCursor(e,t),this.canvas.contextTopDirty=!0,e.restore()}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;const r=this._getLeftOffset(),i=this._getTopOffset(),s=this._getCursorBoundariesOffsets(e,t);return{left:r,top:i,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let t=0,r=0;const{charIndex:i,lineIndex:s}=this.get2DCursorLocation(e);for(let d=0;d<s;d++)t+=this.getHeightOfLine(d);const o=this._getLineLeftOffset(s),l=this.__charBounds[s][i];l&&(r=l.left),this.charSpacing!==0&&i===this._textLines[s].length&&(r-=this._getWidthOfCharSpacing());const u={top:t,left:o+(r>0?r:0)};return this.direction==="rtl"&&(this.textAlign===Cn||this.textAlign===Uo||this.textAlign===lg?u.left*=-1:this.textAlign===Nt||this.textAlign===rv?u.left=o-(r>0?r:0):this.textAlign!==ft&&this.textAlign!==cg||(u.left=o-(r>0?r:0))),u}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,t){this._renderCursor(e,t,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const r=this.get2DCursorLocation(e),i=r.lineIndex,s=r.charIndex>0?r.charIndex-1:0,o=this.getValueOfPropertyAt(i,s,"fontSize"),l=this.getObjectScaling().x*this.canvas.getZoom(),u=this.cursorWidth/l,d=this.getValueOfPropertyAt(i,s,"deltaY"),p=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),opacity:this._currentCursorOpacity,left:t.left+t.leftOffset-u/2,top:p+t.top+d,width:u,height:o}}_renderCursor(e,t,r){const{color:i,opacity:s,left:o,top:l,width:u,height:d}=this.getCursorRenderingData(r,t);e.fillStyle=i,e.globalAlpha=s,e.fillRect(o,l,u,d)}renderSelection(e,t){const r={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,r,t)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}_renderSelection(e,t,r){const i=t.selectionStart,s=t.selectionEnd,o=this.textAlign.includes(Uo),l=this.get2DCursorLocation(i),u=this.get2DCursorLocation(s),d=l.lineIndex,p=u.lineIndex,m=l.charIndex<0?0:l.charIndex,v=u.charIndex<0?0:u.charIndex;for(let w=d;w<=p;w++){const S=this._getLineLeftOffset(w)||0;let C=this.getHeightOfLine(w),_=0,E=0,P=0;if(w===d&&(E=this.__charBounds[d][m].left),w>=d&&w<p)P=o&&!this.isEndOfWrapping(w)?this.width:this.getLineWidth(w)||5;else if(w===p)if(v===0)P=this.__charBounds[p][v].left;else{const $=this._getWidthOfCharSpacing();P=this.__charBounds[p][v-1].left+this.__charBounds[p][v-1].width-$}_=C,(this.lineHeight<1||w===p&&this.lineHeight>1)&&(C/=this.lineHeight);let M=r.left+S+E,F=C,L=0;const j=P-E;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",F=1,L=C):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Cn||this.textAlign===Uo||this.textAlign===lg?M=this.width-M-j:this.textAlign===Nt||this.textAlign===rv?M=r.left+S-P:this.textAlign!==ft&&this.textAlign!==cg||(M=r.left+S-P)),e.fillRect(M,r.top+r.topOffset+L,j,F),r.topOffset+=_}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,Wn)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}G(Ha,"ownDefaults",eF),G(Ha,"type","IText"),Le.setClass(Ha),Le.setClass(Ha,"i-text");class mu extends Ha{static getDefaults(){return Y(Y({},super.getDefaults()),mu.ownDefaults)}constructor(e,t){super(e,Y(Y({},mu.ownDefaults),t))}static createControls(){return{controls:AN()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Uo)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let t=0,r=0,i=0;const s={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[i]===`
`&&o>0?(r=0,i++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&o>0&&(r++,i++),s[o]={line:t,offset:r},i+=e.graphemeLines[o].length,r+=e.graphemeLines[o].length;return s}styleHas(e,t){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[t];r&&(t=r.line)}return super.styleHas(e,t)}isEmptyStyles(e){if(!this.styles)return!0;let t,r=0,i=e+1,s=!1;const o=this._styleMap[e],l=this._styleMap[e+1];o&&(e=o.line,r=o.offset),l&&(i=l.line,s=i===e,t=l.offset);const u=e===void 0?this.styles:{line:this.styles[e]};for(const d in u)for(const p in u[d]){const m=parseInt(p,10);if(m>=r&&(!s||m<t))for(const v in u[d][p])return!1}return!0}_getStyleDeclaration(e,t){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[e];if(!r)return{};e=r.line,t=r.offset+t}return super._getStyleDeclaration(e,t)}_setStyleDeclaration(e,t,r){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+t,r)}_deleteStyleDeclaration(e,t){const r=this._styleMap[e];super._deleteStyleDeclaration(r.line,r.offset+t)}_getLineStyle(e){const t=this._styleMap[e];return!!this.styles[t.line]}_setLineStyle(e){const t=this._styleMap[e];super._setLineStyle(t.line)}_wrapText(e,t){this.isWrapping=!0;const r=this.getGraphemeDataForRender(e),i=[];for(let s=0;s<r.wordsData.length;s++)i.push(...this._wrapLine(s,t,r));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const t=this.splitByGrapheme,r=t?"":" ";let i=0;return{wordsData:e.map((s,o)=>{let l=0;const u=t?this.graphemeSplit(s):this.wordSplit(s);return u.length===0?[{word:[],width:0}]:u.map(d=>{const p=t?[d]:this.graphemeSplit(d),m=this._measureWord(p,o,l);return i=Math.max(m,i),l+=p.length+r.length,{word:p,width:m}})}),largestWordWidth:i}}_measureWord(e,t){let r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let o=0,l=e.length;o<l;o++)s+=this._getGraphemeBox(e[o],t,o+i,r,!0).kernedWidth,r=e[o];return s}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,t,r){let{largestWordWidth:i,wordsData:s}=r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const l=this._getWidthOfCharSpacing(),u=this.splitByGrapheme,d=[],p=u?"":" ";let m=0,v=[],w=0,S=0,C=!0;t-=o;const _=Math.max(t,i,this.dynamicMinWidth),E=s[e];let P;for(w=0,P=0;P<E.length;P++){const{word:M,width:F}=E[P];w+=M.length,m+=S+F-l,m>_&&!C?(d.push(v),v=[],m=F,C=!0):m+=l,C||u||v.push(p),v=v.concat(M),S=u?0:this._measureWord([p],e,w),w++,C=!1}return P&&d.push(v),i+o>this.dynamicMinWidth&&(this.dynamicMinWidth=i-l+o),d}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const t=super._splitTextIntoLines(e),r=this._wrapText(t.lines,this.width),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r[s].join("");return t.lines=i,t.graphemeLines=r,t}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const t in this._styleMap){const r=parseInt(t,10);if(this._textLines[r]){const i=this._styleMap[t].line;e.set("".concat(i),!0)}}for(const t in this.styles)e.has(t)||delete this.styles[t]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}G(mu,"type","Textbox"),G(mu,"textLayoutProperties",[...Ha.textLayoutProperties,"width"]),G(mu,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),Le.setClass(mu);class A_ extends zv{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,t){const{target:r}=e,{clipPath:i,group:s}=r;if(!i||!this.shouldPerformLayout(e))return;const{width:o,height:l}=Ga(eO(r,i)),u=new ie(o,l);if(i.absolutePositioned)return{center:Nd(i.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:u};{const d=i.getRelativeCenterPoint().transform(r.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:p=new ie,correction:m=new ie}=this.calcBoundingBox(t,e)||{};return{center:p.add(d),correction:m.subtract(d),size:u}}return{center:r.getRelativeCenterPoint().add(d),size:u}}}}G(A_,"type","clip-path"),Le.setClass(A_);class P_ extends zv{getInitialSize(e,t){let{target:r}=e,{size:i}=t;return new ie(r.width||i.x,r.height||i.y)}}G(P_,"type","fixed"),Le.setClass(P_);class tF extends Cg{subscribeTargets(e){const t=e.target;e.targets.reduce((r,i)=>(i.parent&&r.add(i.parent),r),new Set).forEach(r=>{r.layoutManager.subscribeTargets({target:r,targets:[t]})})}unsubscribeTargets(e){const t=e.target,r=t.getObjects();e.targets.reduce((i,s)=>(s.parent&&i.add(s.parent),i),new Set).forEach(i=>{!r.some(s=>s.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[t]})})}}class yu extends bu{static getDefaults(){return Y(Y({},super.getDefaults()),yu.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,yu.ownDefaults),this.setOptions(t);const{left:r,top:i,layoutManager:s}=t;this.groupInit(e,{left:r,top:i,layoutManager:s??new tF})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.multiSelectionStacking==="selection-order"?this.add(...t):t.forEach(i=>{const s=this._objects.findIndex(l=>l.isInFrontOf(i)),o=s===-1?this.size():s;this.insertAt(o,i)})}canEnterGroup(e){return this.getObjects().some(t=>t.isDescendantOf(e)||e.isDescendantOf(t))?(nc("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}exitGroup(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,t){super._onAfterObjectsChange(e,t);const r=new Set;t.forEach(i=>{const{parent:s}=i;s&&r.add(s)}),e===xb?r.forEach(i=>{i._onAfterObjectsChange(ev,t)}):r.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,t,r){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=Y(Y({hasControls:!1},r),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(e,i);super._renderControls(e,t),e.restore()}}G(yu,"type","ActiveSelection"),G(yu,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),Le.setClass(yu),Le.setClass(yu,"activeSelection");class nF{constructor(){G(this,"resources",{})}applyFilters(e,t,r,i,s){const o=s.getContext("2d");if(!o)return;o.drawImage(t,0,0,r,i);const l={sourceWidth:r,sourceHeight:i,imageData:o.getImageData(0,0,r,i),originalEl:t,originalImageData:o.getImageData(0,0,r,i),canvasEl:s,ctx:o,filterBackend:this};e.forEach(d=>{d.applyTo(l)});const{imageData:u}=l;return u.width===r&&u.height===i||(s.width=u.width,s.height=u.height),o.putImageData(u,0,0),l}}class SO{constructor(){let{tileSize:e=kt.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};G(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),G(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,t){this.dispose(),this.createWebGLCanvas(e,t)}createWebGLCanvas(e,t){const r=qo({width:e,height:t}),i=r.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=r,this.gl=i)}applyFilters(e,t,r,i,s,o){const l=this.gl,u=s.getContext("2d");if(!l||!u)return;let d;o&&(d=this.getCachedTexture(o,t));const p={originalWidth:t.width||t.naturalWidth||0,originalHeight:t.height||t.naturalHeight||0,sourceWidth:r,sourceHeight:i,destinationWidth:r,destinationHeight:i,context:l,sourceTexture:this.createTexture(l,r,i,d?void 0:t),targetTexture:this.createTexture(l,r,i),originalTexture:d||this.createTexture(l,r,i,d?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},m=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,m),e.forEach(v=>{v&&v.applyTo(p)}),function(v){const w=v.targetCanvas,S=w.width,C=w.height,_=v.destinationWidth,E=v.destinationHeight;S===_&&C===E||(w.width=_,w.height=E)}(p),this.copyGLTo2D(l,p),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(p.sourceTexture),l.deleteTexture(p.targetTexture),l.deleteFramebuffer(m),u.setTransform(1,0,0,1,0,0),p}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,t,r,i,s){const{NEAREST:o,TEXTURE_2D:l,RGBA:u,UNSIGNED_BYTE:d,CLAMP_TO_EDGE:p,TEXTURE_MAG_FILTER:m,TEXTURE_MIN_FILTER:v,TEXTURE_WRAP_S:w,TEXTURE_WRAP_T:S}=e,C=e.createTexture();return e.bindTexture(l,C),e.texParameteri(l,m,s||o),e.texParameteri(l,v,s||o),e.texParameteri(l,w,p),e.texParameteri(l,S,p),i?e.texImage2D(l,0,u,u,d,i):e.texImage2D(l,0,u,t,r,0,u,d,null),C}getCachedTexture(e,t,r){const{textureCache:i}=this;if(i[e])return i[e];{const s=this.createTexture(this.gl,t.width,t.height,t,r);return s&&(i[e]=s),s}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,t){const r=e.canvas,i=t.targetCanvas,s=i.getContext("2d");if(!s)return;s.translate(0,i.height),s.scale(1,-1);const o=r.height-i.height;s.drawImage(r,0,o,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,t){const r=t.targetCanvas.getContext("2d"),i=t.destinationWidth,s=t.destinationHeight,o=i*s*4;if(!r)return;const l=new Uint8Array(this.imageBuffer,0,o),u=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,i,s,e.RGBA,e.UNSIGNED_BYTE,l);const d=new ImageData(u,i,s);r.putImageData(d,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,t={renderer:"",vendor:""};if(!e)return t;const r=e.getExtension("WEBGL_debug_renderer_info");if(r){const i=e.getParameter(r.UNMASKED_RENDERER_WEBGL),s=e.getParameter(r.UNMASKED_VENDOR_WEBGL);i&&(t.renderer=i.toLowerCase()),s&&(t.vendor=s.toLowerCase())}return this.gpuInfo=t,t}}let qx;function rF(){const{WebGLProbe:n}=Ko();return n.queryWebGL(ao()),kt.enableGLFiltering&&n.isSupported(kt.textureSize)?new SO({tileSize:kt.textureSize}):new nF}function Jx(){return!qx&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(qx=rF()),qx}const iF=["filters","resizeFilter","src","crossOrigin","type"],wO=["cropX","cropY"];class bs extends $r{static getDefaults(){return Y(Y({},super.getDefaults()),bs.ownDefaults)}constructor(e,t){super(),G(this,"_lastScaleX",1),G(this,"_lastScaleY",1),G(this,"_filterScalingX",1),G(this,"_filterScalingY",1),this.filters=[],Object.assign(this,bs.ownDefaults),this.setOptions(t),this.cacheKey="texture".concat(rc()),this.setElement(typeof e=="string"?(this.canvas&&eo(this.canvas.getElement())||ef()).getElementById(e):e,t)}getElement(){return this._element}setElement(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(t),e.classList.add(bs.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const t=Jx(!1);t instanceof SO&&t.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const t=this[e];t&&Ko().dispose(t),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const t=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-t,-r),e.lineTo(t,-r),e.lineTo(t,r),e.lineTo(-t,r),e.lineTo(-t,-r),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];return this.filters.forEach(r=>{r&&t.push(r.toObject())}),Y(Y({},super.toObject([...wO,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],t=this._element,r=-this.width/2,i=-this.height/2;let s=[],o=[],l="",u="";if(!t)return[];if(this.hasCrop()){const d=rc();s.push('<clipPath id="imageCrop_'+d+`">
`,'	<rect x="'+r+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),l=' clip-path="url(#imageCrop_'+d+')" '}if(this.imageSmoothing||(u=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(r-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(u).concat(l,`></image>
`)),this.stroke||this.strokeDashArray){const d=this.fill;this.fill=null,o=['	<rect x="'.concat(r,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=d}return s=this.paintFirst!==Wn?s.concat(o,e):s.concat(e,o),s}getSrc(e){const t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:t,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Py(e,{crossOrigin:t,signal:r}).then(i=>{t!==void 0&&this.set({crossOrigin:t}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,t=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),i=r.x,s=r.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>t&&s>t)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=s);const l=qo(o),{width:u,height:d}=o;this._element=l,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=s,Jx().applyFilters([e],o,u,d,this._element),this._filterScalingX=l.width/this._originalElement.width,this._filterScalingY=l.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const t=this._originalElement,r=t.naturalWidth||t.width,i=t.naturalHeight||t.height;if(this._element===this._originalElement){const s=qo({width:r,height:i});this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,i),this._lastScaleX=1,this._lastScaleY=1);Jx().applyFilters(e,this._originalElement,r,i,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const t=this._element;if(!t)return;const r=this._filterScalingX,i=this._filterScalingY,s=this.width,o=this.height,l=Math.max(this.cropX,0),u=Math.max(this.cropY,0),d=t.naturalWidth||t.width,p=t.naturalHeight||t.height,m=l*r,v=u*i,w=Math.min(s*r,d-m),S=Math.min(o*i,p-v),C=-s/2,_=-o/2,E=Math.min(s,d/r-l),P=Math.min(o,p/i-u);t&&e.drawImage(t,m,v,w,S,C,_,E,P)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this.getOriginalSize();this.width=e||r.width,this.height=t||r.height}parsePreserveAspectRatioAttribute(){const e=zI(this.preserveAspectRatio||""),t=this.width,r=this.height,i={width:t,height:r};let s,o=this._element.width,l=this._element.height,u=1,d=1,p=0,m=0,v=0,w=0;return!e||e.alignX===Oi&&e.alignY===Oi?(u=t/o,d=r/l):(e.meetOrSlice==="meet"&&(u=d=cL(this._element,i),s=(t-o*u)/2,e.alignX==="Min"&&(p=-s),e.alignX==="Max"&&(p=s),s=(r-l*d)/2,e.alignY==="Min"&&(m=-s),e.alignY==="Max"&&(m=s)),e.meetOrSlice==="slice"&&(u=d=uL(this._element,i),s=o-t/u,e.alignX==="Mid"&&(v=s/2),e.alignX==="Max"&&(v=s),s=l-r/d,e.alignY==="Mid"&&(w=s/2),e.alignY==="Max"&&(w=s),o=t/u,l=r/d)),{width:o,height:l,scaleX:u,scaleY:d,offsetLeft:p,offsetTop:m,cropX:v,cropY:w}}static fromObject(e,t){let{filters:r,resizeFilter:i,src:s,crossOrigin:o,type:l}=e,u=sn(e,iF);return Promise.all([Py(s,Y(Y({},t),{},{crossOrigin:o})),r&&Sg(r,t),i&&Sg([i],t),Lv(u,t)]).then(d=>{let[p,m=[],[v]=[],w={}]=d;return new this(p,Y(Y({},u),{},{src:s,filters:m,resizeFilter:v},w))})}static fromURL(e){let{crossOrigin:t=null,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return Py(e,{crossOrigin:t,signal:r}).then(s=>new this(s,i))}static async fromElement(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const i=nl(e,this.ATTRIBUTE_NAMES,r);return this.fromURL(i["xlink:href"],t,i).catch(s=>(nc("log","Unable to parse Image",s),null))}}G(bs,"type","Image"),G(bs,"cacheProperties",[...tl,...wO]),G(bs,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),G(bs,"CSS_CANVAS","canvas-img"),G(bs,"ATTRIBUTE_NAMES",[...ac,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),Le.setClass(bs),Le.setSVGClass(bs);Bv(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Wv=n=>n.webgl!==void 0,Sb="precision highp float",sF=`
    `.concat(Sb,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),oF=["type"],aF=["type"],lF=new RegExp(Sb,"g");class Hn{get type(){return this.constructor.type}constructor(){let e=sn(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oF);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return sF}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=Ko();i!=="highp"&&(t=t.replace(lF,Sb.replace("highp",i)));const s=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),l=e.createProgram();if(!s||!o||!l)throw new Go("Vertex, fragment shader or program creation error");if(e.shaderSource(s,r),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new Go("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Go("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(l,s),e.attachShader(l,o),e.linkProgram(l),!e.getProgramParameter(l,e.LINK_STATUS))throw new Go('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(l)));const u=this.getUniformLocations(e,l)||{};return u.uStepW=e.getUniformLocation(l,"uStepW"),u.uStepH=e.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:this.getAttributeLocations(e,l),uniformLocations:u}}getAttributeLocations(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}getUniformLocations(e,t){const r=this.constructor.uniformLocations,i={};for(let s=0;s<r.length;s++)i[r[s]]=e.getUniformLocation(t,r[s]);return i}sendAttributeData(e,t,r){const i=t.aPosition,s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}_setupFrameBuffer(e){const t=e.context;if(e.passes>1){const r=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===r&&e.sourceHeight===i||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,r,i)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}_swapTextures(e){e.passes--,e.pass++;const t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}isNeutralState(e){return!1}applyTo(e){Wv(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}applyToWebGL(e){const t=e.context,r=this.retrieveShader(e);e.pass===0&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(r.program),this.sendAttributeData(t,r.attributeLocations,e.aPosition),t.uniform1f(r.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(r.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,r.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,t,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,t){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:t,sourceHeight:r}=e,i=qo({width:t,height:r});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return Y({type:this.type},e.reduce((t,r)=>(t[r]=this[r],t),{}))}toJSON(){return this.toObject()}static async fromObject(e,t){return new this(sn(e,aF))}}G(Hn,"type","BaseFilter"),G(Hn,"uniformLocations",[]);const cF={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class K0 extends Hn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(cF[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:t}}=e;const r=new Ft(this.color).getSource(),i=this.alpha,s=r[0]*i,o=r[1]*i,l=r[2]*i,u=1-i;for(let d=0;d<t.length;d+=4){const p=t[d],m=t[d+1],v=t[d+2];let w,S,C;switch(this.mode){case"multiply":w=p*s/255,S=m*o/255,C=v*l/255;break;case"screen":w=255-(255-p)*(255-s)/255,S=255-(255-m)*(255-o)/255,C=255-(255-v)*(255-l)/255;break;case"add":w=p+s,S=m+o,C=v+l;break;case"difference":w=Math.abs(p-s),S=Math.abs(m-o),C=Math.abs(v-l);break;case"subtract":w=p-s,S=m-o,C=v-l;break;case"darken":w=Math.min(p,s),S=Math.min(m,o),C=Math.min(v,l);break;case"lighten":w=Math.max(p,s),S=Math.max(m,o),C=Math.max(v,l);break;case"overlay":w=s<128?2*p*s/255:255-2*(255-p)*(255-s)/255,S=o<128?2*m*o/255:255-2*(255-m)*(255-o)/255,C=l<128?2*v*l/255:255-2*(255-v)*(255-l)/255;break;case"exclusion":w=s+p-2*s*p/255,S=o+m-2*o*m/255,C=l+v-2*l*v/255;break;case"tint":w=s+p*u,S=o+m*u,C=l+v*u}t[d]=w,t[d+1]=S,t[d+2]=C}}sendUniformData(e,t){const r=new Ft(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(t.uColor,r)}}G(K0,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),G(K0,"type","BlendColor"),G(K0,"uniformLocations",["uColor"]),Le.setClass(K0);const uF={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},hF=["type","image"];class q0 extends Hn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return uF[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const t=e.context,r=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,r,t.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(t,t.TEXTURE1)}createTexture(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}calculateMatrix(){const e=this.image,{width:t,height:r}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/r,1]}applyTo2d(e){let{imageData:{data:t,width:r,height:i},filterBackend:{resources:s}}=e;const o=this.image;s.blendImage||(s.blendImage=ao());const l=s.blendImage,u=l.getContext("2d");l.width!==r||l.height!==i?(l.width=r,l.height=i):u.clearRect(0,0,r,i),u.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),u.drawImage(o.getElement(),0,0,r,i);const d=u.getImageData(0,0,r,i).data;for(let p=0;p<t.length;p+=4){const m=t[p],v=t[p+1],w=t[p+2],S=t[p+3],C=d[p],_=d[p+1],E=d[p+2],P=d[p+3];switch(this.mode){case"multiply":t[p]=m*C/255,t[p+1]=v*_/255,t[p+2]=w*E/255,t[p+3]=S*P/255;break;case"mask":t[p+3]=P}}}sendUniformData(e,t){const r=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,r)}toObject(){return Y(Y({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,t){let{type:r,image:i}=e,s=sn(e,hF);return bs.fromObject(i,t).then(o=>new this(Y(Y({},s),{},{image:o})))}}G(q0,"type","BlendImage"),G(q0,"defaults",{mode:"multiply",alpha:1}),G(q0,"uniformLocations",["uTransformMatrix","uImage"]),Le.setClass(q0);class J0 extends Hn{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(e){Wv(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){e.imageData=this.simpleBlur(e)}simpleBlur(e){let{ctx:t,imageData:r,filterBackend:{resources:i}}=e;const{width:s,height:o}=r;i.blurLayer1||(i.blurLayer1=ao(),i.blurLayer2=ao());const l=i.blurLayer1,u=i.blurLayer2;l.width===s&&l.height===o||(u.width=l.width=s,u.height=l.height=o);const d=l.getContext("2d"),p=u.getContext("2d"),m=15,v=.06*this.blur*.5;let w,S,C,_;for(d.putImageData(r,0,0),p.clearRect(0,0,s,o),_=-15;_<=m;_++)w=(Math.random()-.5)/4,S=_/m,C=v*S*s+w,p.globalAlpha=1-Math.abs(S),p.drawImage(l,C,w),d.drawImage(u,0,0),p.globalAlpha=1,p.clearRect(0,0,u.width,u.height);for(_=-15;_<=m;_++)w=(Math.random()-.5)/4,S=_/m,C=v*S*o+w,p.globalAlpha=1-Math.abs(S),p.drawImage(l,w,C),d.drawImage(u,0,0),p.globalAlpha=1,p.clearRect(0,0,u.width,u.height);t.drawImage(l,0,0);const E=t.getImageData(0,0,l.width,l.height);return d.globalAlpha=1,d.clearRect(0,0,l.width,l.height),E}sendUniformData(e,t){const r=this.chooseRightDelta();e.uniform2fv(t.uDelta,r)}isNeutralState(){return this.blur===0}chooseRightDelta(){let e=1;const t=[0,0];this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio);const r=e*this.blur*.12;return this.horizontal?t[0]=r:t[1]=r,t}}G(J0,"type","Blur"),G(J0,"defaults",{blur:0}),G(J0,"uniformLocations",["uDelta"]),Le.setClass(J0);class Q0 extends Hn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=Math.round(255*this.brightness);for(let i=0;i<t.length;i+=4)t[i]+=r,t[i+1]+=r,t[i+2]+=r}isNeutralState(){return this.brightness===0}sendUniformData(e,t){e.uniform1f(t.uBrightness,this.brightness)}}G(Q0,"type","Brightness"),G(Q0,"defaults",{brightness:0}),G(Q0,"uniformLocations",["uBrightness"]),Le.setClass(Q0);const bO={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class Md extends Hn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const t=e.imageData.data,r=this.matrix,i=this.colorsOnly;for(let s=0;s<t.length;s+=4){const o=t[s],l=t[s+1],u=t[s+2];if(t[s]=o*r[0]+l*r[1]+u*r[2]+255*r[4],t[s+1]=o*r[5]+l*r[6]+u*r[7]+255*r[9],t[s+2]=o*r[10]+l*r[11]+u*r[12]+255*r[14],!i){const d=t[s+3];t[s]+=d*r[3],t[s+1]+=d*r[8],t[s+2]+=d*r[13],t[s+3]=o*r[15]+l*r[16]+u*r[17]+d*r[18]+255*r[19]}}}sendUniformData(e,t){const r=this.matrix,i=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],s=[r[4],r[9],r[14],r[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,i),e.uniform4fv(t.uConstants,s)}toObject(){return Y(Y({},super.toObject()),{},{matrix:[...this.matrix]})}}function ju(n,e){var t;const r=(G(t=class extends Md{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",n),G(t,"defaults",{colorsOnly:!1,matrix:e}),t);return Le.setClass(r,n),r}G(Md,"type","ColorMatrix"),G(Md,"defaults",bO),G(Md,"uniformLocations",["uColorMatrix","uConstants"]),Le.setClass(Md);ju("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);ju("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);ju("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);ju("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);ju("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);ju("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);ju("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class R_ extends Hn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){Wv(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(t=>{t.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,t){return Promise.all((e.subFilters||[]).map(r=>Le.getClass(r.type).fromObject(r,t))).then(r=>new this({subFilters:r}))}}G(R_,"type","Composed"),Le.setClass(R_);class Z0 extends Hn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:t}}=e;const r=Math.floor(255*this.contrast),i=259*(r+255)/(255*(259-r));for(let s=0;s<t.length;s+=4)t[s]=i*(t[s]-128)+128,t[s+1]=i*(t[s+1]-128)+128,t[s+2]=i*(t[s+2]-128)+128}sendUniformData(e,t){e.uniform1f(t.uContrast,this.contrast)}}G(Z0,"type","Contrast"),G(Z0,"defaults",{contrast:0}),G(Z0,"uniformLocations",["uContrast"]),Le.setClass(Z0);const dF={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class ey extends Hn{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return dF[this.getCacheKey()]}applyTo2d(e){const t=e.imageData,r=t.data,i=this.matrix,s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),l=t.width,u=t.height,d=e.ctx.createImageData(l,u),p=d.data,m=this.opaque?1:0;let v,w,S,C,_,E,P,M,F,L,j,$,W;for(j=0;j<u;j++)for(L=0;L<l;L++){for(_=4*(j*l+L),v=0,w=0,S=0,C=0,W=0;W<s;W++)for($=0;$<s;$++)P=j+W-o,E=L+$-o,P<0||P>=u||E<0||E>=l||(M=4*(P*l+E),F=i[W*s+$],v+=r[M]*F,w+=r[M+1]*F,S+=r[M+2]*F,m||(C+=r[M+3]*F));p[_]=v,p[_+1]=w,p[_+2]=S,p[_+3]=m?r[_+3]:C}e.imageData=d}sendUniformData(e,t){e.uniform1fv(t.uMatrix,this.matrix)}toObject(){return Y(Y({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}G(ey,"type","Convolute"),G(ey,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),G(ey,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),Le.setClass(ey);const CO="Gamma";class ty extends Hn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:t}}=e;const r=this.gamma,i=1/r[0],s=1/r[1],o=1/r[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const l=this.rgbValues;for(let u=0;u<256;u++)l.r[u]=255*Math.pow(u/255,i),l.g[u]=255*Math.pow(u/255,s),l.b[u]=255*Math.pow(u/255,o);for(let u=0;u<t.length;u+=4)t[u]=l.r[t[u]],t[u+1]=l.g[t[u+1]],t[u+2]=l.b[t[u+2]]}sendUniformData(e,t){e.uniform3fv(t.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:CO,gamma:this.gamma.concat()}}}G(ty,"type",CO),G(ty,"defaults",{gamma:[1,1,1]}),G(ty,"uniformLocations",["uGamma"]),Le.setClass(ty);const fF={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class ny extends Hn{applyTo2d(e){let{imageData:{data:t}}=e;for(let r,i=0;i<t.length;i+=4){const s=t[i],o=t[i+1],l=t[i+2];switch(this.mode){case"average":r=(s+o+l)/3;break;case"lightness":r=(Math.min(s,o,l)+Math.max(s,o,l))/2;break;case"luminosity":r=.21*s+.72*o+.07*l}t[i+2]=t[i+1]=t[i]=r}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return fF[this.mode]}sendUniformData(e,t){e.uniform1i(t.uMode,1)}isNeutralState(){return!1}}G(ny,"type","Grayscale"),G(ny,"defaults",{mode:"average"}),G(ny,"uniformLocations",["uMode"]),Le.setClass(ny);const pF=Y(Y({},bO),{},{rotation:0});class Qx extends Md{calculateMatrix(){const e=this.rotation*Math.PI,t=Ka(e),r=qa(e),i=1/3,s=Math.sqrt(i)*r,o=1-t;this.matrix=[t+o/3,i*o-s,i*o+s,0,0,i*o+s,t+i*o,i*o-s,0,0,i*o-s,i*o+s,t+i*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}G(Qx,"type","HueRotation"),G(Qx,"defaults",pF),Le.setClass(Qx);class ry extends Hn{applyTo2d(e){let{imageData:{data:t}}=e;for(let r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2],this.alpha&&(t[r+3]=255-t[r+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}G(ry,"type","Invert"),G(ry,"defaults",{alpha:!1,invert:!0}),G(ry,"uniformLocations",["uInvert","uAlpha"]),Le.setClass(ry);class iy extends Hn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=this.noise;for(let i=0;i<t.length;i+=4){const s=(.5-Math.random())*r;t[i]+=s,t[i+1]+=s,t[i+2]+=s}}sendUniformData(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}isNeutralState(){return this.noise===0}}G(iy,"type","Noise"),G(iy,"defaults",{noise:0}),G(iy,"uniformLocations",["uNoise","uSeed"]),Le.setClass(iy);class sy extends Hn{applyTo2d(e){let{imageData:{data:t,width:r,height:i}}=e;for(let s=0;s<i;s+=this.blocksize)for(let o=0;o<r;o+=this.blocksize){const l=4*s*r+4*o,u=t[l],d=t[l+1],p=t[l+2],m=t[l+3];for(let v=s;v<Math.min(s+this.blocksize,i);v++)for(let w=o;w<Math.min(o+this.blocksize,r);w++){const S=4*v*r+4*w;t[S]=u,t[S+1]=d,t[S+2]=p,t[S+3]=m}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}G(sy,"type","Pixelate"),G(sy,"defaults",{blocksize:4}),G(sy,"uniformLocations",["uBlocksize"]),Le.setClass(sy);class oy extends Hn{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=255*this.distance,i=new Ft(this.color).getSource(),s=[i[0]-r,i[1]-r,i[2]-r],o=[i[0]+r,i[1]+r,i[2]+r];for(let l=0;l<t.length;l+=4){const u=t[l],d=t[l+1],p=t[l+2];u>s[0]&&d>s[1]&&p>s[2]&&u<o[0]&&d<o[1]&&p<o[2]&&(t[l+3]=0)}}sendUniformData(e,t){const r=new Ft(this.color).getSource(),i=this.distance,s=[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1],o=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];e.uniform4fv(t.uLow,s),e.uniform4fv(t.uHigh,o)}}G(oy,"type","RemoveColor"),G(oy,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),G(oy,"uniformLocations",["uLow","uHigh"]),Le.setClass(oy);class ay extends Hn{sendUniformData(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,r=this.getFilterWindow(),i=new Array(r);for(let s=1;s<=r;s++)i[s-1]=e(s*t);return i}generateShader(e){const t=new Array(e);for(let r=1;r<=e;r++)t[r-1]="".concat(r,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(t.map((r,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(r,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(r,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){Wv(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return t=>{if(t>=e||t<=-e)return 0;if(t<11920929e-14&&t>-11920929e-14)return 1;const r=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(r)/r}}applyTo2d(e){const t=e.imageData,r=this.scaleX,i=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/i;const s=t.width,o=t.height,l=Math.round(s*r),u=Math.round(o*i);let d;d=this.resizeType==="sliceHack"?this.sliceByTwo(e,s,o,l,u):this.resizeType==="hermite"?this.hermiteFastResize(e,s,o,l,u):this.resizeType==="bilinear"?this.bilinearFiltering(e,s,o,l,u):this.resizeType==="lanczos"?this.lanczosResize(e,s,o,l,u):new ImageData(l,u),e.imageData=d}sliceByTwo(e,t,r,i,s){const o=e.imageData,l=.5;let u=!1,d=!1,p=t*l,m=r*l;const v=e.filterBackend.resources;let w=0,S=0;const C=t;let _=0;v.sliceByTwo||(v.sliceByTwo=ao());const E=v.sliceByTwo;(E.width<1.5*t||E.height<r)&&(E.width=1.5*t,E.height=r);const P=E.getContext("2d");for(P.clearRect(0,0,1.5*t,r),P.putImageData(o,0,0),i=Math.floor(i),s=Math.floor(s);!u||!d;)t=p,r=m,i<Math.floor(p*l)?p=Math.floor(p*l):(p=i,u=!0),s<Math.floor(m*l)?m=Math.floor(m*l):(m=s,d=!0),P.drawImage(E,w,S,t,r,C,_,p,m),w=C,S=_,_+=m;return P.getImageData(w,S,i,s)}lanczosResize(e,t,r,i,s){const o=e.imageData.data,l=e.ctx.createImageData(i,s),u=l.data,d=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,m=this.rcpScaleY,v=2/this.rcpScaleX,w=2/this.rcpScaleY,S=Math.ceil(p*this.lanczosLobes/2),C=Math.ceil(m*this.lanczosLobes/2),_={},E={x:0,y:0},P={x:0,y:0};return function M(F){let L,j,$,W,q,R,se,he,fe,ge,ue;for(E.x=(F+.5)*p,P.x=Math.floor(E.x),L=0;L<s;L++){for(E.y=(L+.5)*m,P.y=Math.floor(E.y),q=0,R=0,se=0,he=0,fe=0,j=P.x-S;j<=P.x+S;j++)if(!(j<0||j>=t)){ge=Math.floor(1e3*Math.abs(j-E.x)),_[ge]||(_[ge]={});for(let Se=P.y-C;Se<=P.y+C;Se++)Se<0||Se>=r||(ue=Math.floor(1e3*Math.abs(Se-E.y)),_[ge][ue]||(_[ge][ue]=d(Math.sqrt(Math.pow(ge*v,2)+Math.pow(ue*w,2))/1e3)),$=_[ge][ue],$>0&&(W=4*(Se*t+j),q+=$,R+=$*o[W],se+=$*o[W+1],he+=$*o[W+2],fe+=$*o[W+3]))}W=4*(L*i+F),u[W]=R/q,u[W+1]=se/q,u[W+2]=he/q,u[W+3]=fe/q}return++F<i?M(F):l}(0)}bilinearFiltering(e,t,r,i,s){let o,l,u,d,p,m,v,w,S,C,_,E,P,M=0;const F=this.rcpScaleX,L=this.rcpScaleY,j=4*(t-1),$=e.imageData.data,W=e.ctx.createImageData(i,s),q=W.data;for(v=0;v<s;v++)for(w=0;w<i;w++)for(p=Math.floor(F*w),m=Math.floor(L*v),S=F*w-p,C=L*v-m,P=4*(m*t+p),_=0;_<4;_++)o=$[P+_],l=$[P+4+_],u=$[P+j+_],d=$[P+j+4+_],E=o*(1-S)*(1-C)+l*S*(1-C)+u*C*(1-S)+d*S*C,q[M++]=E;return W}hermiteFastResize(e,t,r,i,s){const o=this.rcpScaleX,l=this.rcpScaleY,u=Math.ceil(o/2),d=Math.ceil(l/2),p=e.imageData.data,m=e.ctx.createImageData(i,s),v=m.data;for(let w=0;w<s;w++)for(let S=0;S<i;S++){const C=4*(S+w*i);let _=0,E=0,P=0,M=0,F=0,L=0,j=0;const $=(w+.5)*l;for(let W=Math.floor(w*l);W<(w+1)*l;W++){const q=Math.abs($-(W+.5))/d,R=(S+.5)*o,se=q*q;for(let he=Math.floor(S*o);he<(S+1)*o;he++){let fe=Math.abs(R-(he+.5))/u;const ge=Math.sqrt(se+fe*fe);ge>1&&ge<-1||(_=2*ge*ge*ge-3*ge*ge+1,_>0&&(fe=4*(he+W*t),j+=_*p[fe+3],P+=_,p[fe+3]<255&&(_=_*p[fe+3]/250),M+=_*p[fe],F+=_*p[fe+1],L+=_*p[fe+2],E+=_))}}v[C]=M/E,v[C+1]=F/E,v[C+2]=L/E,v[C+3]=j/P}return m}}G(ay,"type","Resize"),G(ay,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),G(ay,"uniformLocations",["uDelta","uTaps"]),Le.setClass(ay);class ly extends Hn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=-this.saturation;for(let i=0;i<t.length;i+=4){const s=t[i],o=t[i+1],l=t[i+2],u=Math.max(s,o,l);t[i]+=u!==s?(u-s)*r:0,t[i+1]+=u!==o?(u-o)*r:0,t[i+2]+=u!==l?(u-l)*r:0}}sendUniformData(e,t){e.uniform1f(t.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}G(ly,"type","Saturation"),G(ly,"defaults",{saturation:0}),G(ly,"uniformLocations",["uSaturation"]),Le.setClass(ly);class cy extends Hn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=-this.vibrance;for(let i=0;i<t.length;i+=4){const s=t[i],o=t[i+1],l=t[i+2],u=Math.max(s,o,l),d=(s+o+l)/3,p=2*Math.abs(u-d)/255*r;t[i]+=u!==s?(u-s)*p:0,t[i+1]+=u!==o?(u-o)*p:0,t[i+2]+=u!==l?(u-l)*p:0}}sendUniformData(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}G(cy,"type","Vibrance"),G(cy,"defaults",{vibrance:0}),G(cy,"uniformLocations",["uVibrance"]),Le.setClass(cy);const gF=()=>{const[n,e]=I.useState(null),t=I.useRef(null);return I.useEffect(()=>{if(t.current){const r=new QS(t.current,{width:500,height:500});return r.backgroundColor="#bababa",r.renderAll(),e(r),()=>{r.dispose()}}},[]),te.jsx(te.Fragment,{})},_O="/assets/img1-CkVh1KXK.svg",Qs={LIGHT:"#549bd6",MEDIUM:"#0078D4",DARK:"#1f6299"},D_="#FFFFFF",Ad={LIGHT:"#f7584f",MEDIUM:"#FF3B30",DARK:"#d43931"},uy={LIGHT:"#dcdfe3",MEDIUM:"#DFE0EB",DARK:"#a8aeb5"},mF="#fffff",kO=I.forwardRef(({children:n,fontWeight:e=400,textTransform:t="none",theme:r="submit",padding:i="1rem 1.5rem",type:s="button",...o},l)=>{const u=()=>r==="submit"?Qs.MEDIUM:r==="cancel"?Ad.LIGHT:r==="add"?Qs.LIGHT:"transparent",d=()=>D_,p=()=>r==="submit"?Qs.MEDIUM:r==="cancel"?Ad.LIGHT:r==="add"?Qs.LIGHT:"transparent",m={color:D_,backgroundColor:r==="submit"?Qs.DARK:r==="cancel"?Ad.DARK:Qs.DARK,border:r==="submit"?`1px solid ${Qs.DARK}`:r==="cancel"?`1px solid ${Ad.DARK}`:`1px solid ${Qs.DARK}`};return te.jsx("button",{ref:l,style:{borderRadius:"4px",transition:"all 0.2s linear",lineHeight:"20px",backgroundColor:u(),color:d(),border:`1px solid ${p()}`,fontWeight:e,padding:i,textTransform:t},onMouseEnter:v=>{Object.assign(v.target.style,m)},onMouseLeave:v=>{Object.assign(v.target.style,{backgroundColor:u(),color:d(),border:`1px solid ${p()}`})},type:"button",disabled:o.disabled,...o,children:n})}),_g={black:"#000",white:"#fff"},pd={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},gd={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},md={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},yd={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},vd={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Vp={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},yF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ja(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const wb="$$material";function ew(){return ew=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ew.apply(null,arguments)}var vF=!1;function xF(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function SF(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var wF=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!vF:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(SF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=xF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Fr="-ms-",iv="-moz-",At="-webkit-",TO="comm",bb="rule",Cb="decl",bF="@import",EO="@keyframes",CF="@layer",_F=Math.abs,Hv=String.fromCharCode,kF=Object.assign;function TF(n,e){return Sr(n,0)^45?(((e<<2^Sr(n,0))<<2^Sr(n,1))<<2^Sr(n,2))<<2^Sr(n,3):0}function OO(n){return n.trim()}function EF(n,e){return(n=e.exec(n))?n[0]:n}function Pt(n,e,t){return n.replace(e,t)}function tw(n,e){return n.indexOf(e)}function Sr(n,e){return n.charCodeAt(e)|0}function kg(n,e,t){return n.slice(e,t)}function Ho(n){return n.length}function _b(n){return n.length}function hy(n,e){return e.push(n),n}function OF(n,e){return n.map(e).join("")}var Vv=1,Vd=1,MO=0,Di=0,Pn=0,af="";function Uv(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Vv,column:Vd,length:o,return:""}}function Up(n,e){return kF(Uv("",null,null,"",null,null,0),n,{length:-n.length},e)}function MF(){return Pn}function AF(){return Pn=Di>0?Sr(af,--Di):0,Vd--,Pn===10&&(Vd=1,Vv--),Pn}function Zi(){return Pn=Di<MO?Sr(af,Di++):0,Vd++,Pn===10&&(Vd=1,Vv++),Pn}function Yo(){return Sr(af,Di)}function Dy(){return Di}function Gg(n,e){return kg(af,n,e)}function Tg(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AO(n){return Vv=Vd=1,MO=Ho(af=n),Di=0,[]}function PO(n){return af="",n}function Iy(n){return OO(Gg(Di-1,nw(n===91?n+2:n===40?n+1:n)))}function PF(n){for(;(Pn=Yo())&&Pn<33;)Zi();return Tg(n)>2||Tg(Pn)>3?"":" "}function RF(n,e){for(;--e&&Zi()&&!(Pn<48||Pn>102||Pn>57&&Pn<65||Pn>70&&Pn<97););return Gg(n,Dy()+(e<6&&Yo()==32&&Zi()==32))}function nw(n){for(;Zi();)switch(Pn){case n:return Di;case 34:case 39:n!==34&&n!==39&&nw(Pn);break;case 40:n===41&&nw(n);break;case 92:Zi();break}return Di}function DF(n,e){for(;Zi()&&n+Pn!==57;)if(n+Pn===84&&Yo()===47)break;return"/*"+Gg(e,Di-1)+"*"+Hv(n===47?n:Zi())}function IF(n){for(;!Tg(Yo());)Zi();return Gg(n,Di)}function NF(n){return PO(Ny("",null,null,null,[""],n=AO(n),0,[0],n))}function Ny(n,e,t,r,i,s,o,l,u){for(var d=0,p=0,m=o,v=0,w=0,S=0,C=1,_=1,E=1,P=0,M="",F=i,L=s,j=r,$=M;_;)switch(S=P,P=Zi()){case 40:if(S!=108&&Sr($,m-1)==58){tw($+=Pt(Iy(P),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:$+=Iy(P);break;case 9:case 10:case 13:case 32:$+=PF(S);break;case 92:$+=RF(Dy()-1,7);continue;case 47:switch(Yo()){case 42:case 47:hy(LF(DF(Zi(),Dy()),e,t),u);break;default:$+="/"}break;case 123*C:l[d++]=Ho($)*E;case 125*C:case 59:case 0:switch(P){case 0:case 125:_=0;case 59+p:E==-1&&($=Pt($,/\f/g,"")),w>0&&Ho($)-m&&hy(w>32?N_($+";",r,t,m-1):N_(Pt($," ","")+";",r,t,m-2),u);break;case 59:$+=";";default:if(hy(j=I_($,e,t,d,p,i,l,M,F=[],L=[],m),s),P===123)if(p===0)Ny($,e,j,j,F,s,m,l,L);else switch(v===99&&Sr($,3)===110?100:v){case 100:case 108:case 109:case 115:Ny(n,j,j,r&&hy(I_(n,j,j,0,0,i,l,M,i,F=[],m),L),i,L,m,l,r?F:L);break;default:Ny($,j,j,j,[""],L,0,l,L)}}d=p=w=0,C=E=1,M=$="",m=o;break;case 58:m=1+Ho($),w=S;default:if(C<1){if(P==123)--C;else if(P==125&&C++==0&&AF()==125)continue}switch($+=Hv(P),P*C){case 38:E=p>0?1:($+="\f",-1);break;case 44:l[d++]=(Ho($)-1)*E,E=1;break;case 64:Yo()===45&&($+=Iy(Zi())),v=Yo(),p=m=Ho(M=$+=IF(Dy())),P++;break;case 45:S===45&&Ho($)==2&&(C=0)}}return s}function I_(n,e,t,r,i,s,o,l,u,d,p){for(var m=i-1,v=i===0?s:[""],w=_b(v),S=0,C=0,_=0;S<r;++S)for(var E=0,P=kg(n,m+1,m=_F(C=o[S])),M=n;E<w;++E)(M=OO(C>0?v[E]+" "+P:Pt(P,/&\f/g,v[E])))&&(u[_++]=M);return Uv(n,e,t,i===0?bb:l,u,d,p)}function LF(n,e,t){return Uv(n,e,t,TO,Hv(MF()),kg(n,2,-2),0)}function N_(n,e,t,r){return Uv(n,e,t,Cb,kg(n,0,r),kg(n,r+1,-1),r)}function Fd(n,e){for(var t="",r=_b(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function FF(n,e,t,r){switch(n.type){case CF:if(n.children.length)break;case bF:case Cb:return n.return=n.return||n.value;case TO:return"";case EO:return n.return=n.value+"{"+Fd(n.children,r)+"}";case bb:n.value=n.props.join(",")}return Ho(t=Fd(n.children,r))?n.return=n.value+"{"+t+"}":""}function BF(n){var e=_b(n);return function(t,r,i,s){for(var o="",l=0;l<e;l++)o+=n[l](t,r,i,s)||"";return o}}function jF(n){return function(e){e.root||(e=e.return)&&n(e)}}function RO(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var zF=function(e,t,r){for(var i=0,s=0;i=s,s=Yo(),i===38&&s===12&&(t[r]=1),!Tg(s);)Zi();return Gg(e,Di)},$F=function(e,t){var r=-1,i=44;do switch(Tg(i)){case 0:i===38&&Yo()===12&&(t[r]=1),e[r]+=zF(Di-1,t,r);break;case 2:e[r]+=Iy(i);break;case 4:if(i===44){e[++r]=Yo()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Hv(i)}while(i=Zi());return e},WF=function(e,t){return PO($F(AO(e),t))},L_=new WeakMap,HF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!L_.get(r))&&!i){L_.set(e,!0);for(var s=[],o=WF(t,s),l=r.props,u=0,d=0;u<o.length;u++)for(var p=0;p<l.length;p++,d++)e.props[d]=s[u]?o[u].replace(/&\f/g,l[p]):l[p]+" "+o[u]}}},VF=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function DO(n,e){switch(TF(n,e)){case 5103:return At+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return At+n+iv+n+Fr+n+n;case 6828:case 4268:return At+n+Fr+n+n;case 6165:return At+n+Fr+"flex-"+n+n;case 5187:return At+n+Pt(n,/(\w+).+(:[^]+)/,At+"box-$1$2"+Fr+"flex-$1$2")+n;case 5443:return At+n+Fr+"flex-item-"+Pt(n,/flex-|-self/,"")+n;case 4675:return At+n+Fr+"flex-line-pack"+Pt(n,/align-content|flex-|-self/,"")+n;case 5548:return At+n+Fr+Pt(n,"shrink","negative")+n;case 5292:return At+n+Fr+Pt(n,"basis","preferred-size")+n;case 6060:return At+"box-"+Pt(n,"-grow","")+At+n+Fr+Pt(n,"grow","positive")+n;case 4554:return At+Pt(n,/([^-])(transform)/g,"$1"+At+"$2")+n;case 6187:return Pt(Pt(Pt(n,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),n,"")+n;case 5495:case 3959:return Pt(n,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return Pt(Pt(n,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+Fr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+n+n;case 4095:case 3583:case 4068:case 2532:return Pt(n,/(.+)-inline(.+)/,At+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ho(n)-1-e>6)switch(Sr(n,e+1)){case 109:if(Sr(n,e+4)!==45)break;case 102:return Pt(n,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+iv+(Sr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~tw(n,"stretch")?DO(Pt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Sr(n,e+1)!==115)break;case 6444:switch(Sr(n,Ho(n)-3-(~tw(n,"!important")&&10))){case 107:return Pt(n,":",":"+At)+n;case 101:return Pt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(Sr(n,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+Fr+"$2box$3")+n}break;case 5936:switch(Sr(n,e+11)){case 114:return At+n+Fr+Pt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return At+n+Fr+Pt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return At+n+Fr+Pt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return At+n+Fr+n+n}return n}var UF=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Cb:e.return=DO(e.value,e.length);break;case EO:return Fd([Up(e,{value:Pt(e.value,"@","@"+At)})],i);case bb:if(e.length)return OF(e.props,function(s){switch(EF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fd([Up(e,{props:[Pt(s,/:(read-\w+)/,":"+iv+"$1")]})],i);case"::placeholder":return Fd([Up(e,{props:[Pt(s,/:(plac\w+)/,":"+At+"input-$1")]}),Up(e,{props:[Pt(s,/:(plac\w+)/,":"+iv+"$1")]}),Up(e,{props:[Pt(s,/:(plac\w+)/,Fr+"input-$1")]})],i)}return""})}},GF=[UF],XF=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var _=C.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var i=e.stylisPlugins||GF,s={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(C){for(var _=C.getAttribute("data-emotion").split(" "),E=1;E<_.length;E++)s[_[E]]=!0;l.push(C)});var u,d=[HF,VF];{var p,m=[FF,jF(function(C){p.insert(C)})],v=BF(d.concat(i,m)),w=function(_){return Fd(NF(_),v)};u=function(_,E,P,M){p=P,w(_?_+"{"+E.styles+"}":E.styles),M&&(S.inserted[E.name]=!0)}}var S={key:t,sheet:new wF({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return S.sheet.hydrate(l),S},Zx={exports:{}},It={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function YF(){if(F_)return It;F_=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,w=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,C=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,P=n?Symbol.for("react.scope"):60119;function M(L){if(typeof L=="object"&&L!==null){var j=L.$$typeof;switch(j){case e:switch(L=L.type,L){case u:case d:case r:case s:case i:case m:return L;default:switch(L=L&&L.$$typeof,L){case l:case p:case S:case w:case o:return L;default:return j}}case t:return j}}}function F(L){return M(L)===d}return It.AsyncMode=u,It.ConcurrentMode=d,It.ContextConsumer=l,It.ContextProvider=o,It.Element=e,It.ForwardRef=p,It.Fragment=r,It.Lazy=S,It.Memo=w,It.Portal=t,It.Profiler=s,It.StrictMode=i,It.Suspense=m,It.isAsyncMode=function(L){return F(L)||M(L)===u},It.isConcurrentMode=F,It.isContextConsumer=function(L){return M(L)===l},It.isContextProvider=function(L){return M(L)===o},It.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===e},It.isForwardRef=function(L){return M(L)===p},It.isFragment=function(L){return M(L)===r},It.isLazy=function(L){return M(L)===S},It.isMemo=function(L){return M(L)===w},It.isPortal=function(L){return M(L)===t},It.isProfiler=function(L){return M(L)===s},It.isStrictMode=function(L){return M(L)===i},It.isSuspense=function(L){return M(L)===m},It.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===r||L===d||L===s||L===i||L===m||L===v||typeof L=="object"&&L!==null&&(L.$$typeof===S||L.$$typeof===w||L.$$typeof===o||L.$$typeof===l||L.$$typeof===p||L.$$typeof===_||L.$$typeof===E||L.$$typeof===P||L.$$typeof===C)},It.typeOf=M,It}var B_;function KF(){return B_||(B_=1,Zx.exports=YF()),Zx.exports}var eS,j_;function qF(){if(j_)return eS;j_=1;var n=KF(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function o(S){return n.isMemo(S)?i:s[S.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,v=Object.prototype;function w(S,C,_){if(typeof C!="string"){if(v){var E=m(C);E&&E!==v&&w(S,E,_)}var P=u(C);d&&(P=P.concat(d(C)));for(var M=o(S),F=o(C),L=0;L<P.length;++L){var j=P[L];if(!t[j]&&!(_&&_[j])&&!(F&&F[j])&&!(M&&M[j])){var $=p(C,j);try{l(S,j,$)}catch{}}}}return S}return eS=w,eS}qF();var JF=!0;function IO(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var kb=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||JF===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},Tb=function(e,t,r){kb(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function QF(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ZF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},e5=!1,t5=/[A-Z]|^ms/g,n5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NO=function(e){return e.charCodeAt(1)===45},z_=function(e){return e!=null&&typeof e!="boolean"},tS=RO(function(n){return NO(n)?n:n.replace(t5,"-$&").toLowerCase()}),$_=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(n5,function(r,i,s){return Vo={name:i,styles:s,next:Vo},i})}return ZF[e]!==1&&!NO(e)&&typeof t=="number"&&t!==0?t+"px":t},r5="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Eg(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Vo={name:i.name,styles:i.styles,next:Vo},i.name;var s=t;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Vo={name:o.name,styles:o.styles,next:Vo},o=o.next;var l=s.styles+";";return l}return i5(n,e,t)}case"function":{if(n!==void 0){var u=Vo,d=t(n);return Vo=u,Eg(n,e,d)}break}}var p=t;if(e==null)return p;var m=e[p];return m!==void 0?m:p}function i5(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Eg(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object"){var l=o;e!=null&&e[l]!==void 0?r+=s+"{"+e[l]+"}":z_(l)&&(r+=tS(s)+":"+$_(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&e5)throw new Error(r5);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)z_(o[u])&&(r+=tS(s)+":"+$_(s,o[u])+";");else{var d=Eg(n,e,o);switch(s){case"animation":case"animationName":{r+=tS(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}}return r}var W_=/label:\s*([^\s;{]+)\s*(;|$)/g,Vo;function Gv(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Vo=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Eg(t,e,s);else{var o=s;i+=o[0]}for(var l=1;l<n.length;l++)if(i+=Eg(t,e,n[l]),r){var u=s;i+=u[l]}W_.lastIndex=0;for(var d="",p;(p=W_.exec(i))!==null;)d+="-"+p[1];var m=QF(i)+d;return{name:m,styles:i,next:Vo}}var s5=function(e){return e()},LO=FS.useInsertionEffect?FS.useInsertionEffect:!1,FO=LO||s5,H_=LO||I.useLayoutEffect,o5=!1,BO=I.createContext(typeof HTMLElement<"u"?XF({key:"css"}):null);BO.Provider;var Eb=function(e){return I.forwardRef(function(t,r){var i=I.useContext(BO);return e(t,i,r)})},Xv=I.createContext({}),Ob={}.hasOwnProperty,rw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",a5=function(e,t){var r={};for(var i in t)Ob.call(t,i)&&(r[i]=t[i]);return r[rw]=e,r},l5=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return kb(t,r,i),FO(function(){return Tb(t,r,i)}),null},c5=Eb(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[rw],s=[r],o="";typeof n.className=="string"?o=IO(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var l=Gv(s,void 0,I.useContext(Xv));o+=e.key+"-"+l.name;var u={};for(var d in n)Ob.call(n,d)&&d!=="css"&&d!==rw&&!o5&&(u[d]=n[d]);return u.className=o,t&&(u.ref=t),I.createElement(I.Fragment,null,I.createElement(l5,{cache:e,serialized:l,isStringTag:typeof i=="string"}),I.createElement(i,u))}),u5=c5,V_=function(e,t){var r=arguments;if(t==null||!Ob.call(t,"css"))return I.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=u5,s[1]=a5(e,t);for(var o=2;o<i;o++)s[o]=r[o];return I.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(V_||(V_={}));var h5=Eb(function(n,e){var t=n.styles,r=Gv([t],void 0,I.useContext(Xv)),i=I.useRef();return H_(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",s),o.hydrate([u])),i.current=[o,l],function(){o.flush()}},[e]),H_(function(){var s=i.current,o=s[0],l=s[1];if(l){s[1]=!1;return}if(r.next!==void 0&&Tb(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null}),d5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f5=RO(function(n){return d5.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),p5=!1,g5=f5,m5=function(e){return e!=="theme"},U_=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?g5:m5},G_=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},y5=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return kb(t,r,i),FO(function(){return Tb(t,r,i)}),null},v5=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var l=G_(e,t,r),u=l||U_(i),d=!u("as");return function(){var p=arguments,m=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&m.push("label:"+s+";"),p[0]==null||p[0].raw===void 0)m.push.apply(m,p);else{var v=p[0];m.push(v[0]);for(var w=p.length,S=1;S<w;S++)m.push(p[S],v[S])}var C=Eb(function(_,E,P){var M=d&&_.as||i,F="",L=[],j=_;if(_.theme==null){j={};for(var $ in _)j[$]=_[$];j.theme=I.useContext(Xv)}typeof _.className=="string"?F=IO(E.registered,L,_.className):_.className!=null&&(F=_.className+" ");var W=Gv(m.concat(L),E.registered,j);F+=E.key+"-"+W.name,o!==void 0&&(F+=" "+o);var q=d&&l===void 0?U_(M):u,R={};for(var se in _)d&&se==="as"||q(se)&&(R[se]=_[se]);return R.className=F,P&&(R.ref=P),I.createElement(I.Fragment,null,I.createElement(y5,{cache:E,serialized:W,isStringTag:typeof M=="string"}),I.createElement(M,R))});return C.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",C.defaultProps=e.defaultProps,C.__emotion_real=C,C.__emotion_base=i,C.__emotion_styles=m,C.__emotion_forwardProp=l,Object.defineProperty(C,"toString",{value:function(){return o===void 0&&p5?"NO_COMPONENT_SELECTOR":"."+o}}),C.withComponent=function(_,E){var P=n(_,ew({},t,E,{shouldForwardProp:G_(C,E,!0)}));return P.apply(void 0,m)},C}},x5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],iw=v5.bind(null);x5.forEach(function(n){iw[n]=iw(n)});function S5(n){return n==null||Object.keys(n).length===0}function w5(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(S5(i)?t:i):e;return te.jsx(h5,{styles:r})}/**
 * @mui/styled-engine v6.2.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function b5(n,e){return iw(n,e)}function C5(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const X_=[];function Y_(n){return X_[0]=n,Gv(X_)}function $a(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function jO(n){if(I.isValidElement(n)||!$a(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=jO(n[t])}),e}function Wr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return $a(n)&&$a(e)&&Object.keys(e).forEach(i=>{I.isValidElement(e[i])?r[i]=e[i]:$a(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&$a(n[i])?r[i]=Wr(n[i],e[i],t):t.clone?r[i]=$a(e[i])?jO(e[i]):e[i]:r[i]=e[i]}),r}const _5=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function k5(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=_5(e),o=Object.keys(s);function l(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function u(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function d(v,w){const S=o.indexOf(w);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(S!==-1&&typeof e[o[S]]=="number"?e[o[S]]:w)-r/100}${t})`}function p(v){return o.indexOf(v)+1<o.length?d(v,o[o.indexOf(v)+1]):l(v)}function m(v){const w=o.indexOf(v);return w===0?l(o[1]):w===o.length-1?u(o[w]):d(v,o[o.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:l,down:u,between:d,only:p,not:m,unit:t,...i}}function T5(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,l;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((l=i.match(s))==null?void 0:l[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function E5(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function O5(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function M5(n){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function t(s,o){s.up=(...l)=>e(n.breakpoints.up(...l),o),s.down=(...l)=>e(n.breakpoints.down(...l),o),s.between=(...l)=>e(n.breakpoints.between(...l),o),s.only=(...l)=>e(n.breakpoints.only(...l),o),s.not=(...l)=>{const u=e(n.breakpoints.not(...l),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const A5={borderRadius:4};function ug(n,e){return e?Wr(n,e,{clone:!1}):n}const Yv={xs:0,sm:600,md:900,lg:1200,xl:1536},K_={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Yv[n]}px)`},P5={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Yv[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Qa(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||K_;return e.reduce((o,l,u)=>(o[s.up(s.keys[u])]=t(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||K_;return Object.keys(e).reduce((o,l)=>{if(E5(s.keys,l)){const u=O5(r.containerQueries?r:P5,l);u&&(o[u]=t(e[l],l))}else if(Object.keys(s.values||Yv).includes(l)){const u=s.up(l);o[u]=t(e[l],l)}else{const u=l;o[u]=e[u]}return o},{})}return t(e)}function R5(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function D5(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Dn(n){if(typeof n!="string")throw new Error(Ja(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Kv(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function sv(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Kv(n,t)||r,e&&(i=e(i,r,n)),i}function kn(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const l=o[e],u=o.theme,d=Kv(u,r)||{};return Qa(o,l,m=>{let v=sv(d,i,m);return m===v&&typeof m=="string"&&(v=sv(d,i,`${e}${m==="default"?"":Dn(m)}`,m)),t===!1?v:{[t]:v}})};return s.propTypes={},s.filterProps=[e],s}function I5(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const N5={m:"margin",p:"padding"},L5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},q_={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F5=I5(n=>{if(n.length>2)if(q_[n])n=q_[n];else return[n];const[e,t]=n.split(""),r=N5[e],i=L5[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Mb=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ab=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Mb,...Ab];function Xg(n,e,t,r){const i=Kv(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),l=i[o];return s>=0?l:typeof l=="number"?-l:`-${l}`}:typeof i=="function"?i:()=>{}}function Pb(n){return Xg(n,"spacing",8)}function Yg(n,e){return typeof e=="string"||e==null?e:n(e)}function B5(n,e){return t=>n.reduce((r,i)=>(r[i]=Yg(e,t),r),{})}function j5(n,e,t,r){if(!e.includes(t))return null;const i=F5(t),s=B5(i,r),o=n[t];return Qa(n,o,s)}function zO(n,e){const t=Pb(n.theme);return Object.keys(n).map(r=>j5(n,e,r,t)).reduce(ug,{})}function mn(n){return zO(n,Mb)}mn.propTypes={};mn.filterProps=Mb;function yn(n){return zO(n,Ab)}yn.propTypes={};yn.filterProps=Ab;function $O(n=8,e=Pb({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function qv(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?ug(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function _s(n){return typeof n!="number"?n:`${n}px solid`}function As(n,e){return kn({prop:n,themeKey:"borders",transform:e})}const z5=As("border",_s),$5=As("borderTop",_s),W5=As("borderRight",_s),H5=As("borderBottom",_s),V5=As("borderLeft",_s),U5=As("borderColor"),G5=As("borderTopColor"),X5=As("borderRightColor"),Y5=As("borderBottomColor"),K5=As("borderLeftColor"),q5=As("outline",_s),J5=As("outlineColor"),Jv=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Xg(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Yg(e,r)});return Qa(n,n.borderRadius,t)}return null};Jv.propTypes={};Jv.filterProps=["borderRadius"];qv(z5,$5,W5,H5,V5,U5,G5,X5,Y5,K5,Jv,q5,J5);const Qv=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Xg(n.theme,"spacing",8),t=r=>({gap:Yg(e,r)});return Qa(n,n.gap,t)}return null};Qv.propTypes={};Qv.filterProps=["gap"];const Zv=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Xg(n.theme,"spacing",8),t=r=>({columnGap:Yg(e,r)});return Qa(n,n.columnGap,t)}return null};Zv.propTypes={};Zv.filterProps=["columnGap"];const e1=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Xg(n.theme,"spacing",8),t=r=>({rowGap:Yg(e,r)});return Qa(n,n.rowGap,t)}return null};e1.propTypes={};e1.filterProps=["rowGap"];const Q5=kn({prop:"gridColumn"}),Z5=kn({prop:"gridRow"}),eB=kn({prop:"gridAutoFlow"}),tB=kn({prop:"gridAutoColumns"}),nB=kn({prop:"gridAutoRows"}),rB=kn({prop:"gridTemplateColumns"}),iB=kn({prop:"gridTemplateRows"}),sB=kn({prop:"gridTemplateAreas"}),oB=kn({prop:"gridArea"});qv(Qv,Zv,e1,Q5,Z5,eB,tB,nB,rB,iB,sB,oB);function Bd(n,e){return e==="grey"?e:n}const aB=kn({prop:"color",themeKey:"palette",transform:Bd}),lB=kn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Bd}),cB=kn({prop:"backgroundColor",themeKey:"palette",transform:Bd});qv(aB,lB,cB);function qi(n){return n<=1&&n!==0?`${n*100}%`:n}const uB=kn({prop:"width",transform:qi}),Rb=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,o,l,u;const r=((o=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[t])||Yv[t];return r?((u=(l=n.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:qi(t)}};return Qa(n,n.maxWidth,e)}return null};Rb.filterProps=["maxWidth"];const hB=kn({prop:"minWidth",transform:qi}),dB=kn({prop:"height",transform:qi}),fB=kn({prop:"maxHeight",transform:qi}),pB=kn({prop:"minHeight",transform:qi});kn({prop:"size",cssProperty:"width",transform:qi});kn({prop:"size",cssProperty:"height",transform:qi});const gB=kn({prop:"boxSizing"});qv(uB,Rb,hB,dB,fB,pB,gB);const t1={border:{themeKey:"borders",transform:_s},borderTop:{themeKey:"borders",transform:_s},borderRight:{themeKey:"borders",transform:_s},borderBottom:{themeKey:"borders",transform:_s},borderLeft:{themeKey:"borders",transform:_s},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:_s},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Jv},color:{themeKey:"palette",transform:Bd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Bd},backgroundColor:{themeKey:"palette",transform:Bd},p:{style:yn},pt:{style:yn},pr:{style:yn},pb:{style:yn},pl:{style:yn},px:{style:yn},py:{style:yn},padding:{style:yn},paddingTop:{style:yn},paddingRight:{style:yn},paddingBottom:{style:yn},paddingLeft:{style:yn},paddingX:{style:yn},paddingY:{style:yn},paddingInline:{style:yn},paddingInlineStart:{style:yn},paddingInlineEnd:{style:yn},paddingBlock:{style:yn},paddingBlockStart:{style:yn},paddingBlockEnd:{style:yn},m:{style:mn},mt:{style:mn},mr:{style:mn},mb:{style:mn},ml:{style:mn},mx:{style:mn},my:{style:mn},margin:{style:mn},marginTop:{style:mn},marginRight:{style:mn},marginBottom:{style:mn},marginLeft:{style:mn},marginX:{style:mn},marginY:{style:mn},marginInline:{style:mn},marginInlineStart:{style:mn},marginInlineEnd:{style:mn},marginBlock:{style:mn},marginBlockStart:{style:mn},marginBlockEnd:{style:mn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Qv},rowGap:{style:e1},columnGap:{style:Zv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:qi},maxWidth:{style:Rb},minWidth:{transform:qi},height:{transform:qi},maxHeight:{transform:qi},minHeight:{transform:qi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function mB(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function yB(n,e){return typeof n=="function"?n(e):n}function vB(){function n(t,r,i,s){const o={[t]:r,theme:i},l=s[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:d,transform:p,style:m}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const v=Kv(i,d)||{};return m?m(o):Qa(o,r,S=>{let C=sv(v,p,S);return S===C&&typeof S=="string"&&(C=sv(v,p,`${t}${S==="default"?"":Dn(S)}`,S)),u===!1?C:{[u]:C}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??t1;function o(l){let u=l;if(typeof l=="function")u=l(i);else if(typeof l!="object")return l;if(!u)return null;const d=R5(i.breakpoints),p=Object.keys(d);let m=d;return Object.keys(u).forEach(v=>{const w=yB(u[v],i);if(w!=null)if(typeof w=="object")if(s[v])m=ug(m,n(v,w,i,s));else{const S=Qa({theme:i},w,C=>({[v]:C}));mB(S,w)?m[v]=e({sx:w,theme:i}):m=ug(m,S)}else m=ug(m,n(v,w,i,s))}),T5(i,D5(p,m))}return Array.isArray(r)?r.map(o):o(r)}return e}const Ud=vB();Ud.filterProps=["sx"];function xB(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function Db(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...o}=n,l=k5(t),u=$O(i);let d=Wr({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...A5,...s}},o);return d=M5(d),d.applyStyles=xB,d=e.reduce((p,m)=>Wr(p,m),d),d.unstable_sxConfig={...t1,...o==null?void 0:o.unstable_sxConfig},d.unstable_sx=function(m){return Ud({sx:m,theme:this})},d}function SB(n){return Object.keys(n).length===0}function wB(n=null){const e=I.useContext(Xv);return!e||SB(e)?n:e}const bB=Db();function WO(n=bB){return wB(n)}function CB({styles:n,themeId:e,defaultTheme:t={}}){const r=WO(t),i=typeof n=="function"?n(e&&r[e]||r):n;return te.jsx(w5,{styles:i})}const J_=n=>n,_B=()=>{let n=J_;return{configure(e){n=e},generate(e){return n(e)},reset(){n=J_}}},kB=_B();function HO(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=HO(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Bt(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=HO(n))&&(r&&(r+=" "),r+=e);return r}const TB={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Un(n,e,t="Mui"){const r=TB[e];return r?`${t}-${r}`:`${kB.generate(n)}-${e}`}function or(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Un(n,i,t)}),r}function VO(n){const{variants:e,...t}=n,r={variants:e,style:Y_(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Y_(i.style))}),r}const EB=Db();function nS(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function OB(n){return n?(e,t)=>t[n]:null}function MB(n,e,t){n.theme=RB(n.theme)?t:n.theme[e]||n.theme}function Ly(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Ly(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return UO(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function UO(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(r))continue}else for(const l in o.props)if(n[l]!==o.props[l]&&((i=n.ownerState)==null?void 0:i[l])!==o.props[l])continue e;typeof o.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(o.style(r))):t.push(o.style)}return t}function AB(n={}){const{themeId:e,defaultTheme:t=EB,rootShouldForwardProp:r=nS,slotShouldForwardProp:i=nS}=n;function s(l){MB(l,e,t)}return(l,u={})=>{C5(l,L=>L.filter(j=>j!==Ud));const{name:d,slot:p,skipVariantsResolver:m,skipSx:v,overridesResolver:w=OB(IB(p)),...S}=u,C=m!==void 0?m:p&&p!=="Root"&&p!=="root"||!1,_=v||!1;let E=nS;p==="Root"||p==="root"?E=r:p?E=i:DB(l)&&(E=void 0);const P=b5(l,{shouldForwardProp:E,label:PB(),...S}),M=L=>{if(typeof L=="function"&&L.__emotion_real!==L)return function($){return Ly($,L)};if($a(L)){const j=VO(L);return j.variants?function(W){return Ly(W,j)}:j.style}return L},F=(...L)=>{const j=[],$=L.map(M),W=[];if(j.push(s),d&&w&&W.push(function(he){var Se,Ce;const ge=(Ce=(Se=he.theme.components)==null?void 0:Se[d])==null?void 0:Ce.styleOverrides;if(!ge)return null;const ue={};for(const ee in ge)ue[ee]=Ly(he,ge[ee]);return w(he,ue)}),d&&!C&&W.push(function(he){var ue,Se;const fe=he.theme,ge=(Se=(ue=fe==null?void 0:fe.components)==null?void 0:ue[d])==null?void 0:Se.variants;return ge?UO(he,ge):null}),_||W.push(Ud),Array.isArray($[0])){const se=$.shift(),he=new Array(j.length).fill(""),fe=new Array(W.length).fill("");let ge;ge=[...he,...se,...fe],ge.raw=[...he,...se.raw,...fe],j.unshift(ge)}const q=[...j,...$,...W],R=P(...q);return l.muiName&&(R.muiName=l.muiName),R};return P.withConfig&&(F.withConfig=P.withConfig),F}}function PB(n,e){return void 0}function RB(n){for(const e in n)return!1;return!0}function DB(n){return typeof n=="string"&&n.charCodeAt(0)>96}function IB(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function sw(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],o=e[i];if(!o)t[i]=s||{};else if(!s)t[i]=o;else{t[i]={...o};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=l;t[i][u]=sw(s[u],o[u])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const Ru=typeof window<"u"?I.useLayoutEffect:I.useEffect;function NB(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Ib(n,e=0,t=1){return NB(n,e,t)}function LB(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ic(n){if(n.type)return n;if(n.charAt(0)==="#")return ic(LB(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Ja(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ja(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const FB=n=>{const e=ic(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Zp=(n,e)=>{try{return FB(n)}catch{return n}};function n1(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function GO(n){n=ic(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(d,p=(d+t/30)%12)=>i-s*Math.max(Math.min(p-3,9-p,1),-1);let l="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(l+="a",u.push(e[3])),n1({type:l,values:u})}function ow(n){n=ic(n);let e=n.type==="hsl"||n.type==="hsla"?ic(GO(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function BB(n,e){const t=ow(n),r=ow(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function aw(n,e){return n=ic(n),e=Ib(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,n1(n)}function dy(n,e,t){try{return aw(n,e)}catch{return n}}function Nb(n,e){if(n=ic(n),e=Ib(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return n1(n)}function Vt(n,e,t){try{return Nb(n,e)}catch{return n}}function Lb(n,e){if(n=ic(n),e=Ib(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return n1(n)}function Ut(n,e,t){try{return Lb(n,e)}catch{return n}}function jB(n,e=.15){return ow(n)>.5?Nb(n,e):Lb(n,e)}function fy(n,e,t){try{return jB(n,e)}catch{return n}}function Q_(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function XO(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function rS(n,e){var t,r,i;return I.isValidElement(n)&&e.indexOf(n.type.muiName??((i=(r=(t=n.type)==null?void 0:t._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function lo(n){return n&&n.ownerDocument||document}function Za(n){return lo(n).defaultView||window}function lw(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let Z_=0;function zB(n){const[e,t]=I.useState(n),r=n||e;return I.useEffect(()=>{e==null&&(Z_+=1,t(`mui-${Z_}`))},[e]),r}const $B={...FS},ek=$B.useId;function YO(n){if(ek!==void 0){const e=ek();return n??e}return zB(n)}function tk({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=I.useRef(n!==void 0),[s,o]=I.useState(e),l=i?n:s,u=I.useCallback(d=>{i||o(d)},[]);return[l,u]}function nk(n){const e=I.useRef(n);return Ru(()=>{e.current=n}),I.useRef((...t)=>(0,e.current)(...t)).current}function Ii(...n){return I.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{lw(t,e)})},n)}const rk={};function WB(n,e){const t=I.useRef(rk);return t.current===rk&&(t.current=n(e)),t}const HB=[];function VB(n){I.useEffect(n,HB)}class Fb{constructor(){N0(this,"currentId",null);N0(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});N0(this,"disposeEffect",()=>this.clear)}static create(){return new Fb}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function UB(){const n=WB(Fb.create).current;return VB(n.disposeEffect),n}function KO(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function ar(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let o="",l=!0;for(let u=0;u<s.length;u+=1){const d=s[u];d&&(o+=(l===!0?"":" ")+e(d),l=!1,t&&t[d]&&(o+=" "+t[d]))}r[i]=o}return r}function GB(n){return typeof n=="string"}function qO(n,e,t){return n===void 0||GB(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function JO(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function ik(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function QO(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const w=Bt(t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),S={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},C={...t,...i,...r};return w.length>0&&(C.className=w),Object.keys(S).length>0&&(C.style=S),{props:C,internalRef:void 0}}const o=JO({...i,...r}),l=ik(r),u=ik(i),d=e(o),p=Bt(d==null?void 0:d.className,t==null?void 0:t.className,s,i==null?void 0:i.className,r==null?void 0:r.className),m={...d==null?void 0:d.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...d,...t,...u,...l};return p.length>0&&(v.className=p),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:d.ref}}function ZO(n,e,t){return typeof n=="function"?n(e,t):n}function sk(n){var m;const{elementType:e,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:i=!1,...s}=n,o=i?{}:ZO(t,r),{props:l,internalRef:u}=QO({...s,externalSlotProps:o}),d=Ii(u,o==null?void 0:o.ref,(m=n.additionalProps)==null?void 0:m.ref);return qO(e,{...l,ref:d},r)}function Kg(n){var e;return parseInt(I.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}const XB=I.createContext(),YB=()=>I.useContext(XB)??!1,KB=I.createContext(void 0);function qB(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?sw(i.defaultProps,r):!i.styleOverrides&&!i.variants?sw(i,r):r}function JB({props:n,name:e}){const t=I.useContext(KB);return qB({props:n,name:e,theme:{components:t}})}const ok={theme:void 0};function QB(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(ok.theme=i.theme,s=VO(n(ok)),e=s,t=i.theme),s}}function ZB(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const ak=(n,e,t,r=[])=>{let i=n;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},e3=(n,e,t)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([l,u])=>{(!t||t&&!t([...s,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...s,l],Array.isArray(u)?[...o,l]:o):e([...s,l],u,o))})}r(n)},t3=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function iS(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return e3(n,(l,u,d)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(l,u))){const p=`--${t?`${t}-`:""}${l.join("-")}`,m=t3(l,u);Object.assign(i,{[p]:m}),ak(s,l,`var(${p})`,d),ak(o,l,`var(${p}, ${m})`,d)}},l=>l[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function n3(n,e={}){const{getSelector:t=_,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:l="light",...u}=n,{vars:d,css:p,varsWithDefaults:m}=iS(u,e);let v=m;const w={},{[l]:S,...C}=s;if(Object.entries(C||{}).forEach(([M,F])=>{const{vars:L,css:j,varsWithDefaults:$}=iS(F,e);v=Wr(v,$),w[M]={css:j,vars:L}}),S){const{css:M,vars:F,varsWithDefaults:L}=iS(S,e);v=Wr(v,L),w[l]={css:M,vars:F}}function _(M,F){var j,$;let L=i;if(i==="class"&&(L=".%s"),i==="data"&&(L="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(L=`[${i}="%s"]`),M){if(L==="media")return n.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${(($=(j=s[M])==null?void 0:j.palette)==null?void 0:$.mode)||M})`]:{":root":F}};if(L)return n.defaultColorScheme===M?`:root, ${L.replace("%s",String(M))}`:L.replace("%s",String(M))}return":root"}return{vars:v,generateThemeVars:()=>{let M={...d};return Object.entries(w).forEach(([,{vars:F}])=>{M=Wr(M,F)}),M},generateStyleSheets:()=>{var W,q;const M=[],F=n.defaultColorScheme||"light";function L(R,se){Object.keys(se).length&&M.push(typeof R=="string"?{[R]:{...se}}:R)}L(t(void 0,{...p}),p);const{[F]:j,...$}=w;if(j){const{css:R}=j,se=(q=(W=s[F])==null?void 0:W.palette)==null?void 0:q.mode,he=!r&&se?{colorScheme:se,...R}:{...R};L(t(F,{...he}),he)}return Object.entries($).forEach(([R,{css:se}])=>{var ge,ue;const he=(ue=(ge=s[R])==null?void 0:ge.palette)==null?void 0:ue.mode,fe=!r&&he?{colorScheme:he,...se}:{...se};L(t(R,{...fe}),fe)}),M}}}function r3(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function eM(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_g.white,default:_g.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const i3=eM();function tM(){return{text:{primary:_g.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_g.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const lk=tM();function ck(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Lb(n.main,i):e==="dark"&&(n.dark=Nb(n.main,s)))}function s3(n="light"){return n==="dark"?{main:md[200],light:md[50],dark:md[400]}:{main:md[700],light:md[400],dark:md[800]}}function o3(n="light"){return n==="dark"?{main:gd[200],light:gd[50],dark:gd[400]}:{main:gd[500],light:gd[300],dark:gd[700]}}function a3(n="light"){return n==="dark"?{main:pd[500],light:pd[300],dark:pd[700]}:{main:pd[700],light:pd[400],dark:pd[800]}}function l3(n="light"){return n==="dark"?{main:yd[400],light:yd[300],dark:yd[700]}:{main:yd[700],light:yd[500],dark:yd[900]}}function c3(n="light"){return n==="dark"?{main:vd[400],light:vd[300],dark:vd[700]}:{main:vd[800],light:vd[500],dark:vd[900]}}function u3(n="light"){return n==="dark"?{main:Vp[400],light:Vp[300],dark:Vp[700]}:{main:"#ed6c02",light:Vp[500],dark:Vp[900]}}function Bb(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||s3(e),o=n.secondary||o3(e),l=n.error||a3(e),u=n.info||l3(e),d=n.success||c3(e),p=n.warning||u3(e);function m(C){return BB(C,lk.text.primary)>=t?lk.text.primary:i3.text.primary}const v=({color:C,name:_,mainShade:E=500,lightShade:P=300,darkShade:M=700})=>{if(C={...C},!C.main&&C[E]&&(C.main=C[E]),!C.hasOwnProperty("main"))throw new Error(Ja(11,_?` (${_})`:"",E));if(typeof C.main!="string")throw new Error(Ja(12,_?` (${_})`:"",JSON.stringify(C.main)));return ck(C,"light",P,r),ck(C,"dark",M,r),C.contrastText||(C.contrastText=m(C.main)),C};let w;return e==="light"?w=eM():e==="dark"&&(w=tM()),Wr({common:{..._g},mode:e,primary:v({color:s,name:"primary"}),secondary:v({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:p,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:d,name:"success"}),grey:yF,contrastThreshold:t,getContrastText:m,augmentColor:v,tonalOffset:r,...w},i)}function h3(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function d3(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function f3(n){return Math.round(n*1e5)/1e5}const uk={textTransform:"uppercase"},hk='"Roboto", "Helvetica", "Arial", sans-serif';function p3(n,e){const{fontFamily:t=hk,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:p,...m}=typeof e=="function"?e(n):e,v=r/14,w=p||(_=>`${_/u*v}rem`),S=(_,E,P,M,F)=>({fontFamily:t,fontWeight:_,fontSize:w(E),lineHeight:P,...t===hk?{letterSpacing:`${f3(M/E)}em`}:{},...F,...d}),C={h1:S(i,96,1.167,-1.5),h2:S(i,60,1.2,-.5),h3:S(s,48,1.167,0),h4:S(s,34,1.235,.25),h5:S(s,24,1.334,0),h6:S(o,20,1.6,.15),subtitle1:S(s,16,1.75,.15),subtitle2:S(o,14,1.57,.1),body1:S(s,16,1.5,.15),body2:S(s,14,1.43,.15),button:S(o,14,1.75,.4,uk),caption:S(s,12,1.66,.4),overline:S(s,12,2.66,1,uk),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Wr({htmlFontSize:u,pxToRem:w,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:l,...C},m,{clone:!1})}const g3=.2,m3=.14,y3=.12;function nn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${g3})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${m3})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${y3})`].join(",")}const v3=["none",nn(0,2,1,-1,0,1,1,0,0,1,3,0),nn(0,3,1,-2,0,2,2,0,0,1,5,0),nn(0,3,3,-2,0,3,4,0,0,1,8,0),nn(0,2,4,-1,0,4,5,0,0,1,10,0),nn(0,3,5,-1,0,5,8,0,0,1,14,0),nn(0,3,5,-1,0,6,10,0,0,1,18,0),nn(0,4,5,-2,0,7,10,1,0,2,16,1),nn(0,5,5,-3,0,8,10,1,0,3,14,2),nn(0,5,6,-3,0,9,12,1,0,3,16,2),nn(0,6,6,-3,0,10,14,1,0,4,18,3),nn(0,6,7,-4,0,11,15,1,0,4,20,3),nn(0,7,8,-4,0,12,17,2,0,5,22,4),nn(0,7,8,-4,0,13,19,2,0,5,24,4),nn(0,7,9,-4,0,14,21,2,0,5,26,4),nn(0,8,9,-5,0,15,22,2,0,6,28,5),nn(0,8,10,-5,0,16,24,2,0,6,30,5),nn(0,8,11,-5,0,17,26,2,0,6,32,5),nn(0,9,11,-5,0,18,28,2,0,7,34,6),nn(0,9,12,-6,0,19,29,2,0,7,36,6),nn(0,10,13,-6,0,20,31,3,0,8,38,7),nn(0,10,13,-6,0,21,33,3,0,8,40,7),nn(0,10,14,-6,0,22,35,3,0,8,42,7),nn(0,11,14,-7,0,23,36,3,0,9,44,8),nn(0,11,15,-7,0,24,38,3,0,9,46,8)],x3={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},S3={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function dk(n){return`${Math.round(n)}ms`}function w3(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function b3(n){const e={...x3,...n.easing},t={...S3,...n.duration};return{getAutoHeightDuration:w3,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:l=e.easeInOut,delay:u=0,...d}=s;return(Array.isArray(i)?i:[i]).map(p=>`${p} ${typeof o=="string"?o:dk(o)} ${l} ${typeof u=="string"?u:dk(u)}`).join(",")},...n,easing:e,duration:t}}const C3={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function _3(n){return $a(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function nM(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,l]=i[s];!_3(l)||o.startsWith("unstable_")?delete r[o]:$a(l)&&(r[o]={...l},t(r[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function cw(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:l={},shape:u,...d}=n;if(n.vars)throw new Error(Ja(20));const p=Bb(s),m=Db(n);let v=Wr(m,{mixins:d3(m.breakpoints,r),palette:p,shadows:v3.slice(),typography:p3(p,l),transitions:b3(o),zIndex:{...C3}});return v=Wr(v,d),v=e.reduce((w,S)=>Wr(w,S),v),v.unstable_sxConfig={...t1,...d==null?void 0:d.unstable_sxConfig},v.unstable_sx=function(S){return Ud({sx:S,theme:this})},v.toRuntimeSource=nM,v}function uw(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const k3=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=uw(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function rM(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function iM(n){return n==="dark"?k3:[]}function T3(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=Bb(e);return{palette:s,opacity:{...rM(s.mode),...t},overlays:r||iM(s.mode),...i}}function E3(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const O3=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],M3=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return O3(n.cssVarPrefix).forEach(l=>{o[l]=t[l],delete t[l]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function A3(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ce(n,e,t){!n[e]&&t&&(n[e]=t)}function eg(n){return typeof n!="string"||!n.startsWith("hsl")?n:GO(n)}function Na(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Zp(eg(n[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function P3(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Bo=n=>{try{return n()}catch{}},R3=(n="mui")=>ZB(n);function sS(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=T3({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=cw({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...rM(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||iM(i)},o}function D3(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=E3,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...d}=n,p=Object.keys(t)[0],m=r||(t.light&&p!=="light"?"light":p),v=R3(s),{[m]:w,light:S,dark:C,..._}=t,E={..._};let P=w;if((m==="dark"&&!("dark"in t)||m==="light"&&!("light"in t))&&(P=!0),!P)throw new Error(Ja(21,m));const M=sS(E,P,d,m);S&&!E.light&&sS(E,S,void 0,"light"),C&&!E.dark&&sS(E,C,void 0,"dark");let F={defaultColorScheme:m,...M,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:u,getCssVar:v,colorSchemes:E,font:{...h3(M.typography),...M.font},spacing:P3(d.spacing)};Object.keys(F.colorSchemes).forEach(q=>{const R=F.colorSchemes[q].palette,se=he=>{const fe=he.split("-"),ge=fe[1],ue=fe[2];return v(he,R[ge][ue])};if(R.mode==="light"&&(ce(R.common,"background","#fff"),ce(R.common,"onBackground","#000")),R.mode==="dark"&&(ce(R.common,"background","#000"),ce(R.common,"onBackground","#fff")),A3(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){ce(R.Alert,"errorColor",Vt(R.error.light,.6)),ce(R.Alert,"infoColor",Vt(R.info.light,.6)),ce(R.Alert,"successColor",Vt(R.success.light,.6)),ce(R.Alert,"warningColor",Vt(R.warning.light,.6)),ce(R.Alert,"errorFilledBg",se("palette-error-main")),ce(R.Alert,"infoFilledBg",se("palette-info-main")),ce(R.Alert,"successFilledBg",se("palette-success-main")),ce(R.Alert,"warningFilledBg",se("palette-warning-main")),ce(R.Alert,"errorFilledColor",Bo(()=>R.getContrastText(R.error.main))),ce(R.Alert,"infoFilledColor",Bo(()=>R.getContrastText(R.info.main))),ce(R.Alert,"successFilledColor",Bo(()=>R.getContrastText(R.success.main))),ce(R.Alert,"warningFilledColor",Bo(()=>R.getContrastText(R.warning.main))),ce(R.Alert,"errorStandardBg",Ut(R.error.light,.9)),ce(R.Alert,"infoStandardBg",Ut(R.info.light,.9)),ce(R.Alert,"successStandardBg",Ut(R.success.light,.9)),ce(R.Alert,"warningStandardBg",Ut(R.warning.light,.9)),ce(R.Alert,"errorIconColor",se("palette-error-main")),ce(R.Alert,"infoIconColor",se("palette-info-main")),ce(R.Alert,"successIconColor",se("palette-success-main")),ce(R.Alert,"warningIconColor",se("palette-warning-main")),ce(R.AppBar,"defaultBg",se("palette-grey-100")),ce(R.Avatar,"defaultBg",se("palette-grey-400")),ce(R.Button,"inheritContainedBg",se("palette-grey-300")),ce(R.Button,"inheritContainedHoverBg",se("palette-grey-A100")),ce(R.Chip,"defaultBorder",se("palette-grey-400")),ce(R.Chip,"defaultAvatarColor",se("palette-grey-700")),ce(R.Chip,"defaultIconColor",se("palette-grey-700")),ce(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ce(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ce(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ce(R.LinearProgress,"primaryBg",Ut(R.primary.main,.62)),ce(R.LinearProgress,"secondaryBg",Ut(R.secondary.main,.62)),ce(R.LinearProgress,"errorBg",Ut(R.error.main,.62)),ce(R.LinearProgress,"infoBg",Ut(R.info.main,.62)),ce(R.LinearProgress,"successBg",Ut(R.success.main,.62)),ce(R.LinearProgress,"warningBg",Ut(R.warning.main,.62)),ce(R.Skeleton,"bg",`rgba(${se("palette-text-primaryChannel")} / 0.11)`),ce(R.Slider,"primaryTrack",Ut(R.primary.main,.62)),ce(R.Slider,"secondaryTrack",Ut(R.secondary.main,.62)),ce(R.Slider,"errorTrack",Ut(R.error.main,.62)),ce(R.Slider,"infoTrack",Ut(R.info.main,.62)),ce(R.Slider,"successTrack",Ut(R.success.main,.62)),ce(R.Slider,"warningTrack",Ut(R.warning.main,.62));const he=fy(R.background.default,.8);ce(R.SnackbarContent,"bg",he),ce(R.SnackbarContent,"color",Bo(()=>R.getContrastText(he))),ce(R.SpeedDialAction,"fabHoverBg",fy(R.background.paper,.15)),ce(R.StepConnector,"border",se("palette-grey-400")),ce(R.StepContent,"border",se("palette-grey-400")),ce(R.Switch,"defaultColor",se("palette-common-white")),ce(R.Switch,"defaultDisabledColor",se("palette-grey-100")),ce(R.Switch,"primaryDisabledColor",Ut(R.primary.main,.62)),ce(R.Switch,"secondaryDisabledColor",Ut(R.secondary.main,.62)),ce(R.Switch,"errorDisabledColor",Ut(R.error.main,.62)),ce(R.Switch,"infoDisabledColor",Ut(R.info.main,.62)),ce(R.Switch,"successDisabledColor",Ut(R.success.main,.62)),ce(R.Switch,"warningDisabledColor",Ut(R.warning.main,.62)),ce(R.TableCell,"border",Ut(dy(R.divider,1),.88)),ce(R.Tooltip,"bg",dy(R.grey[700],.92))}if(R.mode==="dark"){ce(R.Alert,"errorColor",Ut(R.error.light,.6)),ce(R.Alert,"infoColor",Ut(R.info.light,.6)),ce(R.Alert,"successColor",Ut(R.success.light,.6)),ce(R.Alert,"warningColor",Ut(R.warning.light,.6)),ce(R.Alert,"errorFilledBg",se("palette-error-dark")),ce(R.Alert,"infoFilledBg",se("palette-info-dark")),ce(R.Alert,"successFilledBg",se("palette-success-dark")),ce(R.Alert,"warningFilledBg",se("palette-warning-dark")),ce(R.Alert,"errorFilledColor",Bo(()=>R.getContrastText(R.error.dark))),ce(R.Alert,"infoFilledColor",Bo(()=>R.getContrastText(R.info.dark))),ce(R.Alert,"successFilledColor",Bo(()=>R.getContrastText(R.success.dark))),ce(R.Alert,"warningFilledColor",Bo(()=>R.getContrastText(R.warning.dark))),ce(R.Alert,"errorStandardBg",Vt(R.error.light,.9)),ce(R.Alert,"infoStandardBg",Vt(R.info.light,.9)),ce(R.Alert,"successStandardBg",Vt(R.success.light,.9)),ce(R.Alert,"warningStandardBg",Vt(R.warning.light,.9)),ce(R.Alert,"errorIconColor",se("palette-error-main")),ce(R.Alert,"infoIconColor",se("palette-info-main")),ce(R.Alert,"successIconColor",se("palette-success-main")),ce(R.Alert,"warningIconColor",se("palette-warning-main")),ce(R.AppBar,"defaultBg",se("palette-grey-900")),ce(R.AppBar,"darkBg",se("palette-background-paper")),ce(R.AppBar,"darkColor",se("palette-text-primary")),ce(R.Avatar,"defaultBg",se("palette-grey-600")),ce(R.Button,"inheritContainedBg",se("palette-grey-800")),ce(R.Button,"inheritContainedHoverBg",se("palette-grey-700")),ce(R.Chip,"defaultBorder",se("palette-grey-700")),ce(R.Chip,"defaultAvatarColor",se("palette-grey-300")),ce(R.Chip,"defaultIconColor",se("palette-grey-300")),ce(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ce(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ce(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ce(R.LinearProgress,"primaryBg",Vt(R.primary.main,.5)),ce(R.LinearProgress,"secondaryBg",Vt(R.secondary.main,.5)),ce(R.LinearProgress,"errorBg",Vt(R.error.main,.5)),ce(R.LinearProgress,"infoBg",Vt(R.info.main,.5)),ce(R.LinearProgress,"successBg",Vt(R.success.main,.5)),ce(R.LinearProgress,"warningBg",Vt(R.warning.main,.5)),ce(R.Skeleton,"bg",`rgba(${se("palette-text-primaryChannel")} / 0.13)`),ce(R.Slider,"primaryTrack",Vt(R.primary.main,.5)),ce(R.Slider,"secondaryTrack",Vt(R.secondary.main,.5)),ce(R.Slider,"errorTrack",Vt(R.error.main,.5)),ce(R.Slider,"infoTrack",Vt(R.info.main,.5)),ce(R.Slider,"successTrack",Vt(R.success.main,.5)),ce(R.Slider,"warningTrack",Vt(R.warning.main,.5));const he=fy(R.background.default,.98);ce(R.SnackbarContent,"bg",he),ce(R.SnackbarContent,"color",Bo(()=>R.getContrastText(he))),ce(R.SpeedDialAction,"fabHoverBg",fy(R.background.paper,.15)),ce(R.StepConnector,"border",se("palette-grey-600")),ce(R.StepContent,"border",se("palette-grey-600")),ce(R.Switch,"defaultColor",se("palette-grey-300")),ce(R.Switch,"defaultDisabledColor",se("palette-grey-600")),ce(R.Switch,"primaryDisabledColor",Vt(R.primary.main,.55)),ce(R.Switch,"secondaryDisabledColor",Vt(R.secondary.main,.55)),ce(R.Switch,"errorDisabledColor",Vt(R.error.main,.55)),ce(R.Switch,"infoDisabledColor",Vt(R.info.main,.55)),ce(R.Switch,"successDisabledColor",Vt(R.success.main,.55)),ce(R.Switch,"warningDisabledColor",Vt(R.warning.main,.55)),ce(R.TableCell,"border",Vt(dy(R.divider,1),.68)),ce(R.Tooltip,"bg",dy(R.grey[700],.92))}Na(R.background,"default"),Na(R.background,"paper"),Na(R.common,"background"),Na(R.common,"onBackground"),Na(R,"divider"),Object.keys(R).forEach(he=>{const fe=R[he];he!=="tonalOffset"&&fe&&typeof fe=="object"&&(fe.main&&ce(R[he],"mainChannel",Zp(eg(fe.main))),fe.light&&ce(R[he],"lightChannel",Zp(eg(fe.light))),fe.dark&&ce(R[he],"darkChannel",Zp(eg(fe.dark))),fe.contrastText&&ce(R[he],"contrastTextChannel",Zp(eg(fe.contrastText))),he==="text"&&(Na(R[he],"primary"),Na(R[he],"secondary")),he==="action"&&(fe.active&&Na(R[he],"active"),fe.selected&&Na(R[he],"selected")))})}),F=e.reduce((q,R)=>Wr(q,R),F);const L={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:M3(F)},{vars:j,generateThemeVars:$,generateStyleSheets:W}=n3(F,L);return F.vars=j,Object.entries(F.colorSchemes[F.defaultColorScheme]).forEach(([q,R])=>{F[q]=R}),F.generateThemeVars=$,F.generateStyleSheets=W,F.generateSpacing=function(){return $O(d.spacing,Pb(this))},F.getColorSchemeSelector=r3(l),F.spacing=F.generateSpacing(),F.shouldSkipGeneratingVar=o,F.unstable_sxConfig={...t1,...d==null?void 0:d.unstable_sxConfig},F.unstable_sx=function(R){return Ud({sx:R,theme:this})},F.toRuntimeSource=nM,F}function fk(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Bb({...t===!0?{}:t.palette,mode:e})})}function I3(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...o}=n,l=s||"light",u=i==null?void 0:i[l],d={...i,...t?{[l]:{...typeof u!="boolean"&&u,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return cw(n,...e);let p=t;"palette"in n||d[l]&&(d[l]!==!0?p=d[l].palette:l==="dark"&&(p={mode:"dark"}));const m=cw({...n,palette:p},...e);return m.defaultColorScheme=l,m.colorSchemes=d,m.palette.mode==="light"&&(m.colorSchemes.light={...d.light!==!0&&d.light,palette:m.palette},fk(m,"dark",d.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:m.palette},fk(m,"light",d.light)),m}return!t&&!("light"in d)&&l==="light"&&(d.light=!0),D3({...o,colorSchemes:d,defaultColorScheme:l,...typeof r!="boolean"&&r},...e)}const jb=I3();function zb(){const n=WO(jb);return n[wb]||n}function sM(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const ta=n=>sM(n)&&n!=="classes",mt=AB({themeId:wb,defaultTheme:jb,rootShouldForwardProp:ta});function N3(n){return te.jsx(CB,{...n,defaultTheme:jb,themeId:wb})}function L3(n){return function(t){return te.jsx(N3,{styles:typeof n=="function"?r=>n({theme:r,...t}):n})}}const Vr=QB;function kr(n){return JB(n)}function F3(n){return Un("MuiSvgIcon",n)}or("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const B3=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Dn(e)}`,`fontSize${Dn(t)}`]};return ar(i,F3,r)},j3=mt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Dn(t.color)}`],e[`fontSize${Dn(t.fontSize)}`]]}})(Vr(({theme:n})=>{var e,t,r,i,s,o,l,u,d,p,m,v,w,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:C=>!C.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:p.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,C])=>C&&C.main).map(([C])=>{var _,E;return{props:{color:C},style:{color:(E=(_=(n.vars??n).palette)==null?void 0:_[C])==null?void 0:E.main}}}),{props:{color:"action"},style:{color:(v=(m=(n.vars??n).palette)==null?void 0:m.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(S=(w=(n.vars??n).palette)==null?void 0:w.action)==null?void 0:S.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),ov=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:l="svg",fontSize:u="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:m,viewBox:v="0 0 24 24",...w}=r,S=I.isValidElement(i)&&i.type==="svg",C={...r,color:o,component:l,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:v,hasSvgAsChild:S},_={};p||(_.viewBox=v);const E=B3(C);return te.jsxs(j3,{as:l,className:Bt(E.root,s),focusable:"false",color:d,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:t,..._,...w,...S&&i.props,ownerState:C,children:[S?i.props.children:i,m?te.jsx("title",{children:m}):null]})});ov&&(ov.muiName="SvgIcon");function z3(n,e){function t(r,i){return te.jsx(ov,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=ov.muiName,I.memo(I.forwardRef(t))}function $3(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function hw(n,e){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},hw(n,e)}function W3(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,hw(n,e)}const pk={disabled:!1},oM=Ze.createContext(null);var H3=function(e){return e.scrollTop},tg="unmounted",lu="exited",cu="entering",_d="entered",dw="exiting",na=function(n){W3(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?l?(u=lu,s.appearStatus=cu):u=_d:r.unmountOnExit||r.mountOnEnter?u=tg:u=lu,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===tg?{status:lu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==cu&&o!==_d&&(s=cu):(o===cu||o===_d)&&(s=dw)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===cu){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Jp.findDOMNode(this);o&&H3(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lu&&this.setState({status:tg})},t.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[Jp.findDOMNode(this),l],d=u[0],p=u[1],m=this.getTimeouts(),v=l?m.appear:m.enter;if(!i&&!o||pk.disabled){this.safeSetState({status:_d},function(){s.props.onEntered(d)});return}this.props.onEnter(d,p),this.safeSetState({status:cu},function(){s.props.onEntering(d,p),s.onTransitionEnd(v,function(){s.safeSetState({status:_d},function(){s.props.onEntered(d,p)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Jp.findDOMNode(this);if(!s||pk.disabled){this.safeSetState({status:lu},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:dw},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:lu},function(){i.props.onExited(l)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Jp.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=u[0],p=u[1];this.props.addEndListener(d,p)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===tg)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=$3(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ze.createElement(oM.Provider,{value:null},typeof o=="function"?o(i,l):Ze.cloneElement(Ze.Children.only(o),l))},e}(Ze.Component);na.contextType=oM;na.propTypes={};function xd(){}na.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xd,onEntering:xd,onEntered:xd,onExit:xd,onExiting:xd,onExited:xd};na.UNMOUNTED=tg;na.EXITED=lu;na.ENTERING=cu;na.ENTERED=_d;na.EXITING=dw;const aM=n=>n.scrollTop;function av(n,e){const{timeout:t,easing:r,style:i={}}=n;return{duration:i.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function V3(n){return Un("MuiPaper",n)}or("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const U3=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return ar(s,V3,i)},G3=mt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(Vr(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),X3=I.forwardRef(function(e,t){var w;const r=kr({props:e,name:"MuiPaper"}),i=zb(),{className:s,component:o="div",elevation:l=1,square:u=!1,variant:d="elevation",...p}=r,m={...r,component:o,elevation:l,square:u,variant:d},v=U3(m);return te.jsx(G3,{as:o,ownerState:m,className:Bt(v.root,s),ref:t,...p,style:{...d==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":(w=i.vars.overlays)==null?void 0:w[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${aw("#fff",uw(l))}, ${aw("#fff",uw(l))})`}},...p.style}})});function to(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,...l}=e,{component:u,slots:d={[n]:void 0},slotProps:p={[n]:void 0},...m}=s,v=d[n]||r,w=ZO(p[n],i),{props:{component:S,...C},internalRef:_}=QO({className:t,...l,externalForwardedProps:n==="root"?m:void 0,externalSlotProps:w}),E=Ii(_,w==null?void 0:w.ref,e.ref),P=n==="root"?S||u:S,M=qO(v,{...n==="root"&&!u&&!d[n]&&o,...n!=="root"&&!d[n]&&o,...C,...P&&{as:P},ref:E},i);return[v,M]}function Y3(n){return typeof n.main=="string"}function K3(n,e=[]){if(!Y3(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function r1(n=[]){return([,e])=>e&&K3(e,n)}function q3(n){return typeof n=="function"?n():n}const J3=I.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[o,l]=I.useState(null),u=Ii(I.isValidElement(r)?Kg(r):null,t);if(Ru(()=>{s||l(q3(i)||document.body)},[i,s]),Ru(()=>{if(o&&!s)return lw(t,o),()=>{lw(t,null)}},[t,o,s]),s){if(I.isValidElement(r)){const d={ref:u};return I.cloneElement(r,d)}return r}return o&&wE.createPortal(r,o)});function py(n){return parseInt(n,10)||0}const Q3={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Z3(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflowing}const ej=I.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:l,...u}=e,{current:d}=I.useRef(l!=null),p=I.useRef(null),m=Ii(t,p),v=I.useRef(null),w=I.useRef(null),S=I.useCallback(()=>{const E=p.current,M=Za(E).getComputedStyle(E);if(M.width==="0px")return{outerHeightStyle:0,overflowing:!1};const F=w.current;F.style.width=M.width,F.value=E.value||e.placeholder||"x",F.value.slice(-1)===`
`&&(F.value+=" ");const L=M.boxSizing,j=py(M.paddingBottom)+py(M.paddingTop),$=py(M.borderBottomWidth)+py(M.borderTopWidth),W=F.scrollHeight;F.value="x";const q=F.scrollHeight;let R=W;s&&(R=Math.max(Number(s)*q,R)),i&&(R=Math.min(Number(i)*q,R)),R=Math.max(R,q);const se=R+(L==="border-box"?j+$:0),he=Math.abs(R-W)<=1;return{outerHeightStyle:se,overflowing:he}},[i,s,e.placeholder]),C=I.useCallback(()=>{const E=S();if(Z3(E))return;const P=E.outerHeightStyle,M=p.current;v.current!==P&&(v.current=P,M.style.height=`${P}px`),M.style.overflow=E.overflowing?"hidden":""},[S]);Ru(()=>{const E=()=>{C()};let P;const M=XO(E),F=p.current,L=Za(F);L.addEventListener("resize",M);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(E),j.observe(F)),()=>{M.clear(),cancelAnimationFrame(P),L.removeEventListener("resize",M),j&&j.disconnect()}},[S,C]),Ru(()=>{C()});const _=E=>{d||C(),r&&r(E)};return te.jsxs(I.Fragment,{children:[te.jsx("textarea",{value:l,onChange:_,ref:m,rows:s,style:o,...u}),te.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:w,tabIndex:-1,style:{...Q3.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function fw(n){return typeof n=="string"}function lf({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const $b=I.createContext(void 0);function cf(){return I.useContext($b)}function gk(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function lv(n,e=!1){return n&&(gk(n.value)&&n.value!==""||e&&gk(n.defaultValue)&&n.defaultValue!=="")}function tj(n){return n.startAdornment}function nj(n){return Un("MuiInputBase",n)}const Gd=or("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var mk;const i1=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Dn(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},s1=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},rj=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:s,focused:o,formControl:l,fullWidth:u,hiddenLabel:d,multiline:p,readOnly:m,size:v,startAdornment:w,type:S}=n,C={root:["root",`color${Dn(t)}`,r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",l&&"formControl",v&&v!=="medium"&&`size${Dn(v)}`,p&&"multiline",w&&"adornedStart",s&&"adornedEnd",d&&"hiddenLabel",m&&"readOnly"],input:["input",r&&"disabled",S==="search"&&"inputTypeSearch",p&&"inputMultiline",v==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",w&&"inputAdornedStart",s&&"inputAdornedEnd",m&&"readOnly"]};return ar(C,nj,e)},o1=mt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:i1})(Vr(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Gd.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),a1=mt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:s1})(Vr(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},r={opacity:"0 !important"},i=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Gd.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Gd.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),yk=L3({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Wb=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:l,color:u,components:d={},componentsProps:p={},defaultValue:m,disabled:v,disableInjectingGlobalStyles:w,endAdornment:S,error:C,fullWidth:_=!1,id:E,inputComponent:P="input",inputProps:M={},inputRef:F,margin:L,maxRows:j,minRows:$,multiline:W=!1,name:q,onBlur:R,onChange:se,onClick:he,onFocus:fe,onKeyDown:ge,onKeyUp:ue,placeholder:Se,readOnly:Ce,renderSuffix:ee,rows:_e,size:ye,slotProps:V={},slots:ae={},startAdornment:Te,type:Ee="text",value:Oe,...Ie}=r,Ve=M.value!=null?M.value:Oe,{current:Ye}=I.useRef(Ve!=null),Ue=I.useRef(),$e=I.useCallback(St=>{},[]),pt=Ii(Ue,F,M.ref,$e),[ut,on]=I.useState(!1),tt=cf(),Tt=lf({props:r,muiFormControl:tt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Tt.focused=tt?tt.focused:ut,I.useEffect(()=>{!tt&&v&&ut&&(on(!1),R&&R())},[tt,v,ut,R]);const Gr=tt&&tt.onFilled,en=tt&&tt.onEmpty,Gn=I.useCallback(St=>{lv(St)?Gr&&Gr():en&&en()},[Gr,en]);Ru(()=>{Ye&&Gn({value:Ve})},[Ve,Gn,Ye]);const lr=St=>{fe&&fe(St),M.onFocus&&M.onFocus(St),tt&&tt.onFocus?tt.onFocus(St):on(!0)},Tn=St=>{R&&R(St),M.onBlur&&M.onBlur(St),tt&&tt.onBlur?tt.onBlur(St):on(!1)},ot=(St,...Rs)=>{if(!Ye){const ns=St.target||Ue.current;if(ns==null)throw new Error(Ja(1));Gn({value:ns.value})}M.onChange&&M.onChange(St,...Rs),se&&se(St,...Rs)};I.useEffect(()=>{Gn(Ue.current)},[]);const cr=St=>{Ue.current&&St.currentTarget===St.target&&Ue.current.focus(),he&&he(St)};let Tr=P,Nn=M;W&&Tr==="input"&&(_e?Nn={type:void 0,minRows:_e,maxRows:_e,...Nn}:Nn={type:void 0,maxRows:j,minRows:$,...Nn},Tr=ej);const ts=St=>{Gn(St.animationName==="mui-auto-fill-cancel"?Ue.current:{value:"x"})};I.useEffect(()=>{tt&&tt.setAdornedStart(!!Te)},[tt,Te]);const Ps={...r,color:Tt.color||"primary",disabled:Tt.disabled,endAdornment:S,error:Tt.error,focused:Tt.focused,formControl:tt,fullWidth:_,hiddenLabel:Tt.hiddenLabel,multiline:W,size:Tt.size,startAdornment:Te,type:Ee},Er=rj(Ps),ur=ae.root||d.Root||o1,Xr=V.root||p.root||{},Or=ae.input||d.Input||a1;return Nn={...Nn,...V.input??p.input},te.jsxs(I.Fragment,{children:[!w&&typeof yk=="function"&&(mk||(mk=te.jsx(yk,{}))),te.jsxs(ur,{...Xr,ref:t,onClick:cr,...Ie,...!fw(ur)&&{ownerState:{...Ps,...Xr.ownerState}},className:Bt(Er.root,Xr.className,l,Ce&&"MuiInputBase-readOnly"),children:[Te,te.jsx($b.Provider,{value:null,children:te.jsx(Or,{"aria-invalid":Tt.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:m,disabled:Tt.disabled,id:E,onAnimationStart:ts,name:q,placeholder:Se,readOnly:Ce,required:Tt.required,rows:_e,value:Ve,onKeyDown:ge,onKeyUp:ue,type:Ee,...Nn,...!fw(Or)&&{as:Tr,ownerState:{...Ps,...Nn.ownerState}},ref:pt,className:Bt(Er.input,Nn.className,Ce&&"MuiInputBase-readOnly"),onBlur:Tn,onChange:ot,onFocus:lr})}),S,ee?ee({...Tt,startAdornment:Te}):null]})]})});function ij(n){return Un("MuiInput",n)}const Gp={...Gd,...or("MuiInput",["root","underline","input"])};function sj(n){return Un("MuiOutlinedInput",n)}const jo={...Gd,...or("MuiOutlinedInput",["root","notchedOutline","input"])};function oj(n){return Un("MuiFilledInput",n)}const au={...Gd,...or("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},aj=z3(te.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),lj={entering:{opacity:1},entered:{opacity:1}},cj=I.forwardRef(function(e,t){const r=zb(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:l,easing:u,in:d,onEnter:p,onEntered:m,onEntering:v,onExit:w,onExited:S,onExiting:C,style:_,timeout:E=i,TransitionComponent:P=na,...M}=e,F=I.useRef(null),L=Ii(F,Kg(l),t),j=ge=>ue=>{if(ge){const Se=F.current;ue===void 0?ge(Se):ge(Se,ue)}},$=j(v),W=j((ge,ue)=>{aM(ge);const Se=av({style:_,timeout:E,easing:u},{mode:"enter"});ge.style.webkitTransition=r.transitions.create("opacity",Se),ge.style.transition=r.transitions.create("opacity",Se),p&&p(ge,ue)}),q=j(m),R=j(C),se=j(ge=>{const ue=av({style:_,timeout:E,easing:u},{mode:"exit"});ge.style.webkitTransition=r.transitions.create("opacity",ue),ge.style.transition=r.transitions.create("opacity",ue),w&&w(ge)}),he=j(S),fe=ge=>{s&&s(F.current,ge)};return te.jsx(P,{appear:o,in:d,nodeRef:F,onEnter:W,onEntered:q,onEntering:$,onExit:se,onExited:he,onExiting:R,addEndListener:fe,timeout:E,...M,children:(ge,ue)=>I.cloneElement(l,{style:{opacity:0,visibility:ge==="exited"&&!d?"hidden":void 0,...lj[ge],..._,...l.props.style},ref:L,...ue})})});function uj(n){return Un("MuiBackdrop",n)}or("MuiBackdrop",["root","invisible"]);const hj=n=>{const{ownerState:e,...t}=n;return t},dj=n=>{const{classes:e,invisible:t}=n;return ar({root:["root",t&&"invisible"]},uj,e)},fj=mt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),pj=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:l=!1,open:u,components:d={},componentsProps:p={},slotProps:m={},slots:v={},TransitionComponent:w,transitionDuration:S,...C}=r,_={...r,component:o,invisible:l},E=dj(_),P={transition:w,root:d.Root,...v},M={...p,...m},F={slots:P,slotProps:M},[L,j]=to("root",{elementType:fj,externalForwardedProps:F,className:Bt(E.root,s),ownerState:_}),[$,W]=to("transition",{elementType:cj,externalForwardedProps:F,ownerState:_}),q=hj(W);return te.jsx($,{in:u,timeout:S,...C,...q,children:te.jsx(L,{"aria-hidden":!0,...j,classes:E,ref:t,children:i})})});function gj(n){const e=lo(n);return e.body===n?Za(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function hg(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function vk(n){return parseInt(Za(n).getComputedStyle(n).paddingRight,10)||0}function mj(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function xk(n,e,t,r,i){const s=[e,t,...r];[].forEach.call(n.children,o=>{const l=!s.includes(o),u=!mj(o);l&&u&&hg(o,i)})}function oS(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function yj(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(gj(r)){const o=KO(Za(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${vk(r)+o}px`;const l=lo(r).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{t.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${vk(u)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=lo(r).body;else{const o=r.parentElement,l=Za(r);s=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:o,property:l})=>{s?o.style.setProperty(l,s):o.style.removeProperty(l)})}}function vj(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class xj{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&hg(e.modalRef,!1);const i=vj(t);xk(t,e.mount,e.modalRef,i,!0);const s=oS(this.containers,o=>o.container===t);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=oS(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=yj(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=oS(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&hg(e.modalRef,t),xk(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&hg(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Sj=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function wj(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function bj(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function Cj(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||bj(n))}function _j(n){const e=[],t=[];return Array.from(n.querySelectorAll(Sj)).forEach((r,i)=>{const s=wj(r);s===-1||!Cj(r)||(s===0?e.push(r):t.push({documentOrder:i,tabIndex:s,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function kj(){return!0}function Tj(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=_j,isEnabled:o=kj,open:l}=n,u=I.useRef(!1),d=I.useRef(null),p=I.useRef(null),m=I.useRef(null),v=I.useRef(null),w=I.useRef(!1),S=I.useRef(null),C=Ii(Kg(e),S),_=I.useRef(null);I.useEffect(()=>{!l||!S.current||(w.current=!t)},[t,l]),I.useEffect(()=>{if(!l||!S.current)return;const M=lo(S.current);return S.current.contains(M.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),w.current&&S.current.focus()),()=>{i||(m.current&&m.current.focus&&(u.current=!0,m.current.focus()),m.current=null)}},[l]),I.useEffect(()=>{if(!l||!S.current)return;const M=lo(S.current),F=$=>{_.current=$,!(r||!o()||$.key!=="Tab")&&M.activeElement===S.current&&$.shiftKey&&(u.current=!0,p.current&&p.current.focus())},L=()=>{var q,R;const $=S.current;if($===null)return;if(!M.hasFocus()||!o()||u.current){u.current=!1;return}if($.contains(M.activeElement)||r&&M.activeElement!==d.current&&M.activeElement!==p.current)return;if(M.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!w.current)return;let W=[];if((M.activeElement===d.current||M.activeElement===p.current)&&(W=s(S.current)),W.length>0){const se=!!((q=_.current)!=null&&q.shiftKey&&((R=_.current)==null?void 0:R.key)==="Tab"),he=W[0],fe=W[W.length-1];typeof he!="string"&&typeof fe!="string"&&(se?fe.focus():he.focus())}else $.focus()};M.addEventListener("focusin",L),M.addEventListener("keydown",F,!0);const j=setInterval(()=>{M.activeElement&&M.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(j),M.removeEventListener("focusin",L),M.removeEventListener("keydown",F,!0)}},[t,r,i,o,l,s]);const E=M=>{m.current===null&&(m.current=M.relatedTarget),w.current=!0,v.current=M.target;const F=e.props.onFocus;F&&F(M)},P=M=>{m.current===null&&(m.current=M.relatedTarget),w.current=!0};return te.jsxs(I.Fragment,{children:[te.jsx("div",{tabIndex:l?0:-1,onFocus:P,ref:d,"data-testid":"sentinelStart"}),I.cloneElement(e,{ref:C,onFocus:E}),te.jsx("div",{tabIndex:l?0:-1,onFocus:P,ref:p,"data-testid":"sentinelEnd"})]})}function Ej(n){return typeof n=="function"?n():n}function Oj(n){return n?n.props.hasOwnProperty("in"):!1}const Sk=()=>{},gy=new xj;function Mj(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:l,onClose:u,open:d,rootRef:p}=n,m=I.useRef({}),v=I.useRef(null),w=I.useRef(null),S=Ii(w,p),[C,_]=I.useState(!d),E=Oj(l);let P=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(P=!1);const M=()=>lo(v.current),F=()=>(m.current.modalRef=w.current,m.current.mount=v.current,m.current),L=()=>{gy.mount(F(),{disableScrollLock:r}),w.current&&(w.current.scrollTop=0)},j=nk(()=>{const ue=Ej(e)||M().body;gy.add(F(),ue),w.current&&L()}),$=()=>gy.isTopModal(F()),W=nk(ue=>{v.current=ue,ue&&(d&&$()?L():w.current&&hg(w.current,P))}),q=I.useCallback(()=>{gy.remove(F(),P)},[P]);I.useEffect(()=>()=>{q()},[q]),I.useEffect(()=>{d?j():(!E||!i)&&q()},[d,q,E,i,j]);const R=ue=>Se=>{var Ce;(Ce=ue.onKeyDown)==null||Ce.call(ue,Se),!(Se.key!=="Escape"||Se.which===229||!$())&&(t||(Se.stopPropagation(),u&&u(Se,"escapeKeyDown")))},se=ue=>Se=>{var Ce;(Ce=ue.onClick)==null||Ce.call(ue,Se),Se.target===Se.currentTarget&&u&&u(Se,"backdropClick")};return{getRootProps:(ue={})=>{const Se=JO(n);delete Se.onTransitionEnter,delete Se.onTransitionExited;const Ce={...Se,...ue};return{role:"presentation",...Ce,onKeyDown:R(Ce),ref:S}},getBackdropProps:(ue={})=>{const Se=ue;return{"aria-hidden":!0,...Se,onClick:se(Se),open:d}},getTransitionProps:()=>{const ue=()=>{_(!1),s&&s()},Se=()=>{_(!0),o&&o(),i&&q()};return{onEnter:Q_(ue,(l==null?void 0:l.props.onEnter)??Sk),onExited:Q_(Se,(l==null?void 0:l.props.onExited)??Sk)}},rootRef:S,portalRef:W,isTopModal:$,exited:C,hasTransition:E}}function Aj(n){return Un("MuiModal",n)}or("MuiModal",["root","hidden","backdrop"]);const Pj=n=>{const{open:e,exited:t,classes:r}=n;return ar({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},Aj,r)},Rj=mt("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(Vr(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Dj=mt(pj,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),Ij=I.forwardRef(function(e,t){const r=kr({name:"MuiModal",props:e}),{BackdropComponent:i=Dj,BackdropProps:s,classes:o,className:l,closeAfterTransition:u=!1,children:d,container:p,component:m,components:v={},componentsProps:w={},disableAutoFocus:S=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:_=!1,disablePortal:E=!1,disableRestoreFocus:P=!1,disableScrollLock:M=!1,hideBackdrop:F=!1,keepMounted:L=!1,onBackdropClick:j,onClose:$,onTransitionEnter:W,onTransitionExited:q,open:R,slotProps:se={},slots:he={},theme:fe,...ge}=r,ue={...r,closeAfterTransition:u,disableAutoFocus:S,disableEnforceFocus:C,disableEscapeKeyDown:_,disablePortal:E,disableRestoreFocus:P,disableScrollLock:M,hideBackdrop:F,keepMounted:L},{getRootProps:Se,getBackdropProps:Ce,getTransitionProps:ee,portalRef:_e,isTopModal:ye,exited:V,hasTransition:ae}=Mj({...ue,rootRef:t}),Te={...ue,exited:V},Ee=Pj(Te),Oe={};if(d.props.tabIndex===void 0&&(Oe.tabIndex="-1"),ae){const{onEnter:ut,onExited:on}=ee();Oe.onEnter=ut,Oe.onExited=on}const Ie={...ge,slots:{root:v.Root,backdrop:v.Backdrop,...he},slotProps:{...w,...se}},[Ve,Ye]=to("root",{elementType:Rj,externalForwardedProps:Ie,getSlotProps:Se,additionalProps:{ref:t,as:m},ownerState:Te,className:Bt(l,Ee==null?void 0:Ee.root,!Te.open&&Te.exited&&(Ee==null?void 0:Ee.hidden))}),[Ue,$e]=to("backdrop",{elementType:i,externalForwardedProps:Ie,additionalProps:s,getSlotProps:ut=>Ce({...ut,onClick:on=>{j&&j(on),ut!=null&&ut.onClick&&ut.onClick(on)}}),className:Bt(s==null?void 0:s.className,Ee==null?void 0:Ee.backdrop),ownerState:Te}),pt=Ii(s==null?void 0:s.ref,$e.ref);return!L&&!R&&(!ae||V)?null:te.jsx(J3,{ref:_e,container:p,disablePortal:E,children:te.jsxs(Ve,{...Ye,children:[!F&&i?te.jsx(Ue,{...$e,ref:pt}):null,te.jsx(Tj,{disableEnforceFocus:C,disableAutoFocus:S,disableRestoreFocus:P,isEnabled:ye,open:R,children:I.cloneElement(d,Oe)})]})})}),Nj=n=>{const{classes:e,disableUnderline:t,startAdornment:r,endAdornment:i,size:s,hiddenLabel:o,multiline:l}=n,u={root:["root",!t&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${Dn(s)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},d=ar(u,oj,e);return{...e,...d}},Lj=mt(o1,{shouldForwardProp:n=>ta(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...i1(n,e),!t.disableUnderline&&e.underline]}})(Vr(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r}},[`&.${au.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r},[`&.${au.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${au.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${au.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${au.disabled}, .${au.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${au.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(r1()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(n.vars||n).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Fj=mt(a1,{name:"MuiFilledInput",slot:"Input",overridesResolver:s1})(Vr(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),cv=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:l=!1,hiddenLabel:u,inputComponent:d="input",multiline:p=!1,slotProps:m,slots:v={},type:w="text",...S}=r,C={...r,disableUnderline:i,fullWidth:l,inputComponent:d,multiline:p,type:w},_=Nj(r),E={root:{ownerState:C},input:{ownerState:C}},P=m??o?Wr(E,m??o):E,M=v.root??s.Root??Lj,F=v.input??s.Input??Fj;return te.jsx(Wb,{slots:{root:M,input:F},slotProps:P,fullWidth:l,inputComponent:d,multiline:p,ref:t,type:w,...S,classes:_})});cv&&(cv.muiName="Input");function Bj(n){return Un("MuiFormControl",n)}or("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const jj=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${Dn(t)}`,r&&"fullWidth"]};return ar(i,Bj,e)},zj=mt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:n},e)=>({...e.root,...e[`margin${Dn(n.margin)}`],...n.fullWidth&&e.fullWidth})})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),$j=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:l="div",disabled:u=!1,error:d=!1,focused:p,fullWidth:m=!1,hiddenLabel:v=!1,margin:w="none",required:S=!1,size:C="medium",variant:_="outlined",...E}=r,P={...r,color:o,component:l,disabled:u,error:d,fullWidth:m,hiddenLabel:v,margin:w,required:S,size:C,variant:_},M=jj(P),[F,L]=I.useState(()=>{let fe=!1;return i&&I.Children.forEach(i,ge=>{if(!rS(ge,["Input","Select"]))return;const ue=rS(ge,["Select"])?ge.props.input:ge;ue&&tj(ue.props)&&(fe=!0)}),fe}),[j,$]=I.useState(()=>{let fe=!1;return i&&I.Children.forEach(i,ge=>{rS(ge,["Input","Select"])&&(lv(ge.props,!0)||lv(ge.props.inputProps,!0))&&(fe=!0)}),fe}),[W,q]=I.useState(!1);u&&W&&q(!1);const R=p!==void 0&&!u?p:W;let se;I.useRef(!1);const he=I.useMemo(()=>({adornedStart:F,setAdornedStart:L,color:o,disabled:u,error:d,filled:j,focused:R,fullWidth:m,hiddenLabel:v,size:C,onBlur:()=>{q(!1)},onEmpty:()=>{$(!1)},onFilled:()=>{$(!0)},onFocus:()=>{q(!0)},registerEffect:se,required:S,variant:_}),[F,o,u,d,j,R,m,v,se,S,C,_]);return te.jsx($b.Provider,{value:he,children:te.jsx(zj,{as:l,ownerState:P,className:Bt(M.root,s),ref:t,...E,children:i})})});function Wj(n){return Un("MuiFormHelperText",n)}const wk=or("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var bk;const Hj=n=>{const{classes:e,contained:t,size:r,disabled:i,error:s,filled:o,focused:l,required:u}=n,d={root:["root",i&&"disabled",s&&"error",r&&`size${Dn(r)}`,t&&"contained",l&&"focused",o&&"filled",u&&"required"]};return ar(d,Wj,e)},Vj=mt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Dn(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(Vr(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${wk.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${wk.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),Uj=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:l,error:u,filled:d,focused:p,margin:m,required:v,variant:w,...S}=r,C=cf(),_=lf({props:r,muiFormControl:C,states:["variant","size","disabled","error","filled","focused","required"]}),E={...r,component:o,contained:_.variant==="filled"||_.variant==="outlined",variant:_.variant,size:_.size,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required};delete E.ownerState;const P=Hj(E);return te.jsx(Vj,{as:o,className:Bt(P.root,s),ref:t,...S,ownerState:E,children:i===" "?bk||(bk=te.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function Gj(n){return Un("MuiFormLabel",n)}const dg=or("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Xj=n=>{const{classes:e,color:t,focused:r,disabled:i,error:s,filled:o,required:l}=n,u={root:["root",`color${Dn(t)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",s&&"error"]};return ar(u,Gj,e)},Yj=mt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:n},e)=>({...e.root,...n.color==="secondary"&&e.colorSecondary,...n.filled&&e.filled})})(Vr(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(r1()).map(([e])=>({props:{color:e},style:{[`&.${dg.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${dg.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${dg.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),Kj=mt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(Vr(({theme:n})=>({[`&.${dg.error}`]:{color:(n.vars||n).palette.error.main}}))),qj=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:o,component:l="label",disabled:u,error:d,filled:p,focused:m,required:v,...w}=r,S=cf(),C=lf({props:r,muiFormControl:S,states:["color","required","focused","disabled","error","filled"]}),_={...r,color:C.color||"primary",component:l,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required},E=Xj(_);return te.jsxs(Yj,{as:l,ownerState:_,className:Bt(E.root,s),ref:t,...w,children:[i,C.required&&te.jsxs(Kj,{ownerState:_,"aria-hidden":!0,className:E.asterisk,children:[" ","*"]})]})});function pw(n){return`scale(${n}, ${n**2})`}const Jj={entering:{opacity:1,transform:pw(1)},entered:{opacity:1,transform:"none"}},aS=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),gw=I.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:l,onEnter:u,onEntered:d,onEntering:p,onExit:m,onExited:v,onExiting:w,style:S,timeout:C="auto",TransitionComponent:_=na,...E}=e,P=UB(),M=I.useRef(),F=zb(),L=I.useRef(null),j=Ii(L,Kg(s),t),$=ue=>Se=>{if(ue){const Ce=L.current;Se===void 0?ue(Ce):ue(Ce,Se)}},W=$(p),q=$((ue,Se)=>{aM(ue);const{duration:Ce,delay:ee,easing:_e}=av({style:S,timeout:C,easing:o},{mode:"enter"});let ye;C==="auto"?(ye=F.transitions.getAutoHeightDuration(ue.clientHeight),M.current=ye):ye=Ce,ue.style.transition=[F.transitions.create("opacity",{duration:ye,delay:ee}),F.transitions.create("transform",{duration:aS?ye:ye*.666,delay:ee,easing:_e})].join(","),u&&u(ue,Se)}),R=$(d),se=$(w),he=$(ue=>{const{duration:Se,delay:Ce,easing:ee}=av({style:S,timeout:C,easing:o},{mode:"exit"});let _e;C==="auto"?(_e=F.transitions.getAutoHeightDuration(ue.clientHeight),M.current=_e):_e=Se,ue.style.transition=[F.transitions.create("opacity",{duration:_e,delay:Ce}),F.transitions.create("transform",{duration:aS?_e:_e*.666,delay:aS?Ce:Ce||_e*.333,easing:ee})].join(","),ue.style.opacity=0,ue.style.transform=pw(.75),m&&m(ue)}),fe=$(v),ge=ue=>{C==="auto"&&P.start(M.current||0,ue),r&&r(L.current,ue)};return te.jsx(_,{appear:i,in:l,nodeRef:L,onEnter:q,onEntered:R,onEntering:W,onExit:he,onExited:fe,onExiting:se,addEndListener:ge,timeout:C==="auto"?null:C,...E,children:(ue,Se)=>I.cloneElement(s,{style:{opacity:0,transform:pw(.75),visibility:ue==="exited"&&!l?"hidden":void 0,...Jj[ue],...S,...s.props.style},ref:j,...Se})})});gw&&(gw.muiSupportAuto=!0);const Qj=n=>{const{classes:e,disableUnderline:t}=n,i=ar({root:["root",!t&&"underline"],input:["input"]},ij,e);return{...e,...i}},Zj=mt(o1,{shouldForwardProp:n=>ta(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...i1(n,e),!t.disableUnderline&&e.underline]}})(Vr(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gp.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gp.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gp.disabled}, .${Gp.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Gp.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(r1()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[r].main}`}}}))]}})),ez=mt(a1,{name:"MuiInput",slot:"Input",overridesResolver:s1})({}),uv=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:l=!1,inputComponent:u="input",multiline:d=!1,slotProps:p,slots:m={},type:v="text",...w}=r,S=Qj(r),_={root:{ownerState:{disableUnderline:i}}},E=p??o?Wr(p??o,_):_,P=m.root??s.Root??Zj,M=m.input??s.Input??ez;return te.jsx(Wb,{slots:{root:P,input:M},slotProps:E,fullWidth:l,inputComponent:u,multiline:d,ref:t,type:v,...w,classes:S})});uv&&(uv.muiName="Input");function tz(n){return Un("MuiInputLabel",n)}or("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const nz=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:s,variant:o,required:l}=n,u={root:["root",t&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Dn(r)}`,o],asterisk:[l&&"asterisk"]},d=ar(u,tz,e);return{...e,...d}},rz=mt(qj,{shouldForwardProp:n=>ta(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${dg.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(Vr(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>e==="filled"&&t.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),iz=I.forwardRef(function(e,t){const r=kr({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:o,variant:l,className:u,...d}=r,p=cf();let m=o;typeof m>"u"&&p&&(m=p.filled||p.focused||p.adornedStart);const v=lf({props:r,muiFormControl:p,states:["size","variant","required","focused"]}),w={...r,disableAnimation:i,formControl:p,shrink:m,size:v.size,variant:v.variant,required:v.required,focused:v.focused},S=nz(w);return te.jsx(rz,{"data-shrink":m,ref:t,className:Bt(S.root,u),...d,ownerState:w,classes:S})}),sz=I.createContext({});function oz(n){return Un("MuiList",n)}or("MuiList",["root","padding","dense","subheader"]);const az=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return ar({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},oz,e)},lz=mt("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),cz=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:l=!1,disablePadding:u=!1,subheader:d,...p}=r,m=I.useMemo(()=>({dense:l}),[l]),v={...r,component:o,dense:l,disablePadding:u},w=az(v);return te.jsx(sz.Provider,{value:m,children:te.jsxs(lz,{as:o,className:Bt(w.root,s),ref:t,ownerState:v,...p,children:[d,i]})})});function lS(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function Ck(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function lM(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function Xp(n,e,t,r,i,s){let o=!1,l=i(n,e,e?t:!1);for(;l;){if(l===n.firstChild){if(o)return!1;o=!0}const u=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!lM(l,s)||u)l=i(n,l,t);else return l.focus(),!0}return!1}const uz=I.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:l,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:p,variant:m="selectedMenu",...v}=e,w=I.useRef(null),S=I.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ru(()=>{i&&w.current.focus()},[i]),I.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(M,{direction:F})=>{const L=!w.current.style.width;if(M.clientHeight<w.current.clientHeight&&L){const j=`${KO(Za(M))}px`;w.current.style[F==="rtl"?"paddingLeft":"paddingRight"]=j,w.current.style.width=`calc(100% + ${j})`}return w.current}}),[]);const C=M=>{const F=w.current,L=M.key;if(M.ctrlKey||M.metaKey||M.altKey){p&&p(M);return}const $=lo(F).activeElement;if(L==="ArrowDown")M.preventDefault(),Xp(F,$,d,u,lS);else if(L==="ArrowUp")M.preventDefault(),Xp(F,$,d,u,Ck);else if(L==="Home")M.preventDefault(),Xp(F,null,d,u,lS);else if(L==="End")M.preventDefault(),Xp(F,null,d,u,Ck);else if(L.length===1){const W=S.current,q=L.toLowerCase(),R=performance.now();W.keys.length>0&&(R-W.lastTime>500?(W.keys=[],W.repeating=!0,W.previousKeyMatched=!0):W.repeating&&q!==W.keys[0]&&(W.repeating=!1)),W.lastTime=R,W.keys.push(q);const se=$&&!W.repeating&&lM($,W);W.previousKeyMatched&&(se||Xp(F,$,!1,u,lS,W))?M.preventDefault():W.previousKeyMatched=!1}p&&p(M)},_=Ii(w,t);let E=-1;I.Children.forEach(o,(M,F)=>{if(!I.isValidElement(M)){E===F&&(E+=1,E>=o.length&&(E=-1));return}M.props.disabled||(m==="selectedMenu"&&M.props.selected||E===-1)&&(E=F),E===F&&(M.props.disabled||M.props.muiSkipListHighlight||M.type.muiSkipListHighlight)&&(E+=1,E>=o.length&&(E=-1))});const P=I.Children.map(o,(M,F)=>{if(F===E){const L={};return s&&(L.autoFocus=!0),M.props.tabIndex===void 0&&m==="selectedMenu"&&(L.tabIndex=0),I.cloneElement(M,L)}return M});return te.jsx(cz,{role:"menu",ref:_,className:l,onKeyDown:C,tabIndex:i?0:-1,...v,children:P})});function hz(n){return Un("MuiPopover",n)}or("MuiPopover",["root","paper"]);function _k(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function kk(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function Tk(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function cS(n){return typeof n=="function"?n():n}const dz=n=>{const{classes:e}=n;return ar({root:["root"],paper:["paper"]},hz,e)},fz=mt(Ij,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),cM=mt(X3,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),pz=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:d,className:p,container:m,elevation:v=8,marginThreshold:w=16,open:S,PaperProps:C={},slots:_={},slotProps:E={},transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:M=gw,transitionDuration:F="auto",TransitionProps:{onEntering:L,...j}={},disableScrollLock:$=!1,...W}=r,q=(E==null?void 0:E.paper)??C,R=I.useRef(),se={...r,anchorOrigin:o,anchorReference:u,elevation:v,marginThreshold:w,externalPaperSlotProps:q,transformOrigin:P,TransitionComponent:M,transitionDuration:F,TransitionProps:j},he=dz(se),fe=I.useCallback(()=>{if(u==="anchorPosition")return l;const $e=cS(s),ut=($e&&$e.nodeType===1?$e:lo(R.current).body).getBoundingClientRect();return{top:ut.top+_k(ut,o.vertical),left:ut.left+kk(ut,o.horizontal)}},[s,o.horizontal,o.vertical,l,u]),ge=I.useCallback($e=>({vertical:_k($e,P.vertical),horizontal:kk($e,P.horizontal)}),[P.horizontal,P.vertical]),ue=I.useCallback($e=>{const pt={width:$e.offsetWidth,height:$e.offsetHeight},ut=ge(pt);if(u==="none")return{top:null,left:null,transformOrigin:Tk(ut)};const on=fe();let tt=on.top-ut.vertical,Tt=on.left-ut.horizontal;const Gr=tt+pt.height,en=Tt+pt.width,Gn=Za(cS(s)),lr=Gn.innerHeight-w,Tn=Gn.innerWidth-w;if(w!==null&&tt<w){const ot=tt-w;tt-=ot,ut.vertical+=ot}else if(w!==null&&Gr>lr){const ot=Gr-lr;tt-=ot,ut.vertical+=ot}if(w!==null&&Tt<w){const ot=Tt-w;Tt-=ot,ut.horizontal+=ot}else if(en>Tn){const ot=en-Tn;Tt-=ot,ut.horizontal+=ot}return{top:`${Math.round(tt)}px`,left:`${Math.round(Tt)}px`,transformOrigin:Tk(ut)}},[s,u,fe,ge,w]),[Se,Ce]=I.useState(S),ee=I.useCallback(()=>{const $e=R.current;if(!$e)return;const pt=ue($e);pt.top!==null&&$e.style.setProperty("top",pt.top),pt.left!==null&&($e.style.left=pt.left),$e.style.transformOrigin=pt.transformOrigin,Ce(!0)},[ue]);I.useEffect(()=>($&&window.addEventListener("scroll",ee),()=>window.removeEventListener("scroll",ee)),[s,$,ee]);const _e=($e,pt)=>{L&&L($e,pt),ee()},ye=()=>{Ce(!1)};I.useEffect(()=>{S&&ee()}),I.useImperativeHandle(i,()=>S?{updatePosition:()=>{ee()}}:null,[S,ee]),I.useEffect(()=>{if(!S)return;const $e=XO(()=>{ee()}),pt=Za(s);return pt.addEventListener("resize",$e),()=>{$e.clear(),pt.removeEventListener("resize",$e)}},[s,S,ee]);let V=F;F==="auto"&&!M.muiSupportAuto&&(V=void 0);const ae=m||(s?lo(cS(s)).body:void 0),Te={slots:_,slotProps:{...E,paper:q}},[Ee,Oe]=to("paper",{elementType:cM,externalForwardedProps:Te,additionalProps:{elevation:v,className:Bt(he.paper,q==null?void 0:q.className),style:Se?q.style:{...q.style,opacity:0}},ownerState:se}),[Ie,{slotProps:Ve,...Ye}]=to("root",{elementType:fz,externalForwardedProps:Te,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:ae,open:S},ownerState:se,className:Bt(he.root,p)}),Ue=Ii(R,Oe.ref);return te.jsx(Ie,{...Ye,...!fw(Ie)&&{slotProps:Ve,disableScrollLock:$},...W,ref:t,children:te.jsx(M,{appear:!0,in:S,onEntering:_e,onExited:ye,timeout:V,...j,children:te.jsx(Ee,{...Oe,ref:Ue,children:d})})})});function gz(n){return Un("MuiMenu",n)}or("MuiMenu",["root","paper","list"]);const mz={vertical:"top",horizontal:"right"},yz={vertical:"top",horizontal:"left"},vz=n=>{const{classes:e}=n;return ar({root:["root"],paper:["paper"],list:["list"]},gz,e)},xz=mt(pz,{shouldForwardProp:n=>ta(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Sz=mt(cM,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),wz=mt(uz,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),bz=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:o,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:d,open:p,PaperProps:m={},PopoverClasses:v,transitionDuration:w="auto",TransitionProps:{onEntering:S,...C}={},variant:_="selectedMenu",slots:E={},slotProps:P={},...M}=r,F=YB(),L={...r,autoFocus:i,disableAutoFocusItem:l,MenuListProps:u,onEntering:S,PaperProps:m,transitionDuration:w,TransitionProps:C,variant:_},j=vz(L),$=i&&!l&&p,W=I.useRef(null),q=(Se,Ce)=>{W.current&&W.current.adjustStyleForScrollbar(Se,{direction:F?"rtl":"ltr"}),S&&S(Se,Ce)},R=Se=>{Se.key==="Tab"&&(Se.preventDefault(),d&&d(Se,"tabKeyDown"))};let se=-1;I.Children.map(s,(Se,Ce)=>{I.isValidElement(Se)&&(Se.props.disabled||(_==="selectedMenu"&&Se.props.selected||se===-1)&&(se=Ce))});const he=E.paper??Sz,fe=P.paper??m,ge=sk({elementType:E.root,externalSlotProps:P.root,ownerState:L,className:[j.root,o]}),ue=sk({elementType:he,externalSlotProps:fe,ownerState:L,className:j.paper});return te.jsx(xz,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?mz:yz,slots:{paper:he,root:E.root},slotProps:{root:ge,paper:ue},open:p,ref:t,transitionDuration:w,TransitionProps:{onEntering:q,...C},ownerState:L,...M,classes:v,children:te.jsx(wz,{onKeyDown:R,actions:W,autoFocus:i&&(se===-1||l),autoFocusItem:$,variant:_,...u,className:Bt(j.list,u.className),children:s})})});function Cz(n){return Un("MuiNativeSelect",n)}const Hb=or("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),_z=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:o}=n,l={select:["select",t,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Dn(t)}`,s&&"iconOpen",r&&"disabled"]};return ar(l,Cz,e)},uM=mt("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Hb.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),kz=mt(uM,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ta,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${Hb.multiple}`]:e.multiple}]}})({}),hM=mt("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Hb.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Tz=mt(hM,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Dn(t.variant)}`],t.open&&e.iconOpen]}})({}),Ez=I.forwardRef(function(e,t){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:l,variant:u="standard",...d}=e,p={...e,disabled:i,variant:u,error:s},m=_z(p);return te.jsxs(I.Fragment,{children:[te.jsx(kz,{ownerState:p,className:Bt(m.select,r),disabled:i,ref:l||t,...d}),e.multiple?null:te.jsx(Tz,{as:o,ownerState:p,className:m.icon})]})});var Ek;const Oz=mt("fieldset",{shouldForwardProp:ta})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Mz=mt("legend",{shouldForwardProp:ta})(Vr(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function Az(n){const{children:e,classes:t,className:r,label:i,notched:s,...o}=n,l=i!=null&&i!=="",u={...n,notched:s,withLabel:l};return te.jsx(Oz,{"aria-hidden":!0,className:r,ownerState:u,...o,children:te.jsx(Mz,{ownerState:u,children:l?te.jsx("span",{children:i}):Ek||(Ek=te.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const Pz=n=>{const{classes:e}=n,r=ar({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},sj,e);return{...e,...r}},Rz=mt(o1,{shouldForwardProp:n=>ta(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:i1})(Vr(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${jo.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${jo.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${jo.focused} .${jo.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(r1()).map(([t])=>({props:{color:t},style:{[`&.${jo.focused} .${jo.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${jo.error} .${jo.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${jo.disabled} .${jo.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Dz=mt(Az,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(Vr(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),Iz=mt(a1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:s1})(Vr(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),hv=I.forwardRef(function(e,t){var r;const i=kr({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:l="input",label:u,multiline:d=!1,notched:p,slots:m={},type:v="text",...w}=i,S=Pz(i),C=cf(),_=lf({props:i,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E={...i,color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:C,fullWidth:o,hiddenLabel:_.hiddenLabel,multiline:d,size:_.size,type:v},P=m.root??s.Root??Rz,M=m.input??s.Input??Iz;return te.jsx(Wb,{slots:{root:P,input:M},renderSuffix:F=>te.jsx(Dz,{ownerState:E,className:S.notchedOutline,label:u!=null&&u!==""&&_.required?r||(r=te.jsxs(I.Fragment,{children:[u," ","*"]})):u,notched:typeof p<"u"?p:!!(F.startAdornment||F.filled||F.focused)}),fullWidth:o,inputComponent:l,multiline:d,ref:t,type:v,...w,classes:{...S,notchedOutline:null}})});hv&&(hv.muiName="Input");function Nz(n){return Un("MuiSelect",n)}const Yp=or("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Ok;const Lz=mt(uM,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Yp.select}`]:e.select},{[`&.${Yp.select}`]:e[t.variant]},{[`&.${Yp.error}`]:e.error},{[`&.${Yp.multiple}`]:e.multiple}]}})({[`&.${Yp.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Fz=mt(hM,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Dn(t.variant)}`],t.open&&e.iconOpen]}})({}),Bz=mt("input",{shouldForwardProp:n=>sM(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Mk(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function jz(n){return n==null||typeof n=="string"&&!n.trim()}const zz=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:o}=n,l={select:["select",t,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Dn(t)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ar(l,Nz,e)},$z=I.forwardRef(function(e,t){var ns;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:l,className:u,defaultOpen:d,defaultValue:p,disabled:m,displayEmpty:v,error:w=!1,IconComponent:S,inputRef:C,labelId:_,MenuProps:E={},multiple:P,name:M,onBlur:F,onChange:L,onClose:j,onFocus:$,onOpen:W,open:q,readOnly:R,renderValue:se,SelectDisplayProps:he={},tabIndex:fe,type:ge,value:ue,variant:Se="standard",...Ce}=e,[ee,_e]=tk({controlled:ue,default:p,name:"Select"}),[ye,V]=tk({controlled:q,default:d,name:"Select"}),ae=I.useRef(null),Te=I.useRef(null),[Ee,Oe]=I.useState(null),{current:Ie}=I.useRef(q!=null),[Ve,Ye]=I.useState(),Ue=Ii(t,C),$e=I.useCallback(He=>{Te.current=He,He&&Oe(He)},[]),pt=Ee==null?void 0:Ee.parentNode;I.useImperativeHandle(Ue,()=>({focus:()=>{Te.current.focus()},node:ae.current,value:ee}),[ee]),I.useEffect(()=>{d&&ye&&Ee&&!Ie&&(Ye(o?null:pt.clientWidth),Te.current.focus())},[Ee,o]),I.useEffect(()=>{s&&Te.current.focus()},[s]),I.useEffect(()=>{if(!_)return;const He=lo(Te.current).getElementById(_);if(He){const Ot=()=>{getSelection().isCollapsed&&Te.current.focus()};return He.addEventListener("click",Ot),()=>{He.removeEventListener("click",Ot)}}},[_]);const ut=(He,Ot)=>{He?W&&W(Ot):j&&j(Ot),Ie||(Ye(o?null:pt.clientWidth),V(He))},on=He=>{He.button===0&&(He.preventDefault(),Te.current.focus(),ut(!0,He))},tt=He=>{ut(!1,He)},Tt=I.Children.toArray(l),Gr=He=>{const Ot=Tt.find(Jt=>Jt.props.value===He.target.value);Ot!==void 0&&(_e(Ot.props.value),L&&L(He,Ot))},en=He=>Ot=>{let Jt;if(Ot.currentTarget.hasAttribute("tabindex")){if(P){Jt=Array.isArray(ee)?ee.slice():[];const ci=ee.indexOf(He.props.value);ci===-1?Jt.push(He.props.value):Jt.splice(ci,1)}else Jt=He.props.value;if(He.props.onClick&&He.props.onClick(Ot),ee!==Jt&&(_e(Jt),L)){const ci=Ot.nativeEvent||Ot,rl=new ci.constructor(ci.type,ci);Object.defineProperty(rl,"target",{writable:!0,value:{value:Jt,name:M}}),L(rl,He)}P||ut(!1,Ot)}},Gn=He=>{R||[" ","ArrowUp","ArrowDown","Enter"].includes(He.key)&&(He.preventDefault(),ut(!0,He))},lr=Ee!==null&&ye,Tn=He=>{!lr&&F&&(Object.defineProperty(He,"target",{writable:!0,value:{value:ee,name:M}}),F(He))};delete Ce["aria-invalid"];let ot,cr;const Tr=[];let Nn=!1;(lv({value:ee})||v)&&(se?ot=se(ee):Nn=!0);const ts=Tt.map(He=>{if(!I.isValidElement(He))return null;let Ot;if(P){if(!Array.isArray(ee))throw new Error(Ja(2));Ot=ee.some(Jt=>Mk(Jt,He.props.value)),Ot&&Nn&&Tr.push(He.props.children)}else Ot=Mk(ee,He.props.value),Ot&&Nn&&(cr=He.props.children);return I.cloneElement(He,{"aria-selected":Ot?"true":"false",onClick:en(He),onKeyUp:Jt=>{Jt.key===" "&&Jt.preventDefault(),He.props.onKeyUp&&He.props.onKeyUp(Jt)},role:"option",selected:Ot,value:void 0,"data-value":He.props.value})});Nn&&(P?Tr.length===0?ot=null:ot=Tr.reduce((He,Ot,Jt)=>(He.push(Ot),Jt<Tr.length-1&&He.push(", "),He),[]):ot=cr);let Ps=Ve;!o&&Ie&&Ee&&(Ps=pt.clientWidth);let Er;typeof fe<"u"?Er=fe:Er=m?null:0;const ur=he.id||(M?`mui-component-select-${M}`:void 0),Xr={...e,variant:Se,value:ee,open:lr,error:w},Or=zz(Xr),St={...E.PaperProps,...(ns=E.slotProps)==null?void 0:ns.paper},Rs=YO();return te.jsxs(I.Fragment,{children:[te.jsx(Lz,{as:"div",ref:$e,tabIndex:Er,role:"combobox","aria-controls":Rs,"aria-disabled":m?"true":void 0,"aria-expanded":lr?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[_,ur].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:Gn,onMouseDown:m||R?null:on,onBlur:Tn,onFocus:$,...he,ownerState:Xr,className:Bt(he.className,Or.select,u),id:ur,children:jz(ot)?Ok||(Ok=te.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ot}),te.jsx(Bz,{"aria-invalid":w,value:Array.isArray(ee)?ee.join(","):ee,name:M,ref:ae,"aria-hidden":!0,onChange:Gr,tabIndex:-1,disabled:m,className:Or.nativeInput,autoFocus:s,...Ce,ownerState:Xr}),te.jsx(Fz,{as:S,className:Or.icon,ownerState:Xr}),te.jsx(bz,{id:`menu-${M||""}`,anchorEl:pt,open:lr,onClose:tt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...E,MenuListProps:{"aria-labelledby":_,role:"listbox","aria-multiselectable":P?"true":void 0,disableListWrap:!0,id:Rs,...E.MenuListProps},slotProps:{...E.slotProps,paper:{...St,style:{minWidth:Ps,...St!=null?St.style:null}}},children:ts})]})}),Wz=n=>{const{classes:e}=n;return e},Vb={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>ta(n)&&n!=="variant",slot:"Root"},Hz=mt(uv,Vb)(""),Vz=mt(hv,Vb)(""),Uz=mt(cv,Vb)(""),dM=I.forwardRef(function(e,t){const r=kr({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:l,defaultOpen:u=!1,displayEmpty:d=!1,IconComponent:p=aj,id:m,input:v,inputProps:w,label:S,labelId:C,MenuProps:_,multiple:E=!1,native:P=!1,onClose:M,onOpen:F,open:L,renderValue:j,SelectDisplayProps:$,variant:W="outlined",...q}=r,R=P?Ez:$z,se=cf(),he=lf({props:r,muiFormControl:se,states:["variant","error"]}),fe=he.variant||W,ge={...r,variant:fe,classes:o},ue=Wz(ge),{root:Se,...Ce}=ue,ee=v||{standard:te.jsx(Hz,{ownerState:ge}),outlined:te.jsx(Vz,{label:S,ownerState:ge}),filled:te.jsx(Uz,{ownerState:ge})}[fe],_e=Ii(t,Kg(ee));return te.jsx(I.Fragment,{children:I.cloneElement(ee,{inputComponent:R,inputProps:{children:s,error:he.error,IconComponent:p,variant:fe,type:void 0,multiple:E,...P?{id:m}:{autoWidth:i,defaultOpen:u,displayEmpty:d,labelId:C,MenuProps:_,onClose:M,onOpen:F,open:L,renderValue:j,SelectDisplayProps:{id:m,...$}},...w,classes:w?Wr(Ce,w.classes):Ce,...v?v.props.inputProps:{}},...(E&&P||d)&&fe==="outlined"?{notched:!0}:{},ref:_e,className:Bt(ee.props.className,l,ue.root),...!v&&{variant:fe},...q})})});dM.muiName="Select";function Gz(n){return Un("MuiTextField",n)}or("MuiTextField",["root"]);const Xz={standard:uv,filled:cv,outlined:hv},Yz=n=>{const{classes:e}=n;return ar({root:["root"]},Gz,e)},Kz=mt($j,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),qz=I.forwardRef(function(e,t){const r=kr({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:l,color:u="primary",defaultValue:d,disabled:p=!1,error:m=!1,FormHelperTextProps:v,fullWidth:w=!1,helperText:S,id:C,InputLabelProps:_,inputProps:E,InputProps:P,inputRef:M,label:F,maxRows:L,minRows:j,multiline:$=!1,name:W,onBlur:q,onChange:R,onFocus:se,placeholder:he,required:fe=!1,rows:ge,select:ue=!1,SelectProps:Se,slots:Ce={},slotProps:ee={},type:_e,value:ye,variant:V="outlined",...ae}=r,Te={...r,autoFocus:s,color:u,disabled:p,error:m,fullWidth:w,multiline:$,required:fe,select:ue,variant:V},Ee=Yz(Te),Oe=YO(C),Ie=S&&Oe?`${Oe}-helper-text`:void 0,Ve=F&&Oe?`${Oe}-label`:void 0,Ye=Xz[V],Ue={slots:Ce,slotProps:{input:P,inputLabel:_,htmlInput:E,formHelperText:v,select:Se,...ee}},$e={},pt=Ue.slotProps.inputLabel;V==="outlined"&&(pt&&typeof pt.shrink<"u"&&($e.notched=pt.shrink),$e.label=F),ue&&((!Se||!Se.native)&&($e.id=void 0),$e["aria-describedby"]=void 0);const[ut,on]=to("input",{elementType:Ye,externalForwardedProps:Ue,additionalProps:$e,ownerState:Te}),[tt,Tt]=to("inputLabel",{elementType:iz,externalForwardedProps:Ue,ownerState:Te}),[Gr,en]=to("htmlInput",{elementType:"input",externalForwardedProps:Ue,ownerState:Te}),[Gn,lr]=to("formHelperText",{elementType:Uj,externalForwardedProps:Ue,ownerState:Te}),[Tn,ot]=to("select",{elementType:dM,externalForwardedProps:Ue,ownerState:Te}),cr=te.jsx(ut,{"aria-describedby":Ie,autoComplete:i,autoFocus:s,defaultValue:d,fullWidth:w,multiline:$,name:W,rows:ge,maxRows:L,minRows:j,type:_e,value:ye,id:Oe,inputRef:M,onBlur:q,onChange:R,onFocus:se,placeholder:he,inputProps:en,slots:{input:Ce.htmlInput?Gr:void 0},...on});return te.jsxs(Kz,{className:Bt(Ee.root,l),disabled:p,error:m,fullWidth:w,ref:t,required:fe,color:u,variant:V,ownerState:Te,...ae,children:[F!=null&&F!==""&&te.jsx(tt,{htmlFor:Oe,id:Ve,...Tt,children:F}),ue?te.jsx(Tn,{"aria-describedby":Ie,id:Oe,labelId:Ve,value:ye,input:cr,...ot,children:o}):cr,S&&te.jsx(Gn,{id:Ie,...lr,children:S})]})});var ng={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Jz=ng.exports,Ak;function Qz(){return Ak||(Ak=1,function(n,e){(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",d=500,p="__lodash_placeholder__",m=1,v=2,w=4,S=1,C=2,_=1,E=2,P=4,M=8,F=16,L=32,j=64,$=128,W=256,q=512,R=30,se="...",he=800,fe=16,ge=1,ue=2,Se=3,Ce=1/0,ee=9007199254740991,_e=17976931348623157e292,ye=NaN,V=4294967295,ae=V-1,Te=V>>>1,Ee=[["ary",$],["bind",_],["bindKey",E],["curry",M],["curryRight",F],["flip",q],["partial",L],["partialRight",j],["rearg",W]],Oe="[object Arguments]",Ie="[object Array]",Ve="[object AsyncFunction]",Ye="[object Boolean]",Ue="[object Date]",$e="[object DOMException]",pt="[object Error]",ut="[object Function]",on="[object GeneratorFunction]",tt="[object Map]",Tt="[object Number]",Gr="[object Null]",en="[object Object]",Gn="[object Promise]",lr="[object Proxy]",Tn="[object RegExp]",ot="[object Set]",cr="[object String]",Tr="[object Symbol]",Nn="[object Undefined]",ts="[object WeakMap]",Ps="[object WeakSet]",Er="[object ArrayBuffer]",ur="[object DataView]",Xr="[object Float32Array]",Or="[object Float64Array]",St="[object Int8Array]",Rs="[object Int16Array]",ns="[object Int32Array]",He="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Jt="[object Uint16Array]",ci="[object Uint32Array]",rl=/\b__p \+= '';/g,ff=/\b(__p \+=) '' \+/g,pf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ia=/&(?:amp|lt|gt|quot|#39);/g,sa=/[&<>"']/g,nm=RegExp(ia.source),rm=RegExp(sa.source),im=/<%-([\s\S]+?)%>/g,sm=/<%([\s\S]+?)%>/g,gf=/<%=([\s\S]+?)%>/g,mf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,om=/^\w*$/,hc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dc=/[\\^$.*+?()[\]{}|]/g,fc=RegExp(dc.source),yf=/^\s+/,pc=/\s/,$u=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wu=/\{\n\/\* \[wrapped with (.+)\] \*/,vf=/,? & /,M1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,A1=/[()=,{}\[\]\/\s]/,P1=/\\(\\)?/g,oa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xf=/\w*$/,am=/^[-+]0x[0-9a-f]+$/i,R1=/^0b[01]+$/i,lm=/^\[object .+?Constructor\]$/,cm=/^0o[0-7]+$/i,um=/^(?:0|[1-9]\d*)$/,hm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hu=/($^)/,D1=/['\n\r\u2028\u2029\\]/g,Xt="\\ud800-\\udfff",I1="\\u0300-\\u036f",Sf="\\ufe20-\\ufe2f",dm="\\u20d0-\\u20ff",gc=I1+Sf+dm,fm="\\u2700-\\u27bf",wf="a-z\\xdf-\\xf6\\xf8-\\xff",Vu="\\xac\\xb1\\xd7\\xf7",rs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",N1="\\u2000-\\u206f",Li=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pm="A-Z\\xc0-\\xd6\\xd8-\\xde",gm="\\ufe0e\\ufe0f",mm=Vu+rs+N1+Li,il="['’]",Uu="["+Xt+"]",sl="["+mm+"]",aa="["+gc+"]",ym="\\d+",L1="["+fm+"]",Gu="["+wf+"]",bf="[^"+Xt+mm+ym+fm+wf+pm+"]",mc="\\ud83c[\\udffb-\\udfff]",yc="(?:"+aa+"|"+mc+")",vm="[^"+Xt+"]",vc="(?:\\ud83c[\\udde6-\\uddff]){2}",_t="[\\ud800-\\udbff][\\udc00-\\udfff]",la="["+pm+"]",Cf="\\u200d",Xu="(?:"+Gu+"|"+bf+")",xm="(?:"+la+"|"+bf+")",_f="(?:"+il+"(?:d|ll|m|re|s|t|ve))?",kf="(?:"+il+"(?:D|LL|M|RE|S|T|VE))?",Yu=yc+"?",xc="["+gm+"]?",fo="(?:"+Cf+"(?:"+[vm,vc,_t].join("|")+")"+xc+Yu+")*",po="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",go="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ol=xc+Yu+fo,Sc="(?:"+[L1,vc,_t].join("|")+")"+ol,mo="(?:"+[vm+aa+"?",aa,vc,_t,Uu].join("|")+")",F1=RegExp(il,"g"),Sm=RegExp(aa,"g"),ca=RegExp(mc+"(?="+mc+")|"+mo+ol,"g"),B1=RegExp([la+"?"+Gu+"+"+_f+"(?="+[sl,la,"$"].join("|")+")",xm+"+"+kf+"(?="+[sl,la+Xu,"$"].join("|")+")",la+"?"+Xu+"+"+_f,la+"+"+kf,go,po,ym,Sc].join("|"),"g"),wm=RegExp("["+Cf+Xt+gc+gm+"]"),Ku=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],j1=-1,Mt={};Mt[Xr]=Mt[Or]=Mt[St]=Mt[Rs]=Mt[ns]=Mt[He]=Mt[Ot]=Mt[Jt]=Mt[ci]=!0,Mt[Oe]=Mt[Ie]=Mt[Er]=Mt[Ye]=Mt[ur]=Mt[Ue]=Mt[pt]=Mt[ut]=Mt[tt]=Mt[Tt]=Mt[en]=Mt[Tn]=Mt[ot]=Mt[cr]=Mt[ts]=!1;var Et={};Et[Oe]=Et[Ie]=Et[Er]=Et[ur]=Et[Ye]=Et[Ue]=Et[Xr]=Et[Or]=Et[St]=Et[Rs]=Et[ns]=Et[tt]=Et[Tt]=Et[en]=Et[Tn]=Et[ot]=Et[cr]=Et[Tr]=Et[He]=Et[Ot]=Et[Jt]=Et[ci]=!0,Et[pt]=Et[ut]=Et[ts]=!1;var al={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},qu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},z1={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Tf=parseFloat,Ju=parseInt,Qu=typeof L0=="object"&&L0&&L0.Object===Object&&L0,Cm=typeof self=="object"&&self&&self.Object===Object&&self,Yt=Qu||Cm||Function("return this")(),wc=e&&!e.nodeType&&e,is=wc&&!0&&n&&!n.nodeType&&n,Ef=is&&is.exports===wc,ll=Ef&&Qu.process,hr=function(){try{var K=is&&is.require&&is.require("util").types;return K||ll&&ll.binding&&ll.binding("util")}catch{}}(),Of=hr&&hr.isArrayBuffer,Mr=hr&&hr.isDate,ua=hr&&hr.isMap,Zu=hr&&hr.isRegExp,cl=hr&&hr.isSet,_m=hr&&hr.isTypedArray;function dr(K,le,ne){switch(ne.length){case 0:return K.call(le);case 1:return K.call(le,ne[0]);case 2:return K.call(le,ne[0],ne[1]);case 3:return K.call(le,ne[0],ne[1],ne[2])}return K.apply(le,ne)}function Mf(K,le,ne,Ae){for(var et=-1,wt=K==null?0:K.length;++et<wt;){var dn=K[et];le(Ae,dn,ne(dn),K)}return Ae}function Xn(K,le){for(var ne=-1,Ae=K==null?0:K.length;++ne<Ae&&le(K[ne],ne,K)!==!1;);return K}function eh(K,le){for(var ne=K==null?0:K.length;ne--&&le(K[ne],ne,K)!==!1;);return K}function Af(K,le){for(var ne=-1,Ae=K==null?0:K.length;++ne<Ae;)if(!le(K[ne],ne,K))return!1;return!0}function yo(K,le){for(var ne=-1,Ae=K==null?0:K.length,et=0,wt=[];++ne<Ae;){var dn=K[ne];le(dn,ne,K)&&(wt[et++]=dn)}return wt}function th(K,le){var ne=K==null?0:K.length;return!!ne&&ul(K,le,0)>-1}function Pf(K,le,ne){for(var Ae=-1,et=K==null?0:K.length;++Ae<et;)if(ne(le,K[Ae]))return!0;return!1}function jt(K,le){for(var ne=-1,Ae=K==null?0:K.length,et=Array(Ae);++ne<Ae;)et[ne]=le(K[ne],ne,K);return et}function vo(K,le){for(var ne=-1,Ae=le.length,et=K.length;++ne<Ae;)K[et+ne]=le[ne];return K}function Rf(K,le,ne,Ae){var et=-1,wt=K==null?0:K.length;for(Ae&&wt&&(ne=K[++et]);++et<wt;)ne=le(ne,K[et],et,K);return ne}function W1(K,le,ne,Ae){var et=K==null?0:K.length;for(Ae&&et&&(ne=K[--et]);et--;)ne=le(ne,K[et],et,K);return ne}function Df(K,le){for(var ne=-1,Ae=K==null?0:K.length;++ne<Ae;)if(le(K[ne],ne,K))return!0;return!1}var H1=Nf("length");function km(K){return K.split("")}function V1(K){return K.match(M1)||[]}function Tm(K,le,ne){var Ae;return ne(K,function(et,wt,dn){if(le(et,wt,dn))return Ae=wt,!1}),Ae}function nh(K,le,ne,Ae){for(var et=K.length,wt=ne+(Ae?1:-1);Ae?wt--:++wt<et;)if(le(K[wt],wt,K))return wt;return-1}function ul(K,le,ne){return le===le?sh(K,le,ne):nh(K,Em,ne)}function If(K,le,ne,Ae){for(var et=ne-1,wt=K.length;++et<wt;)if(Ae(K[et],le))return et;return-1}function Em(K){return K!==K}function Om(K,le){var ne=K==null?0:K.length;return ne?Lf(K,le)/ne:ye}function Nf(K){return function(le){return le==null?t:le[K]}}function rh(K){return function(le){return K==null?t:K[le]}}function Mm(K,le,ne,Ae,et){return et(K,function(wt,dn,Rt){ne=Ae?(Ae=!1,wt):le(ne,wt,dn,Rt)}),ne}function U1(K,le){var ne=K.length;for(K.sort(le);ne--;)K[ne]=K[ne].value;return K}function Lf(K,le){for(var ne,Ae=-1,et=K.length;++Ae<et;){var wt=le(K[Ae]);wt!==t&&(ne=ne===t?wt:ne+wt)}return ne}function Ff(K,le){for(var ne=-1,Ae=Array(K);++ne<K;)Ae[ne]=le(ne);return Ae}function G1(K,le){return jt(le,function(ne){return[ne,K[ne]]})}function Am(K){return K&&K.slice(0,oh(K)+1).replace(yf,"")}function Yr(K){return function(le){return K(le)}}function bc(K,le){return jt(le,function(ne){return K[ne]})}function Ds(K,le){return K.has(le)}function Pm(K,le){for(var ne=-1,Ae=K.length;++ne<Ae&&ul(le,K[ne],0)>-1;);return ne}function Bf(K,le){for(var ne=K.length;ne--&&ul(le,K[ne],0)>-1;);return ne}function Rm(K,le){for(var ne=K.length,Ae=0;ne--;)K[ne]===le&&++Ae;return Ae}var Dm=rh(al),Im=rh(qu);function Nm(K){return"\\"+$1[K]}function hl(K,le){return K==null?t:K[le]}function dl(K){return wm.test(K)}function X1(K){return Ku.test(K)}function Y1(K){for(var le,ne=[];!(le=K.next()).done;)ne.push(le.value);return ne}function ih(K){var le=-1,ne=Array(K.size);return K.forEach(function(Ae,et){ne[++le]=[et,Ae]}),ne}function jf(K,le){return function(ne){return K(le(ne))}}function ui(K,le){for(var ne=-1,Ae=K.length,et=0,wt=[];++ne<Ae;){var dn=K[ne];(dn===le||dn===p)&&(K[ne]=p,wt[et++]=ne)}return wt}function xo(K){var le=-1,ne=Array(K.size);return K.forEach(function(Ae){ne[++le]=Ae}),ne}function K1(K){var le=-1,ne=Array(K.size);return K.forEach(function(Ae){ne[++le]=[Ae,Ae]}),ne}function sh(K,le,ne){for(var Ae=ne-1,et=K.length;++Ae<et;)if(K[Ae]===le)return Ae;return-1}function q1(K,le,ne){for(var Ae=ne+1;Ae--;)if(K[Ae]===le)return Ae;return Ae}function ha(K){return dl(K)?Fm(K):H1(K)}function Kr(K){return dl(K)?Bm(K):km(K)}function oh(K){for(var le=K.length;le--&&pc.test(K.charAt(le)););return le}var Lm=rh(z1);function Fm(K){for(var le=ca.lastIndex=0;ca.test(K);)++le;return le}function Bm(K){return K.match(ca)||[]}function J1(K){return K.match(B1)||[]}var Q1=function K(le){le=le==null?Yt:fl.defaults(Yt.Object(),le,fl.pick(Yt,bm));var ne=le.Array,Ae=le.Date,et=le.Error,wt=le.Function,dn=le.Math,Rt=le.Object,Cc=le.RegExp,Z1=le.String,hi=le.TypeError,Is=ne.prototype,zf=wt.prototype,ss=Rt.prototype,pl=le["__core-js_shared__"],_c=zf.toString,bt=ss.hasOwnProperty,gl=0,ah=function(){var h=/[^.]+$/.exec(pl&&pl.keys&&pl.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),kc=ss.toString,lh=_c.call(Rt),jm=Yt._,zm=Cc("^"+_c.call(bt).replace(dc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tc=Ef?le.Buffer:t,Ns=le.Symbol,Ec=le.Uint8Array,$f=Tc?Tc.allocUnsafe:t,Fi=jf(Rt.getPrototypeOf,Rt),ch=Rt.create,uh=ss.propertyIsEnumerable,hh=Is.splice,$m=Ns?Ns.isConcatSpreadable:t,Ls=Ns?Ns.iterator:t,da=Ns?Ns.toStringTag:t,Oc=function(){try{var h=Ao(Rt,"defineProperty");return h({},"",{}),h}catch{}}(),Wm=le.clearTimeout!==Yt.clearTimeout&&le.clearTimeout,$t=Ae&&Ae.now!==Yt.Date.now&&Ae.now,Wf=le.setTimeout!==Yt.setTimeout&&le.setTimeout,fa=dn.ceil,So=dn.floor,dh=Rt.getOwnPropertySymbols,Hf=Tc?Tc.isBuffer:t,ml=le.isFinite,fh=Is.join,yl=jf(Rt.keys,Rt),fn=dn.max,Yn=dn.min,ex=Ae.now,Hm=le.parseInt,Mc=dn.random,ph=Is.reverse,Ac=Ao(le,"DataView"),pa=Ao(le,"Map"),Pc=Ao(le,"Promise"),wo=Ao(le,"Set"),Rc=Ao(le,"WeakMap"),vl=Ao(Rt,"create"),gh=Rc&&new Rc,xl={},Vf=Po(Ac),bo=Po(pa),Vm=Po(Pc),Sl=Po(wo),as=Po(Rc),Co=Ns?Ns.prototype:t,qr=Co?Co.valueOf:t,mh=Co?Co.toString:t;function D(h){if(gn(h)&&!it(h)&&!(h instanceof rt)){if(h instanceof Kn)return h;if(bt.call(h,"__wrapped__"))return v0(h)}return new Kn(h)}var wl=function(){function h(){}return function(f){if(!cn(f))return{};if(ch)return ch(f);h.prototype=f;var x=new h;return h.prototype=t,x}}();function ls(){}function Kn(h,f){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=t}D.templateSettings={escape:im,evaluate:sm,interpolate:gf,variable:"",imports:{_:D}},D.prototype=ls.prototype,D.prototype.constructor=D,Kn.prototype=wl(ls.prototype),Kn.prototype.constructor=Kn;function rt(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function yh(){var h=new rt(this.__wrapped__);return h.__actions__=pr(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=pr(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=pr(this.__views__),h}function Uf(){if(this.__filtered__){var h=new rt(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function bl(){var h=this.__wrapped__.value(),f=this.__dir__,x=it(h),T=f<0,O=x?h.length:0,N=xp(0,O,this.__views__),z=N.start,U=N.end,J=U-z,de=T?U:z-1,pe=this.__iteratees__,xe=pe.length,Me=0,ze=Yn(J,this.__takeCount__);if(!x||!T&&O==J&&ze==J)return Al(h,this.__actions__);var Je=[];e:for(;J--&&Me<ze;){de+=f;for(var ht=-1,Qe=h[de];++ht<xe;){var yt=pe[ht],xt=yt.iteratee,Xi=yt.type,ti=xt(Qe);if(Xi==ue)Qe=ti;else if(!ti){if(Xi==ge)continue e;break e}}Je[Me++]=Qe}return Je}rt.prototype=wl(ls.prototype),rt.prototype.constructor=rt;function Ar(h){var f=-1,x=h==null?0:h.length;for(this.clear();++f<x;){var T=h[f];this.set(T[0],T[1])}}function Wt(){this.__data__=vl?vl(null):{},this.size=0}function zt(h){var f=this.has(h)&&delete this.__data__[h];return this.size-=f?1:0,f}function _o(h){var f=this.__data__;if(vl){var x=f[h];return x===u?t:x}return bt.call(f,h)?f[h]:t}function qn(h){var f=this.__data__;return vl?f[h]!==t:bt.call(f,h)}function Pr(h,f){var x=this.__data__;return this.size+=this.has(h)?0:1,x[h]=vl&&f===t?u:f,this}Ar.prototype.clear=Wt,Ar.prototype.delete=zt,Ar.prototype.get=_o,Ar.prototype.has=qn,Ar.prototype.set=Pr;function fr(h){var f=-1,x=h==null?0:h.length;for(this.clear();++f<x;){var T=h[f];this.set(T[0],T[1])}}function Cl(){this.__data__=[],this.size=0}function Rr(h){var f=this.__data__,x=Qn(f,h);if(x<0)return!1;var T=f.length-1;return x==T?f.pop():hh.call(f,x,1),--this.size,!0}function vh(h){var f=this.__data__,x=Qn(f,h);return x<0?t:f[x][1]}function Um(h){return Qn(this.__data__,h)>-1}function Gm(h,f){var x=this.__data__,T=Qn(x,h);return T<0?(++this.size,x.push([h,f])):x[T][1]=f,this}fr.prototype.clear=Cl,fr.prototype.delete=Rr,fr.prototype.get=vh,fr.prototype.has=Um,fr.prototype.set=Gm;function di(h){var f=-1,x=h==null?0:h.length;for(this.clear();++f<x;){var T=h[f];this.set(T[0],T[1])}}function Xm(){this.size=0,this.__data__={hash:new Ar,map:new(pa||fr),string:new Ar}}function Fs(h){var f=Yc(this,h).delete(h);return this.size-=f?1:0,f}function xh(h){return Yc(this,h).get(h)}function Gf(h){return Yc(this,h).has(h)}function Ym(h,f){var x=Yc(this,h),T=x.size;return x.set(h,f),this.size+=x.size==T?0:1,this}di.prototype.clear=Xm,di.prototype.delete=Fs,di.prototype.get=xh,di.prototype.has=Gf,di.prototype.set=Ym;function ga(h){var f=-1,x=h==null?0:h.length;for(this.__data__=new di;++f<x;)this.add(h[f])}function ko(h){return this.__data__.set(h,u),this}function _l(h){return this.__data__.has(h)}ga.prototype.add=ga.prototype.push=ko,ga.prototype.has=_l;function Jn(h){var f=this.__data__=new fr(h);this.size=f.size}function Sh(){this.__data__=new fr,this.size=0}function wh(h){var f=this.__data__,x=f.delete(h);return this.size=f.size,x}function fi(h){return this.__data__.get(h)}function pi(h){return this.__data__.has(h)}function ma(h,f){var x=this.__data__;if(x instanceof fr){var T=x.__data__;if(!pa||T.length<i-1)return T.push([h,f]),this.size=++x.size,this;x=this.__data__=new di(T)}return x.set(h,f),this.size=x.size,this}Jn.prototype.clear=Sh,Jn.prototype.delete=wh,Jn.prototype.get=fi,Jn.prototype.has=pi,Jn.prototype.set=ma;function cs(h,f){var x=it(h),T=!x&&ou(h),O=!x&&!T&&zl(h),N=!x&&!T&&!O&&ud(h),z=x||T||O||N,U=z?Ff(h.length,Z1):[],J=U.length;for(var de in h)(f||bt.call(h,de))&&!(z&&(de=="length"||O&&(de=="offset"||de=="parent")||N&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||qt(de,J)))&&U.push(de);return U}function us(h){var f=h.length;return f?h[Ol(0,f-1)]:t}function ya(h,f){return Xh(pr(h),Bs(f,0,h.length))}function Km(h){return Xh(pr(h))}function Dc(h,f,x){(x!==t&&!Ys(h[f],x)||x===t&&!(f in h))&&hs(h,f,x)}function va(h,f,x){var T=h[f];(!(bt.call(h,f)&&Ys(T,x))||x===t&&!(f in h))&&hs(h,f,x)}function Qn(h,f){for(var x=h.length;x--;)if(Ys(h[x][0],f))return x;return-1}function Jr(h,f,x,T){return fs(h,function(O,N,z){f(T,O,x(O),z)}),T}function Ht(h,f){return h&&ji(f,tr(f),h)}function Bi(h,f){return h&&ji(f,Ci(f),h)}function hs(h,f,x){f=="__proto__"&&Oc?Oc(h,f,{configurable:!0,enumerable:!0,value:x,writable:!0}):h[f]=x}function bh(h,f){for(var x=-1,T=f.length,O=ne(T),N=h==null;++x<T;)O[x]=N?t:_x(h,f[x]);return O}function Bs(h,f,x){return h===h&&(x!==t&&(h=h<=x?h:x),f!==t&&(h=h>=f?h:f)),h}function Dr(h,f,x,T,O,N){var z,U=f&m,J=f&v,de=f&w;if(x&&(z=O?x(h,T,O,N):x(h)),z!==t)return z;if(!cn(h))return h;var pe=it(h);if(pe){if(z=qc(h),!U)return pr(h,z)}else{var xe=Bn(h),Me=xe==ut||xe==on;if(zl(h))return ap(h,U);if(xe==en||xe==Oe||Me&&!O){if(z=J||Me?{}:jn(h),!U)return J?nx(h,Bi(z,h)):Nh(h,Ht(z,h))}else{if(!Et[xe])return O?h:{};z=rx(h,xe,U)}}N||(N=new Jn);var ze=N.get(h);if(ze)return ze;N.set(h,z),wC(h)?h.forEach(function(Qe){z.add(Dr(Qe,f,x,Qe,h,N))}):xC(h)&&h.forEach(function(Qe,yt){z.set(yt,Dr(Qe,f,x,yt,h,N))});var Je=de?J?Xc:Gc:J?Ci:tr,ht=pe?t:Je(h);return Xn(ht||h,function(Qe,yt){ht&&(yt=Qe,Qe=h[yt]),va(z,yt,Dr(Qe,f,x,yt,h,N))}),z}function qm(h){var f=tr(h);return function(x){return Ic(x,h,f)}}function Ic(h,f,x){var T=x.length;if(h==null)return!T;for(h=Rt(h);T--;){var O=x[T],N=f[O],z=h[O];if(z===t&&!(O in h)||!N(z))return!1}return!0}function Xf(h,f,x){if(typeof h!="function")throw new hi(o);return Fl(function(){h.apply(t,x)},f)}function ds(h,f,x,T){var O=-1,N=th,z=!0,U=h.length,J=[],de=f.length;if(!U)return J;x&&(f=jt(f,Yr(x))),T?(N=Pf,z=!1):f.length>=i&&(N=Ds,z=!1,f=new ga(f));e:for(;++O<U;){var pe=h[O],xe=x==null?pe:x(pe);if(pe=T||pe!==0?pe:0,z&&xe===xe){for(var Me=de;Me--;)if(f[Me]===xe)continue e;J.push(pe)}else N(f,xe,T)||J.push(pe)}return J}var fs=xi(Qr),Jm=xi(To,!0);function Nc(h,f){var x=!0;return fs(h,function(T,O,N){return x=!!f(T,O,N),x}),x}function xa(h,f,x){for(var T=-1,O=h.length;++T<O;){var N=h[T],z=f(N);if(z!=null&&(U===t?z===z&&!Gi(z):x(z,U)))var U=z,J=N}return J}function Qm(h,f,x,T){var O=h.length;for(x=lt(x),x<0&&(x=-x>O?0:O+x),T=T===t||T>O?O:lt(T),T<0&&(T+=O),T=x>T?0:CC(T);x<T;)h[x++]=f;return h}function Yf(h,f){var x=[];return fs(h,function(T,O,N){f(T,O,N)&&x.push(T)}),x}function tn(h,f,x,T,O){var N=-1,z=h.length;for(x||(x=Vh),O||(O=[]);++N<z;){var U=h[N];f>0&&x(U)?f>1?tn(U,f-1,x,T,O):vo(O,U):T||(O[O.length]=U)}return O}var Ch=Fh(),Lc=Fh(!0);function Qr(h,f){return h&&Ch(h,f,tr)}function To(h,f){return h&&Lc(h,f,tr)}function kl(h,f){return yo(f,function(x){return Ra(h[x])})}function js(h,f){f=ms(f,h);for(var x=0,T=f.length;h!=null&&x<T;)h=h[Hi(f[x++])];return x&&x==T?h:t}function _h(h,f,x){var T=f(h);return it(h)?T:vo(T,x(h))}function Ln(h){return h==null?h===t?Nn:Gr:da&&da in Rt(h)?Hh(h):wp(h)}function Eo(h,f){return h>f}function gi(h,f){return h!=null&&bt.call(h,f)}function Sa(h,f){return h!=null&&f in Rt(h)}function Kf(h,f,x){return h>=Yn(f,x)&&h<fn(f,x)}function kh(h,f,x){for(var T=x?Pf:th,O=h[0].length,N=h.length,z=N,U=ne(N),J=1/0,de=[];z--;){var pe=h[z];z&&f&&(pe=jt(pe,Yr(f))),J=Yn(pe.length,J),U[z]=!x&&(f||O>=120&&pe.length>=120)?new ga(z&&pe):t}pe=h[0];var xe=-1,Me=U[0];e:for(;++xe<O&&de.length<J;){var ze=pe[xe],Je=f?f(ze):ze;if(ze=x||ze!==0?ze:0,!(Me?Ds(Me,Je):T(de,Je,x))){for(z=N;--z;){var ht=U[z];if(!(ht?Ds(ht,Je):T(h[z],Je,x)))continue e}Me&&Me.push(Je),de.push(ze)}}return de}function zs(h,f,x,T){return Qr(h,function(O,N,z){f(T,x(O),N,z)}),T}function mi(h,f,x){f=ms(f,h),h=En(h,f);var T=h==null?h:h[Hi(yr(f))];return T==null?t:dr(T,h,x)}function Th(h){return gn(h)&&Ln(h)==Oe}function Zm(h){return gn(h)&&Ln(h)==Er}function $s(h){return gn(h)&&Ln(h)==Ue}function yi(h,f,x,T,O){return h===f?!0:h==null||f==null||!gn(h)&&!gn(f)?h!==h&&f!==f:Eh(h,f,x,T,yi,O)}function Eh(h,f,x,T,O,N){var z=it(h),U=it(f),J=z?Ie:Bn(h),de=U?Ie:Bn(f);J=J==Oe?en:J,de=de==Oe?en:de;var pe=J==en,xe=de==en,Me=J==de;if(Me&&zl(h)){if(!zl(f))return!1;z=!0,pe=!1}if(Me&&!pe)return N||(N=new Jn),z||ud(h)?yp(h,f,x,T,O,N):vp(h,f,J,x,T,O,N);if(!(x&S)){var ze=pe&&bt.call(h,"__wrapped__"),Je=xe&&bt.call(f,"__wrapped__");if(ze||Je){var ht=ze?h.value():h,Qe=Je?f.value():f;return N||(N=new Jn),O(ht,Qe,x,T,N)}}return Me?(N||(N=new Jn),u0(h,f,x,T,O,N)):!1}function e0(h){return gn(h)&&Bn(h)==tt}function Tl(h,f,x,T){var O=x.length,N=O,z=!T;if(h==null)return!N;for(h=Rt(h);O--;){var U=x[O];if(z&&U[2]?U[1]!==h[U[0]]:!(U[0]in h))return!1}for(;++O<N;){U=x[O];var J=U[0],de=h[J],pe=U[1];if(z&&U[2]){if(de===t&&!(J in h))return!1}else{var xe=new Jn;if(T)var Me=T(de,pe,J,h,f,xe);if(!(Me===t?yi(pe,de,S|C,T,xe):Me))return!1}}return!0}function qf(h){if(!cn(h)||f0(h))return!1;var f=Ra(h)?zm:lm;return f.test(Po(h))}function Fc(h){return gn(h)&&Ln(h)==Tn}function ps(h){return gn(h)&&Bn(h)==ot}function Bc(h){return gn(h)&&R0(h.length)&&!!Mt[Ln(h)]}function El(h){return typeof h=="function"?h:h==null?_i:typeof h=="object"?it(h)?Kt(h[0],h[1]):Oh(h):IC(h)}function Ws(h){if(!Gs(h))return yl(h);var f=[];for(var x in Rt(h))bt.call(h,x)&&x!="constructor"&&f.push(x);return f}function Jf(h){if(!cn(h))return m0(h);var f=Gs(h),x=[];for(var T in h)T=="constructor"&&(f||!bt.call(h,T))||x.push(T);return x}function Oo(h,f){return h<f}function Qf(h,f){var x=-1,T=bi(h)?ne(h.length):[];return fs(h,function(O,N,z){T[++x]=f(O,N,z)}),T}function Oh(h){var f=Kc(h);return f.length==1&&f[0][2]?Uh(f[0][0],f[0][1]):function(x){return x===h||Tl(x,h,f)}}function Kt(h,f){return De(h)&&Qc(f)?Uh(Hi(h),f):function(x){var T=_x(x,h);return T===t&&T===f?kx(x,h):yi(f,T,S|C)}}function wa(h,f,x,T,O){h!==f&&Ch(f,function(N,z){if(O||(O=new Jn),cn(N))Zf(h,f,z,x,wa,T,O);else{var U=T?T(xs(h,z),N,z+"",h,f,O):t;U===t&&(U=N),Dc(h,z,U)}},Ci)}function Zf(h,f,x,T,O,N,z){var U=xs(h,x),J=xs(f,x),de=z.get(J);if(de){Dc(h,x,de);return}var pe=N?N(U,J,x+"",h,f,z):t,xe=pe===t;if(xe){var Me=it(J),ze=!Me&&zl(J),Je=!Me&&!ze&&ud(J);pe=J,Me||ze||Je?it(U)?pe=U:wn(U)?pe=pr(U):ze?(xe=!1,pe=ap(J,!0)):Je?(xe=!1,pe=s0(J,!0)):pe=[]:jp(J)||ou(J)?(pe=U,ou(U)?pe=_C(U):(!cn(U)||Ra(U))&&(pe=jn(J))):xe=!1}xe&&(z.set(J,pe),O(pe,J,T,N,z),z.delete(J)),Dc(h,x,pe)}function Mh(h,f){var x=h.length;if(x)return f+=f<0?x:0,qt(f,x)?h[f]:t}function jc(h,f,x){f.length?f=jt(f,function(N){return it(N)?function(z){return js(z,N.length===1?N[0]:N)}:N}):f=[_i];var T=-1;f=jt(f,Yr(Xe()));var O=Qf(h,function(N,z,U){var J=jt(f,function(de){return de(N)});return{criteria:J,index:++T,value:N}});return U1(O,function(N,z){return tx(N,z,x)})}function ep(h,f){return Mo(h,f,function(x,T){return kx(h,T)})}function Mo(h,f,x){for(var T=-1,O=f.length,N={};++T<O;){var z=f[T],U=js(h,z);x(U,z)&&Ca(N,ms(z,h),U)}return N}function Qt(h){return function(f){return js(f,h)}}function an(h,f,x,T){var O=T?If:ul,N=-1,z=f.length,U=h;for(h===f&&(f=pr(f)),x&&(U=jt(h,Yr(x)));++N<z;)for(var J=0,de=f[N],pe=x?x(de):de;(J=O(U,pe,J,T))>-1;)U!==h&&hh.call(U,J,1),hh.call(h,J,1);return h}function xn(h,f){for(var x=h?f.length:0,T=x-1;x--;){var O=f[x];if(x==T||O!==N){var N=O;qt(O)?hh.call(h,O,1):Rh(h,O)}}return h}function Ol(h,f){return h+So(Mc()*(f-h+1))}function zc(h,f,x,T){for(var O=-1,N=fn(fa((f-h)/(x||1)),0),z=ne(N);N--;)z[T?N:++O]=h,h+=x;return z}function ba(h,f){var x="";if(!h||f<1||f>ee)return x;do f%2&&(x+=h),f=So(f/2),f&&(h+=h);while(f);return x}function at(h,f){return Zr(Gh(h,f,_i),h+"")}function Zn(h){return us(hd(h))}function tp(h,f){var x=hd(h);return Xh(x,Bs(f,0,x.length))}function Ca(h,f,x,T){if(!cn(h))return h;f=ms(f,h);for(var O=-1,N=f.length,z=N-1,U=h;U!=null&&++O<N;){var J=Hi(f[O]),de=x;if(J==="__proto__"||J==="constructor"||J==="prototype")return h;if(O!=z){var pe=U[J];de=T?T(pe,J,U):t,de===t&&(de=cn(pe)?pe:qt(f[O+1])?[]:{})}va(U,J,de),U=U[J]}return h}var Ah=gh?function(h,f){return gh.set(h,f),h}:_i,gs=Oc?function(h,f){return Oc(h,"toString",{configurable:!0,enumerable:!1,value:Ex(f),writable:!0})}:_i;function vi(h){return Xh(hd(h))}function er(h,f,x){var T=-1,O=h.length;f<0&&(f=-f>O?0:O+f),x=x>O?O:x,x<0&&(x+=O),O=f>x?0:x-f>>>0,f>>>=0;for(var N=ne(O);++T<O;)N[T]=h[T+f];return N}function np(h,f){var x;return fs(h,function(T,O,N){return x=f(T,O,N),!x}),!!x}function Ml(h,f,x){var T=0,O=h==null?T:h.length;if(typeof f=="number"&&f===f&&O<=Te){for(;T<O;){var N=T+O>>>1,z=h[N];z!==null&&!Gi(z)&&(x?z<=f:z<f)?T=N+1:O=N}return O}return Ph(h,f,_i,x)}function Ph(h,f,x,T){var O=0,N=h==null?0:h.length;if(N===0)return 0;f=x(f);for(var z=f!==f,U=f===null,J=Gi(f),de=f===t;O<N;){var pe=So((O+N)/2),xe=x(h[pe]),Me=xe!==t,ze=xe===null,Je=xe===xe,ht=Gi(xe);if(z)var Qe=T||Je;else de?Qe=Je&&(T||Me):U?Qe=Je&&Me&&(T||!ze):J?Qe=Je&&Me&&!ze&&(T||!ht):ze||ht?Qe=!1:Qe=T?xe<=f:xe<f;Qe?O=pe+1:N=pe}return Yn(N,ae)}function rp(h,f){for(var x=-1,T=h.length,O=0,N=[];++x<T;){var z=h[x],U=f?f(z):z;if(!x||!Ys(U,J)){var J=U;N[O++]=z===0?0:z}}return N}function ip(h){return typeof h=="number"?h:Gi(h)?ye:+h}function Ir(h){if(typeof h=="string")return h;if(it(h))return jt(h,Ir)+"";if(Gi(h))return mh?mh.call(h):"";var f=h+"";return f=="0"&&1/h==-Ce?"-0":f}function Hs(h,f,x){var T=-1,O=th,N=h.length,z=!0,U=[],J=U;if(x)z=!1,O=Pf;else if(N>=i){var de=f?null:c0(h);if(de)return xo(de);z=!1,O=Ds,J=new ga}else J=f?[]:U;e:for(;++T<N;){var pe=h[T],xe=f?f(pe):pe;if(pe=x||pe!==0?pe:0,z&&xe===xe){for(var Me=J.length;Me--;)if(J[Me]===xe)continue e;f&&J.push(xe),U.push(pe)}else O(J,xe,x)||(J!==U&&J.push(xe),U.push(pe))}return U}function Rh(h,f){return f=ms(f,h),h=En(h,f),h==null||delete h[Hi(yr(f))]}function sp(h,f,x,T){return Ca(h,f,x(js(h,f)),T)}function $c(h,f,x,T){for(var O=h.length,N=T?O:-1;(T?N--:++N<O)&&f(h[N],N,h););return x?er(h,T?0:N,T?N+1:O):er(h,T?N+1:0,T?O:N)}function Al(h,f){var x=h;return x instanceof rt&&(x=x.value()),Rf(f,function(T,O){return O.func.apply(O.thisArg,vo([T],O.args))},x)}function Dh(h,f,x){var T=h.length;if(T<2)return T?Hs(h[0]):[];for(var O=-1,N=ne(T);++O<T;)for(var z=h[O],U=-1;++U<T;)U!=O&&(N[O]=ds(N[O]||z,h[U],f,x));return Hs(tn(N,1),f,x)}function Wc(h,f,x){for(var T=-1,O=h.length,N=f.length,z={};++T<O;){var U=T<N?f[T]:t;x(z,h[T],U)}return z}function Pl(h){return wn(h)?h:[]}function Ih(h){return typeof h=="function"?h:_i}function ms(h,f){return it(h)?h:De(h,f)?[h]:_p(Dt(h))}var t0=at;function Vs(h,f,x){var T=h.length;return x=x===t?T:x,!f&&x>=T?h:er(h,f,x)}var op=Wm||function(h){return Yt.clearTimeout(h)};function ap(h,f){if(f)return h.slice();var x=h.length,T=$f?$f(x):new h.constructor(x);return h.copy(T),T}function Hc(h){var f=new h.constructor(h.byteLength);return new Ec(f).set(new Ec(h)),f}function n0(h,f){var x=f?Hc(h.buffer):h.buffer;return new h.constructor(x,h.byteOffset,h.byteLength)}function r0(h){var f=new h.constructor(h.source,xf.exec(h));return f.lastIndex=h.lastIndex,f}function i0(h){return qr?Rt(qr.call(h)):{}}function s0(h,f){var x=f?Hc(h.buffer):h.buffer;return new h.constructor(x,h.byteOffset,h.length)}function lp(h,f){if(h!==f){var x=h!==t,T=h===null,O=h===h,N=Gi(h),z=f!==t,U=f===null,J=f===f,de=Gi(f);if(!U&&!de&&!N&&h>f||N&&z&&J&&!U&&!de||T&&z&&J||!x&&J||!O)return 1;if(!T&&!N&&!de&&h<f||de&&x&&O&&!T&&!N||U&&x&&O||!z&&O||!J)return-1}return 0}function tx(h,f,x){for(var T=-1,O=h.criteria,N=f.criteria,z=O.length,U=x.length;++T<z;){var J=lp(O[T],N[T]);if(J){if(T>=U)return J;var de=x[T];return J*(de=="desc"?-1:1)}}return h.index-f.index}function o0(h,f,x,T){for(var O=-1,N=h.length,z=x.length,U=-1,J=f.length,de=fn(N-z,0),pe=ne(J+de),xe=!T;++U<J;)pe[U]=f[U];for(;++O<z;)(xe||O<N)&&(pe[x[O]]=h[O]);for(;de--;)pe[U++]=h[O++];return pe}function cp(h,f,x,T){for(var O=-1,N=h.length,z=-1,U=x.length,J=-1,de=f.length,pe=fn(N-U,0),xe=ne(pe+de),Me=!T;++O<pe;)xe[O]=h[O];for(var ze=O;++J<de;)xe[ze+J]=f[J];for(;++z<U;)(Me||O<N)&&(xe[ze+x[z]]=h[O++]);return xe}function pr(h,f){var x=-1,T=h.length;for(f||(f=ne(T));++x<T;)f[x]=h[x];return f}function ji(h,f,x,T){var O=!x;x||(x={});for(var N=-1,z=f.length;++N<z;){var U=f[N],J=T?T(x[U],h[U],U,x,h):t;J===t&&(J=h[U]),O?hs(x,U,J):va(x,U,J)}return x}function Nh(h,f){return ji(h,zi(h),f)}function nx(h,f){return ji(h,h0(h),f)}function Lh(h,f){return function(x,T){var O=it(x)?Mf:Jr,N=f?f():{};return O(x,h,Xe(T,2),N)}}function Rl(h){return at(function(f,x){var T=-1,O=x.length,N=O>1?x[O-1]:t,z=O>2?x[2]:t;for(N=h.length>3&&typeof N=="function"?(O--,N):t,z&&mr(x[0],x[1],z)&&(N=O<3?t:N,O=1),f=Rt(f);++T<O;){var U=x[T];U&&h(f,U,T,N)}return f})}function xi(h,f){return function(x,T){if(x==null)return x;if(!bi(x))return h(x,T);for(var O=x.length,N=f?O:-1,z=Rt(x);(f?N--:++N<O)&&T(z[N],N,z)!==!1;);return x}}function Fh(h){return function(f,x,T){for(var O=-1,N=Rt(f),z=T(f),U=z.length;U--;){var J=z[h?U:++O];if(x(N[J],J,N)===!1)break}return f}}function Bh(h,f,x){var T=f&_,O=Dl(h);function N(){var z=this&&this!==Yt&&this instanceof N?O:h;return z.apply(T?x:this,arguments)}return N}function up(h){return function(f){f=Dt(f);var x=dl(f)?Kr(f):t,T=x?x[0]:f.charAt(0),O=x?Vs(x,1).join(""):f.slice(1);return T[h]()+O}}function _a(h){return function(f){return Rf(RC(PC(f).replace(F1,"")),h,"")}}function Dl(h){return function(){var f=arguments;switch(f.length){case 0:return new h;case 1:return new h(f[0]);case 2:return new h(f[0],f[1]);case 3:return new h(f[0],f[1],f[2]);case 4:return new h(f[0],f[1],f[2],f[3]);case 5:return new h(f[0],f[1],f[2],f[3],f[4]);case 6:return new h(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new h(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var x=wl(h.prototype),T=h.apply(x,f);return cn(T)?T:x}}function hp(h,f,x){var T=Dl(h);function O(){for(var N=arguments.length,z=ne(N),U=N,J=Us(O);U--;)z[U]=arguments[U];var de=N<3&&z[0]!==J&&z[N-1]!==J?[]:ui(z,J);if(N-=de.length,N<x)return gr(h,f,Il,O.placeholder,t,z,de,t,t,x-N);var pe=this&&this!==Yt&&this instanceof O?T:h;return dr(pe,this,z)}return O}function ka(h){return function(f,x,T){var O=Rt(f);if(!bi(f)){var N=Xe(x,3);f=tr(f),x=function(U){return N(O[U],U,O)}}var z=h(f,x,T);return z>-1?O[N?f[z]:z]:t}}function jh(h){return vs(function(f){var x=f.length,T=x,O=Kn.prototype.thru;for(h&&f.reverse();T--;){var N=f[T];if(typeof N!="function")throw new hi(o);if(O&&!z&&Nl(N)=="wrapper")var z=new Kn([],!0)}for(T=z?T:x;++T<x;){N=f[T];var U=Nl(N),J=U=="wrapper"?Wh(N):t;J&&Jc(J[0])&&J[1]==($|M|L|W)&&!J[4].length&&J[9]==1?z=z[Nl(J[0])].apply(z,J[3]):z=N.length==1&&Jc(N)?z[U]():z.thru(N)}return function(){var de=arguments,pe=de[0];if(z&&de.length==1&&it(pe))return z.plant(pe).value();for(var xe=0,Me=x?f[xe].apply(this,de):pe;++xe<x;)Me=f[xe].call(this,Me);return Me}})}function Il(h,f,x,T,O,N,z,U,J,de){var pe=f&$,xe=f&_,Me=f&E,ze=f&(M|F),Je=f&q,ht=Me?t:Dl(h);function Qe(){for(var yt=arguments.length,xt=ne(yt),Xi=yt;Xi--;)xt[Xi]=arguments[Xi];if(ze)var ti=Us(Qe),Yi=Rm(xt,ti);if(T&&(xt=o0(xt,T,O,ze)),N&&(xt=cp(xt,N,z,ze)),yt-=Yi,ze&&yt<de){var bn=ui(xt,ti);return gr(h,f,Il,Qe.placeholder,x,xt,bn,U,J,de-yt)}var Ks=xe?x:this,Ia=Me?Ks[h]:h;return yt=xt.length,U?xt=$i(xt,U):Je&&yt>1&&xt.reverse(),pe&&J<yt&&(xt.length=J),this&&this!==Yt&&this instanceof Qe&&(Ia=ht||Dl(Ia)),Ia.apply(Ks,xt)}return Qe}function a0(h,f){return function(x,T){return zs(x,h,f(T),{})}}function Vc(h,f){return function(x,T){var O;if(x===t&&T===t)return f;if(x!==t&&(O=x),T!==t){if(O===t)return T;typeof x=="string"||typeof T=="string"?(x=Ir(x),T=Ir(T)):(x=ip(x),T=ip(T)),O=h(x,T)}return O}}function zh(h){return vs(function(f){return f=jt(f,Yr(Xe())),at(function(x){var T=this;return h(f,function(O){return dr(O,T,x)})})})}function Uc(h,f){f=f===t?" ":Ir(f);var x=f.length;if(x<2)return x?ba(f,h):f;var T=ba(f,fa(h/ha(f)));return dl(f)?Vs(Kr(T),0,h).join(""):T.slice(0,h)}function l0(h,f,x,T){var O=f&_,N=Dl(h);function z(){for(var U=-1,J=arguments.length,de=-1,pe=T.length,xe=ne(pe+J),Me=this&&this!==Yt&&this instanceof z?N:h;++de<pe;)xe[de]=T[de];for(;J--;)xe[de++]=arguments[++U];return dr(Me,O?x:this,xe)}return z}function dp(h){return function(f,x,T){return T&&typeof T!="number"&&mr(f,x,T)&&(x=T=t),f=Da(f),x===t?(x=f,f=0):x=Da(x),T=T===t?f<x?1:-1:Da(T),zc(f,x,T,h)}}function $h(h){return function(f,x){return typeof f=="string"&&typeof x=="string"||(f=Ss(f),x=Ss(x)),h(f,x)}}function gr(h,f,x,T,O,N,z,U,J,de){var pe=f&M,xe=pe?z:t,Me=pe?t:z,ze=pe?N:t,Je=pe?t:N;f|=pe?L:j,f&=~(pe?j:L),f&P||(f&=~(_|E));var ht=[h,f,O,ze,xe,Je,Me,U,J,de],Qe=x.apply(t,ht);return Jc(h)&&bp(Qe,ht),Qe.placeholder=T,Cp(Qe,h,f)}function Fn(h){var f=dn[h];return function(x,T){if(x=Ss(x),T=T==null?0:Yn(lt(T),292),T&&ml(x)){var O=(Dt(x)+"e").split("e"),N=f(O[0]+"e"+(+O[1]+T));return O=(Dt(N)+"e").split("e"),+(O[0]+"e"+(+O[1]-T))}return f(x)}}var c0=wo&&1/xo(new wo([,-0]))[1]==Ce?function(h){return new wo(h)}:Ax;function fp(h){return function(f){var x=Bn(f);return x==tt?ih(f):x==ot?K1(f):G1(f,h(f))}}function ys(h,f,x,T,O,N,z,U){var J=f&E;if(!J&&typeof h!="function")throw new hi(o);var de=T?T.length:0;if(de||(f&=~(L|j),T=O=t),z=z===t?z:fn(lt(z),0),U=U===t?U:lt(U),de-=O?O.length:0,f&j){var pe=T,xe=O;T=O=t}var Me=J?t:Wh(h),ze=[h,f,x,T,O,pe,xe,N,z,U];if(Me&&g0(ze,Me),h=ze[0],f=ze[1],x=ze[2],T=ze[3],O=ze[4],U=ze[9]=ze[9]===t?J?0:h.length:fn(ze[9]-de,0),!U&&f&(M|F)&&(f&=~(M|F)),!f||f==_)var Je=Bh(h,f,x);else f==M||f==F?Je=hp(h,f,U):(f==L||f==(_|L))&&!O.length?Je=l0(h,f,x,T):Je=Il.apply(t,ze);var ht=Me?Ah:bp;return Cp(ht(Je,ze),h,f)}function pp(h,f,x,T){return h===t||Ys(h,ss[x])&&!bt.call(T,x)?f:h}function gp(h,f,x,T,O,N){return cn(h)&&cn(f)&&(N.set(f,h),wa(h,f,t,gp,N),N.delete(f)),h}function mp(h){return jp(h)?t:h}function yp(h,f,x,T,O,N){var z=x&S,U=h.length,J=f.length;if(U!=J&&!(z&&J>U))return!1;var de=N.get(h),pe=N.get(f);if(de&&pe)return de==f&&pe==h;var xe=-1,Me=!0,ze=x&C?new ga:t;for(N.set(h,f),N.set(f,h);++xe<U;){var Je=h[xe],ht=f[xe];if(T)var Qe=z?T(ht,Je,xe,f,h,N):T(Je,ht,xe,h,f,N);if(Qe!==t){if(Qe)continue;Me=!1;break}if(ze){if(!Df(f,function(yt,xt){if(!Ds(ze,xt)&&(Je===yt||O(Je,yt,x,T,N)))return ze.push(xt)})){Me=!1;break}}else if(!(Je===ht||O(Je,ht,x,T,N))){Me=!1;break}}return N.delete(h),N.delete(f),Me}function vp(h,f,x,T,O,N,z){switch(x){case ur:if(h.byteLength!=f.byteLength||h.byteOffset!=f.byteOffset)return!1;h=h.buffer,f=f.buffer;case Er:return!(h.byteLength!=f.byteLength||!N(new Ec(h),new Ec(f)));case Ye:case Ue:case Tt:return Ys(+h,+f);case pt:return h.name==f.name&&h.message==f.message;case Tn:case cr:return h==f+"";case tt:var U=ih;case ot:var J=T&S;if(U||(U=xo),h.size!=f.size&&!J)return!1;var de=z.get(h);if(de)return de==f;T|=C,z.set(h,f);var pe=yp(U(h),U(f),T,O,N,z);return z.delete(h),pe;case Tr:if(qr)return qr.call(h)==qr.call(f)}return!1}function u0(h,f,x,T,O,N){var z=x&S,U=Gc(h),J=U.length,de=Gc(f),pe=de.length;if(J!=pe&&!z)return!1;for(var xe=J;xe--;){var Me=U[xe];if(!(z?Me in f:bt.call(f,Me)))return!1}var ze=N.get(h),Je=N.get(f);if(ze&&Je)return ze==f&&Je==h;var ht=!0;N.set(h,f),N.set(f,h);for(var Qe=z;++xe<J;){Me=U[xe];var yt=h[Me],xt=f[Me];if(T)var Xi=z?T(xt,yt,Me,f,h,N):T(yt,xt,Me,h,f,N);if(!(Xi===t?yt===xt||O(yt,xt,x,T,N):Xi)){ht=!1;break}Qe||(Qe=Me=="constructor")}if(ht&&!Qe){var ti=h.constructor,Yi=f.constructor;ti!=Yi&&"constructor"in h&&"constructor"in f&&!(typeof ti=="function"&&ti instanceof ti&&typeof Yi=="function"&&Yi instanceof Yi)&&(ht=!1)}return N.delete(h),N.delete(f),ht}function vs(h){return Zr(Gh(h,t,Kh),h+"")}function Gc(h){return _h(h,tr,zi)}function Xc(h){return _h(h,Ci,h0)}var Wh=gh?function(h){return gh.get(h)}:Ax;function Nl(h){for(var f=h.name+"",x=xl[f],T=bt.call(xl,f)?x.length:0;T--;){var O=x[T],N=O.func;if(N==null||N==h)return O.name}return f}function Us(h){var f=bt.call(D,"placeholder")?D:h;return f.placeholder}function Xe(){var h=D.iteratee||Ox;return h=h===Ox?El:h,arguments.length?h(arguments[0],arguments[1]):h}function Yc(h,f){var x=h.__data__;return Ll(f)?x[typeof f=="string"?"string":"hash"]:x.map}function Kc(h){for(var f=tr(h),x=f.length;x--;){var T=f[x],O=h[T];f[x]=[T,O,Qc(O)]}return f}function Ao(h,f){var x=hl(h,f);return qf(x)?x:t}function Hh(h){var f=bt.call(h,da),x=h[da];try{h[da]=t;var T=!0}catch{}var O=kc.call(h);return T&&(f?h[da]=x:delete h[da]),O}var zi=dh?function(h){return h==null?[]:(h=Rt(h),yo(dh(h),function(f){return uh.call(h,f)}))}:Px,h0=dh?function(h){for(var f=[];h;)vo(f,zi(h)),h=Fi(h);return f}:Px,Bn=Ln;(Ac&&Bn(new Ac(new ArrayBuffer(1)))!=ur||pa&&Bn(new pa)!=tt||Pc&&Bn(Pc.resolve())!=Gn||wo&&Bn(new wo)!=ot||Rc&&Bn(new Rc)!=ts)&&(Bn=function(h){var f=Ln(h),x=f==en?h.constructor:t,T=x?Po(x):"";if(T)switch(T){case Vf:return ur;case bo:return tt;case Vm:return Gn;case Sl:return ot;case as:return ts}return f});function xp(h,f,x){for(var T=-1,O=x.length;++T<O;){var N=x[T],z=N.size;switch(N.type){case"drop":h+=z;break;case"dropRight":f-=z;break;case"take":f=Yn(f,h+z);break;case"takeRight":h=fn(h,f-z);break}}return{start:h,end:f}}function d0(h){var f=h.match(Wu);return f?f[1].split(vf):[]}function Sp(h,f,x){f=ms(f,h);for(var T=-1,O=f.length,N=!1;++T<O;){var z=Hi(f[T]);if(!(N=h!=null&&x(h,z)))break;h=h[z]}return N||++T!=O?N:(O=h==null?0:h.length,!!O&&R0(O)&&qt(z,O)&&(it(h)||ou(h)))}function qc(h){var f=h.length,x=new h.constructor(f);return f&&typeof h[0]=="string"&&bt.call(h,"index")&&(x.index=h.index,x.input=h.input),x}function jn(h){return typeof h.constructor=="function"&&!Gs(h)?wl(Fi(h)):{}}function rx(h,f,x){var T=h.constructor;switch(f){case Er:return Hc(h);case Ye:case Ue:return new T(+h);case ur:return n0(h,x);case Xr:case Or:case St:case Rs:case ns:case He:case Ot:case Jt:case ci:return s0(h,x);case tt:return new T;case Tt:case cr:return new T(h);case Tn:return r0(h);case ot:return new T;case Tr:return i0(h)}}function ix(h,f){var x=f.length;if(!x)return h;var T=x-1;return f[T]=(x>1?"& ":"")+f[T],f=f.join(x>2?", ":" "),h.replace($u,`{
/* [wrapped with `+f+`] */
`)}function Vh(h){return it(h)||ou(h)||!!($m&&h&&h[$m])}function qt(h,f){var x=typeof h;return f=f??ee,!!f&&(x=="number"||x!="symbol"&&um.test(h))&&h>-1&&h%1==0&&h<f}function mr(h,f,x){if(!cn(x))return!1;var T=typeof f;return(T=="number"?bi(x)&&qt(f,x.length):T=="string"&&f in x)?Ys(x[f],h):!1}function De(h,f){if(it(h))return!1;var x=typeof h;return x=="number"||x=="symbol"||x=="boolean"||h==null||Gi(h)?!0:om.test(h)||!mf.test(h)||f!=null&&h in Rt(f)}function Ll(h){var f=typeof h;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?h!=="__proto__":h===null}function Jc(h){var f=Nl(h),x=D[f];if(typeof x!="function"||!(f in rt.prototype))return!1;if(h===x)return!0;var T=Wh(x);return!!T&&h===T[0]}function f0(h){return!!ah&&ah in h}var sx=pl?Ra:Rx;function Gs(h){var f=h&&h.constructor,x=typeof f=="function"&&f.prototype||ss;return h===x}function Qc(h){return h===h&&!cn(h)}function Uh(h,f){return function(x){return x==null?!1:x[h]===f&&(f!==t||h in Rt(x))}}function p0(h){var f=Z(h,function(T){return x.size===d&&x.clear(),T}),x=f.cache;return f}function g0(h,f){var x=h[1],T=f[1],O=x|T,N=O<(_|E|$),z=T==$&&x==M||T==$&&x==W&&h[7].length<=f[8]||T==($|W)&&f[7].length<=f[8]&&x==M;if(!(N||z))return h;T&_&&(h[2]=f[2],O|=x&_?0:P);var U=f[3];if(U){var J=h[3];h[3]=J?o0(J,U,f[4]):U,h[4]=J?ui(h[3],p):f[4]}return U=f[5],U&&(J=h[5],h[5]=J?cp(J,U,f[6]):U,h[6]=J?ui(h[5],p):f[6]),U=f[7],U&&(h[7]=U),T&$&&(h[8]=h[8]==null?f[8]:Yn(h[8],f[8])),h[9]==null&&(h[9]=f[9]),h[0]=f[0],h[1]=O,h}function m0(h){var f=[];if(h!=null)for(var x in Rt(h))f.push(x);return f}function wp(h){return kc.call(h)}function Gh(h,f,x){return f=fn(f===t?h.length-1:f,0),function(){for(var T=arguments,O=-1,N=fn(T.length-f,0),z=ne(N);++O<N;)z[O]=T[f+O];O=-1;for(var U=ne(f+1);++O<f;)U[O]=T[O];return U[f]=x(z),dr(h,this,U)}}function En(h,f){return f.length<2?h:js(h,er(f,0,-1))}function $i(h,f){for(var x=h.length,T=Yn(f.length,x),O=pr(h);T--;){var N=f[T];h[T]=qt(N,x)?O[N]:t}return h}function xs(h,f){if(!(f==="constructor"&&typeof h[f]=="function")&&f!="__proto__")return h[f]}var bp=Wi(Ah),Fl=Wf||function(h,f){return Yt.setTimeout(h,f)},Zr=Wi(gs);function Cp(h,f,x){var T=f+"";return Zr(h,ix(T,y0(d0(T),x)))}function Wi(h){var f=0,x=0;return function(){var T=ex(),O=fe-(T-x);if(x=T,O>0){if(++f>=he)return arguments[0]}else f=0;return h.apply(t,arguments)}}function Xh(h,f){var x=-1,T=h.length,O=T-1;for(f=f===t?T:f;++x<f;){var N=Ol(x,O),z=h[N];h[N]=h[x],h[x]=z}return h.length=f,h}var _p=p0(function(h){var f=[];return h.charCodeAt(0)===46&&f.push(""),h.replace(hc,function(x,T,O,N){f.push(O?N.replace(P1,"$1"):T||x)}),f});function Hi(h){if(typeof h=="string"||Gi(h))return h;var f=h+"";return f=="0"&&1/h==-Ce?"-0":f}function Po(h){if(h!=null){try{return _c.call(h)}catch{}try{return h+""}catch{}}return""}function y0(h,f){return Xn(Ee,function(x){var T="_."+x[0];f&x[1]&&!th(h,T)&&h.push(T)}),h.sort()}function v0(h){if(h instanceof rt)return h.clone();var f=new Kn(h.__wrapped__,h.__chain__);return f.__actions__=pr(h.__actions__),f.__index__=h.__index__,f.__values__=h.__values__,f}function Yh(h,f,x){(x?mr(h,f,x):f===t)?f=1:f=fn(lt(f),0);var T=h==null?0:h.length;if(!T||f<1)return[];for(var O=0,N=0,z=ne(fa(T/f));O<T;)z[N++]=er(h,O,O+=f);return z}function kp(h){for(var f=-1,x=h==null?0:h.length,T=0,O=[];++f<x;){var N=h[f];N&&(O[T++]=N)}return O}function Si(){var h=arguments.length;if(!h)return[];for(var f=ne(h-1),x=arguments[0],T=h;T--;)f[T-1]=arguments[T];return vo(it(x)?pr(x):[x],tn(f,1))}var vt=at(function(h,f){return wn(h)?ds(h,tn(f,1,wn,!0)):[]}),On=at(function(h,f){var x=yr(f);return wn(x)&&(x=t),wn(h)?ds(h,tn(f,1,wn,!0),Xe(x,2)):[]}),pn=at(function(h,f){var x=yr(f);return wn(x)&&(x=t),wn(h)?ds(h,tn(f,1,wn,!0),t,x):[]});function zn(h,f,x){var T=h==null?0:h.length;return T?(f=x||f===t?1:lt(f),er(h,f<0?0:f,T)):[]}function ei(h,f,x){var T=h==null?0:h.length;return T?(f=x||f===t?1:lt(f),f=T-f,er(h,0,f<0?0:f)):[]}function Bl(h,f){return h&&h.length?$c(h,Xe(f,3),!0,!0):[]}function Sn(h,f){return h&&h.length?$c(h,Xe(f,3),!0):[]}function Zc(h,f,x,T){var O=h==null?0:h.length;return O?(x&&typeof x!="number"&&mr(h,f,x)&&(x=0,T=O),Qm(h,f,x,T)):[]}function Ro(h,f,x){var T=h==null?0:h.length;if(!T)return-1;var O=x==null?0:lt(x);return O<0&&(O=fn(T+O,0)),nh(h,Xe(f,3),O)}function eu(h,f,x){var T=h==null?0:h.length;if(!T)return-1;var O=T-1;return x!==t&&(O=lt(x),O=x<0?fn(T+O,0):Yn(O,T-1)),nh(h,Xe(f,3),O,!0)}function Kh(h){var f=h==null?0:h.length;return f?tn(h,1):[]}function tu(h){var f=h==null?0:h.length;return f?tn(h,Ce):[]}function Nr(h,f){var x=h==null?0:h.length;return x?(f=f===t?1:lt(f),tn(h,f)):[]}function Tp(h){for(var f=-1,x=h==null?0:h.length,T={};++f<x;){var O=h[f];T[O[0]]=O[1]}return T}function Ta(h){return h&&h.length?h[0]:t}function Xs(h,f,x){var T=h==null?0:h.length;if(!T)return-1;var O=x==null?0:lt(x);return O<0&&(O=fn(T+O,0)),ul(h,f,O)}function qh(h){var f=h==null?0:h.length;return f?er(h,0,-1):[]}var Ep=at(function(h){var f=jt(h,Pl);return f.length&&f[0]===h[0]?kh(f):[]}),Do=at(function(h){var f=yr(h),x=jt(h,Pl);return f===yr(x)?f=t:x.pop(),x.length&&x[0]===h[0]?kh(x,Xe(f,2)):[]}),Jh=at(function(h){var f=yr(h),x=jt(h,Pl);return f=typeof f=="function"?f:t,f&&x.pop(),x.length&&x[0]===h[0]?kh(x,t,f):[]});function Io(h,f){return h==null?"":fh.call(h,f)}function yr(h){var f=h==null?0:h.length;return f?h[f-1]:t}function nu(h,f,x){var T=h==null?0:h.length;if(!T)return-1;var O=T;return x!==t&&(O=lt(x),O=O<0?fn(T+O,0):Yn(O,T-1)),f===f?q1(h,f,O):nh(h,Em,O,!0)}function Op(h,f){return h&&h.length?Mh(h,lt(f)):t}var Qh=at(ru);function ru(h,f){return h&&h.length&&f&&f.length?an(h,f):h}function vr(h,f,x){return h&&h.length&&f&&f.length?an(h,f,Xe(x,2)):h}function No(h,f,x){return h&&h.length&&f&&f.length?an(h,f,t,x):h}var Vi=vs(function(h,f){var x=h==null?0:h.length,T=bh(h,f);return xn(h,jt(f,function(O){return qt(O,x)?+O:O}).sort(lp)),T});function Lr(h,f){var x=[];if(!(h&&h.length))return x;var T=-1,O=[],N=h.length;for(f=Xe(f,3);++T<N;){var z=h[T];f(z,T,h)&&(x.push(z),O.push(T))}return xn(h,O),x}function Zh(h){return h==null?h:ph.call(h)}function Mp(h,f,x){var T=h==null?0:h.length;return T?(x&&typeof x!="number"&&mr(h,f,x)?(f=0,x=T):(f=f==null?0:lt(f),x=x===t?T:lt(x)),er(h,f,x)):[]}function Ap(h,f){return Ml(h,f)}function ox(h,f,x){return Ph(h,f,Xe(x,2))}function Lo(h,f){var x=h==null?0:h.length;if(x){var T=Ml(h,f);if(T<x&&Ys(h[T],f))return T}return-1}function x0(h,f){return Ml(h,f,!0)}function Pp(h,f,x){return Ph(h,f,Xe(x,2),!0)}function Ea(h,f){var x=h==null?0:h.length;if(x){var T=Ml(h,f,!0)-1;if(Ys(h[T],f))return T}return-1}function Rp(h){return h&&h.length?rp(h):[]}function Oa(h,f){return h&&h.length?rp(h,Xe(f,2)):[]}function S0(h){var f=h==null?0:h.length;return f?er(h,1,f):[]}function w0(h,f,x){return h&&h.length?(f=x||f===t?1:lt(f),er(h,0,f<0?0:f)):[]}function Dp(h,f,x){var T=h==null?0:h.length;return T?(f=x||f===t?1:lt(f),f=T-f,er(h,f<0?0:f,T)):[]}function ed(h,f){return h&&h.length?$c(h,Xe(f,3),!1,!0):[]}function ax(h,f){return h&&h.length?$c(h,Xe(f,3)):[]}var lx=at(function(h){return Hs(tn(h,1,wn,!0))}),b0=at(function(h){var f=yr(h);return wn(f)&&(f=t),Hs(tn(h,1,wn,!0),Xe(f,2))}),C0=at(function(h){var f=yr(h);return f=typeof f=="function"?f:t,Hs(tn(h,1,wn,!0),t,f)});function Ma(h){return h&&h.length?Hs(h):[]}function cx(h,f){return h&&h.length?Hs(h,Xe(f,2)):[]}function jl(h,f){return f=typeof f=="function"?f:t,h&&h.length?Hs(h,t,f):[]}function td(h){if(!(h&&h.length))return[];var f=0;return h=yo(h,function(x){if(wn(x))return f=fn(x.length,f),!0}),Ff(f,function(x){return jt(h,Nf(x))})}function Zt(h,f){if(!(h&&h.length))return[];var x=td(h);return f==null?x:jt(x,function(T){return dr(f,t,T)})}var ux=at(function(h,f){return wn(h)?ds(h,f):[]}),_0=at(function(h){return Dh(yo(h,wn))}),hx=at(function(h){var f=yr(h);return wn(f)&&(f=t),Dh(yo(h,wn),Xe(f,2))}),dx=at(function(h){var f=yr(h);return f=typeof f=="function"?f:t,Dh(yo(h,wn),t,f)}),k0=at(td);function T0(h,f){return Wc(h||[],f||[],va)}function fx(h,f){return Wc(h||[],f||[],Ca)}var wi=at(function(h){var f=h.length,x=f>1?h[f-1]:t;return x=typeof x=="function"?(h.pop(),x):t,Zt(h,x)});function nd(h){var f=D(h);return f.__chain__=!0,f}function px(h,f){return f(h),h}function Ui(h,f){return f(h)}var rd=vs(function(h){var f=h.length,x=f?h[0]:0,T=this.__wrapped__,O=function(N){return bh(N,h)};return f>1||this.__actions__.length||!(T instanceof rt)||!qt(x)?this.thru(O):(T=T.slice(x,+x+(f?1:0)),T.__actions__.push({func:Ui,args:[O],thisArg:t}),new Kn(T,this.__chain__).thru(function(N){return f&&!N.length&&N.push(t),N}))});function Aa(){return nd(this)}function id(){return new Kn(this.value(),this.__chain__)}function Ip(){this.__values__===t&&(this.__values__=bC(this.value()));var h=this.__index__>=this.__values__.length,f=h?t:this.__values__[this.__index__++];return{done:h,value:f}}function Np(){return this}function gx(h){for(var f,x=this;x instanceof ls;){var T=v0(x);T.__index__=0,T.__values__=t,f?O.__wrapped__=T:f=T;var O=T;x=x.__wrapped__}return O.__wrapped__=h,f}function Lp(){var h=this.__wrapped__;if(h instanceof rt){var f=h;return this.__actions__.length&&(f=new rt(this)),f=f.reverse(),f.__actions__.push({func:Ui,args:[Zh],thisArg:t}),new Kn(f,this.__chain__)}return this.thru(Zh)}function mx(){return Al(this.__wrapped__,this.__actions__)}var E0=Lh(function(h,f,x){bt.call(h,x)?++h[x]:hs(h,x,1)});function O0(h,f,x){var T=it(h)?Af:Nc;return x&&mr(h,f,x)&&(f=t),T(h,Xe(f,3))}function sd(h,f){var x=it(h)?yo:Yf;return x(h,Xe(f,3))}var od=ka(Ro),M0=ka(eu);function Fp(h,f){return tn(Pa(h,f),1)}function yx(h,f){return tn(Pa(h,f),Ce)}function A0(h,f,x){return x=x===t?1:lt(x),tn(Pa(h,f),x)}function ad(h,f){var x=it(h)?Xn:fs;return x(h,Xe(f,3))}function iu(h,f){var x=it(h)?eh:Jm;return x(h,Xe(f,3))}var Bp=Lh(function(h,f,x){bt.call(h,x)?h[x].push(f):hs(h,x,[f])});function ld(h,f,x,T){h=bi(h)?h:hd(h),x=x&&!T?lt(x):0;var O=h.length;return x<0&&(x=fn(O+x,0)),D0(h)?x<=O&&h.indexOf(f,x)>-1:!!O&&ul(h,f,x)>-1}var P0=at(function(h,f,x){var T=-1,O=typeof f=="function",N=bi(h)?ne(h.length):[];return fs(h,function(z){N[++T]=O?dr(f,z,x):mi(z,f,x)}),N}),vx=Lh(function(h,f,x){hs(h,x,f)});function Pa(h,f){var x=it(h)?jt:Qf;return x(h,Xe(f,3))}function xx(h,f,x,T){return h==null?[]:(it(f)||(f=f==null?[]:[f]),x=T?t:x,it(x)||(x=x==null?[]:[x]),jc(h,f,x))}var su=Lh(function(h,f,x){h[x?0:1].push(f)},function(){return[[],[]]});function Sx(h,f,x){var T=it(h)?Rf:Mm,O=arguments.length<3;return T(h,Xe(f,4),x,O,fs)}function cd(h,f,x){var T=it(h)?W1:Mm,O=arguments.length<3;return T(h,Xe(f,4),x,O,Jm)}function a(h,f){var x=it(h)?yo:Yf;return x(h,ke(Xe(f,3)))}function c(h){var f=it(h)?us:Zn;return f(h)}function g(h,f,x){(x?mr(h,f,x):f===t)?f=1:f=lt(f);var T=it(h)?ya:tp;return T(h,f)}function y(h){var f=it(h)?Km:vi;return f(h)}function b(h){if(h==null)return 0;if(bi(h))return D0(h)?ha(h):h.length;var f=Bn(h);return f==tt||f==ot?h.size:Ws(h).length}function k(h,f,x){var T=it(h)?Df:np;return x&&mr(h,f,x)&&(f=t),T(h,Xe(f,3))}var A=at(function(h,f){if(h==null)return[];var x=f.length;return x>1&&mr(h,f[0],f[1])?f=[]:x>2&&mr(f[0],f[1],f[2])&&(f=[f[0]]),jc(h,tn(f,1),[])}),B=$t||function(){return Yt.Date.now()};function H(h,f){if(typeof f!="function")throw new hi(o);return h=lt(h),function(){if(--h<1)return f.apply(this,arguments)}}function re(h,f,x){return f=x?t:f,f=h&&f==null?h.length:f,ys(h,$,t,t,t,t,f)}function ve(h,f){var x;if(typeof f!="function")throw new hi(o);return h=lt(h),function(){return--h>0&&(x=f.apply(this,arguments)),h<=1&&(f=t),x}}var we=at(function(h,f,x){var T=_;if(x.length){var O=ui(x,Us(we));T|=L}return ys(h,T,f,x,O)}),me=at(function(h,f,x){var T=_|E;if(x.length){var O=ui(x,Us(me));T|=L}return ys(f,T,h,x,O)});function Pe(h,f,x){f=x?t:f;var T=ys(h,M,t,t,t,t,t,f);return T.placeholder=Pe.placeholder,T}function Ne(h,f,x){f=x?t:f;var T=ys(h,F,t,t,t,t,t,f);return T.placeholder=Ne.placeholder,T}function Fe(h,f,x){var T,O,N,z,U,J,de=0,pe=!1,xe=!1,Me=!0;if(typeof h!="function")throw new hi(o);f=Ss(f)||0,cn(x)&&(pe=!!x.leading,xe="maxWait"in x,N=xe?fn(Ss(x.maxWait)||0,f):N,Me="trailing"in x?!!x.trailing:Me);function ze(bn){var Ks=T,Ia=O;return T=O=t,de=bn,z=h.apply(Ia,Ks),z}function Je(bn){return de=bn,U=Fl(yt,f),pe?ze(bn):z}function ht(bn){var Ks=bn-J,Ia=bn-de,NC=f-Ks;return xe?Yn(NC,N-Ia):NC}function Qe(bn){var Ks=bn-J,Ia=bn-de;return J===t||Ks>=f||Ks<0||xe&&Ia>=N}function yt(){var bn=B();if(Qe(bn))return xt(bn);U=Fl(yt,ht(bn))}function xt(bn){return U=t,Me&&T?ze(bn):(T=O=t,z)}function Xi(){U!==t&&op(U),de=0,T=J=O=U=t}function ti(){return U===t?z:xt(B())}function Yi(){var bn=B(),Ks=Qe(bn);if(T=arguments,O=this,J=bn,Ks){if(U===t)return Je(J);if(xe)return op(U),U=Fl(yt,f),ze(J)}return U===t&&(U=Fl(yt,f)),z}return Yi.cancel=Xi,Yi.flush=ti,Yi}var ln=at(function(h,f){return Xf(h,1,f)}),Q=at(function(h,f,x){return Xf(h,Ss(f)||0,x)});function X(h){return ys(h,q)}function Z(h,f){if(typeof h!="function"||f!=null&&typeof f!="function")throw new hi(o);var x=function(){var T=arguments,O=f?f.apply(this,T):T[0],N=x.cache;if(N.has(O))return N.get(O);var z=h.apply(this,T);return x.cache=N.set(O,z)||N,z};return x.cache=new(Z.Cache||di),x}Z.Cache=di;function ke(h){if(typeof h!="function")throw new hi(o);return function(){var f=arguments;switch(f.length){case 0:return!h.call(this);case 1:return!h.call(this,f[0]);case 2:return!h.call(this,f[0],f[1]);case 3:return!h.call(this,f[0],f[1],f[2])}return!h.apply(this,f)}}function je(h){return ve(2,h)}var Ge=t0(function(h,f){f=f.length==1&&it(f[0])?jt(f[0],Yr(Xe())):jt(tn(f,1),Yr(Xe()));var x=f.length;return at(function(T){for(var O=-1,N=Yn(T.length,x);++O<N;)T[O]=f[O].call(this,T[O]);return dr(h,this,T)})}),We=at(function(h,f){var x=ui(f,Us(We));return ys(h,L,t,f,x)}),qe=at(function(h,f){var x=ui(f,Us(qe));return ys(h,j,t,f,x)}),Mn=vs(function(h,f){return ys(h,W,t,t,t,f)});function Ct(h,f){if(typeof h!="function")throw new hi(o);return f=f===t?f:lt(f),at(h,f)}function Fo(h,f){if(typeof h!="function")throw new hi(o);return f=f==null?0:fn(lt(f),0),at(function(x){var T=x[f],O=Vs(x,0,f);return T&&vo(O,T),dr(h,this,O)})}function wx(h,f,x){var T=!0,O=!0;if(typeof h!="function")throw new hi(o);return cn(x)&&(T="leading"in x?!!x.leading:T,O="trailing"in x?!!x.trailing:O),Fe(h,f,{leading:T,maxWait:f,trailing:O})}function _A(h){return re(h,1)}function kA(h,f){return We(Ih(f),h)}function TA(){if(!arguments.length)return[];var h=arguments[0];return it(h)?h:[h]}function EA(h){return Dr(h,w)}function OA(h,f){return f=typeof f=="function"?f:t,Dr(h,w,f)}function MA(h){return Dr(h,m|w)}function AA(h,f){return f=typeof f=="function"?f:t,Dr(h,m|w,f)}function PA(h,f){return f==null||Ic(h,f,tr(f))}function Ys(h,f){return h===f||h!==h&&f!==f}var RA=$h(Eo),DA=$h(function(h,f){return h>=f}),ou=Th(function(){return arguments}())?Th:function(h){return gn(h)&&bt.call(h,"callee")&&!uh.call(h,"callee")},it=ne.isArray,IA=Of?Yr(Of):Zm;function bi(h){return h!=null&&R0(h.length)&&!Ra(h)}function wn(h){return gn(h)&&bi(h)}function NA(h){return h===!0||h===!1||gn(h)&&Ln(h)==Ye}var zl=Hf||Rx,LA=Mr?Yr(Mr):$s;function FA(h){return gn(h)&&h.nodeType===1&&!jp(h)}function BA(h){if(h==null)return!0;if(bi(h)&&(it(h)||typeof h=="string"||typeof h.splice=="function"||zl(h)||ud(h)||ou(h)))return!h.length;var f=Bn(h);if(f==tt||f==ot)return!h.size;if(Gs(h))return!Ws(h).length;for(var x in h)if(bt.call(h,x))return!1;return!0}function jA(h,f){return yi(h,f)}function zA(h,f,x){x=typeof x=="function"?x:t;var T=x?x(h,f):t;return T===t?yi(h,f,t,x):!!T}function bx(h){if(!gn(h))return!1;var f=Ln(h);return f==pt||f==$e||typeof h.message=="string"&&typeof h.name=="string"&&!jp(h)}function $A(h){return typeof h=="number"&&ml(h)}function Ra(h){if(!cn(h))return!1;var f=Ln(h);return f==ut||f==on||f==Ve||f==lr}function vC(h){return typeof h=="number"&&h==lt(h)}function R0(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=ee}function cn(h){var f=typeof h;return h!=null&&(f=="object"||f=="function")}function gn(h){return h!=null&&typeof h=="object"}var xC=ua?Yr(ua):e0;function WA(h,f){return h===f||Tl(h,f,Kc(f))}function HA(h,f,x){return x=typeof x=="function"?x:t,Tl(h,f,Kc(f),x)}function VA(h){return SC(h)&&h!=+h}function UA(h){if(sx(h))throw new et(s);return qf(h)}function GA(h){return h===null}function XA(h){return h==null}function SC(h){return typeof h=="number"||gn(h)&&Ln(h)==Tt}function jp(h){if(!gn(h)||Ln(h)!=en)return!1;var f=Fi(h);if(f===null)return!0;var x=bt.call(f,"constructor")&&f.constructor;return typeof x=="function"&&x instanceof x&&_c.call(x)==lh}var Cx=Zu?Yr(Zu):Fc;function YA(h){return vC(h)&&h>=-ee&&h<=ee}var wC=cl?Yr(cl):ps;function D0(h){return typeof h=="string"||!it(h)&&gn(h)&&Ln(h)==cr}function Gi(h){return typeof h=="symbol"||gn(h)&&Ln(h)==Tr}var ud=_m?Yr(_m):Bc;function KA(h){return h===t}function qA(h){return gn(h)&&Bn(h)==ts}function JA(h){return gn(h)&&Ln(h)==Ps}var QA=$h(Oo),ZA=$h(function(h,f){return h<=f});function bC(h){if(!h)return[];if(bi(h))return D0(h)?Kr(h):pr(h);if(Ls&&h[Ls])return Y1(h[Ls]());var f=Bn(h),x=f==tt?ih:f==ot?xo:hd;return x(h)}function Da(h){if(!h)return h===0?h:0;if(h=Ss(h),h===Ce||h===-Ce){var f=h<0?-1:1;return f*_e}return h===h?h:0}function lt(h){var f=Da(h),x=f%1;return f===f?x?f-x:f:0}function CC(h){return h?Bs(lt(h),0,V):0}function Ss(h){if(typeof h=="number")return h;if(Gi(h))return ye;if(cn(h)){var f=typeof h.valueOf=="function"?h.valueOf():h;h=cn(f)?f+"":f}if(typeof h!="string")return h===0?h:+h;h=Am(h);var x=R1.test(h);return x||cm.test(h)?Ju(h.slice(2),x?2:8):am.test(h)?ye:+h}function _C(h){return ji(h,Ci(h))}function eP(h){return h?Bs(lt(h),-ee,ee):h===0?h:0}function Dt(h){return h==null?"":Ir(h)}var tP=Rl(function(h,f){if(Gs(f)||bi(f)){ji(f,tr(f),h);return}for(var x in f)bt.call(f,x)&&va(h,x,f[x])}),kC=Rl(function(h,f){ji(f,Ci(f),h)}),I0=Rl(function(h,f,x,T){ji(f,Ci(f),h,T)}),nP=Rl(function(h,f,x,T){ji(f,tr(f),h,T)}),rP=vs(bh);function iP(h,f){var x=wl(h);return f==null?x:Ht(x,f)}var sP=at(function(h,f){h=Rt(h);var x=-1,T=f.length,O=T>2?f[2]:t;for(O&&mr(f[0],f[1],O)&&(T=1);++x<T;)for(var N=f[x],z=Ci(N),U=-1,J=z.length;++U<J;){var de=z[U],pe=h[de];(pe===t||Ys(pe,ss[de])&&!bt.call(h,de))&&(h[de]=N[de])}return h}),oP=at(function(h){return h.push(t,gp),dr(TC,t,h)});function aP(h,f){return Tm(h,Xe(f,3),Qr)}function lP(h,f){return Tm(h,Xe(f,3),To)}function cP(h,f){return h==null?h:Ch(h,Xe(f,3),Ci)}function uP(h,f){return h==null?h:Lc(h,Xe(f,3),Ci)}function hP(h,f){return h&&Qr(h,Xe(f,3))}function dP(h,f){return h&&To(h,Xe(f,3))}function fP(h){return h==null?[]:kl(h,tr(h))}function pP(h){return h==null?[]:kl(h,Ci(h))}function _x(h,f,x){var T=h==null?t:js(h,f);return T===t?x:T}function gP(h,f){return h!=null&&Sp(h,f,gi)}function kx(h,f){return h!=null&&Sp(h,f,Sa)}var mP=a0(function(h,f,x){f!=null&&typeof f.toString!="function"&&(f=kc.call(f)),h[f]=x},Ex(_i)),yP=a0(function(h,f,x){f!=null&&typeof f.toString!="function"&&(f=kc.call(f)),bt.call(h,f)?h[f].push(x):h[f]=[x]},Xe),vP=at(mi);function tr(h){return bi(h)?cs(h):Ws(h)}function Ci(h){return bi(h)?cs(h,!0):Jf(h)}function xP(h,f){var x={};return f=Xe(f,3),Qr(h,function(T,O,N){hs(x,f(T,O,N),T)}),x}function SP(h,f){var x={};return f=Xe(f,3),Qr(h,function(T,O,N){hs(x,O,f(T,O,N))}),x}var wP=Rl(function(h,f,x){wa(h,f,x)}),TC=Rl(function(h,f,x,T){wa(h,f,x,T)}),bP=vs(function(h,f){var x={};if(h==null)return x;var T=!1;f=jt(f,function(N){return N=ms(N,h),T||(T=N.length>1),N}),ji(h,Xc(h),x),T&&(x=Dr(x,m|v|w,mp));for(var O=f.length;O--;)Rh(x,f[O]);return x});function CP(h,f){return EC(h,ke(Xe(f)))}var _P=vs(function(h,f){return h==null?{}:ep(h,f)});function EC(h,f){if(h==null)return{};var x=jt(Xc(h),function(T){return[T]});return f=Xe(f),Mo(h,x,function(T,O){return f(T,O[0])})}function kP(h,f,x){f=ms(f,h);var T=-1,O=f.length;for(O||(O=1,h=t);++T<O;){var N=h==null?t:h[Hi(f[T])];N===t&&(T=O,N=x),h=Ra(N)?N.call(h):N}return h}function TP(h,f,x){return h==null?h:Ca(h,f,x)}function EP(h,f,x,T){return T=typeof T=="function"?T:t,h==null?h:Ca(h,f,x,T)}var OC=fp(tr),MC=fp(Ci);function OP(h,f,x){var T=it(h),O=T||zl(h)||ud(h);if(f=Xe(f,4),x==null){var N=h&&h.constructor;O?x=T?new N:[]:cn(h)?x=Ra(N)?wl(Fi(h)):{}:x={}}return(O?Xn:Qr)(h,function(z,U,J){return f(x,z,U,J)}),x}function MP(h,f){return h==null?!0:Rh(h,f)}function AP(h,f,x){return h==null?h:sp(h,f,Ih(x))}function PP(h,f,x,T){return T=typeof T=="function"?T:t,h==null?h:sp(h,f,Ih(x),T)}function hd(h){return h==null?[]:bc(h,tr(h))}function RP(h){return h==null?[]:bc(h,Ci(h))}function DP(h,f,x){return x===t&&(x=f,f=t),x!==t&&(x=Ss(x),x=x===x?x:0),f!==t&&(f=Ss(f),f=f===f?f:0),Bs(Ss(h),f,x)}function IP(h,f,x){return f=Da(f),x===t?(x=f,f=0):x=Da(x),h=Ss(h),Kf(h,f,x)}function NP(h,f,x){if(x&&typeof x!="boolean"&&mr(h,f,x)&&(f=x=t),x===t&&(typeof f=="boolean"?(x=f,f=t):typeof h=="boolean"&&(x=h,h=t)),h===t&&f===t?(h=0,f=1):(h=Da(h),f===t?(f=h,h=0):f=Da(f)),h>f){var T=h;h=f,f=T}if(x||h%1||f%1){var O=Mc();return Yn(h+O*(f-h+Tf("1e-"+((O+"").length-1))),f)}return Ol(h,f)}var LP=_a(function(h,f,x){return f=f.toLowerCase(),h+(x?AC(f):f)});function AC(h){return Tx(Dt(h).toLowerCase())}function PC(h){return h=Dt(h),h&&h.replace(hm,Dm).replace(Sm,"")}function FP(h,f,x){h=Dt(h),f=Ir(f);var T=h.length;x=x===t?T:Bs(lt(x),0,T);var O=x;return x-=f.length,x>=0&&h.slice(x,O)==f}function BP(h){return h=Dt(h),h&&rm.test(h)?h.replace(sa,Im):h}function jP(h){return h=Dt(h),h&&fc.test(h)?h.replace(dc,"\\$&"):h}var zP=_a(function(h,f,x){return h+(x?"-":"")+f.toLowerCase()}),$P=_a(function(h,f,x){return h+(x?" ":"")+f.toLowerCase()}),WP=up("toLowerCase");function HP(h,f,x){h=Dt(h),f=lt(f);var T=f?ha(h):0;if(!f||T>=f)return h;var O=(f-T)/2;return Uc(So(O),x)+h+Uc(fa(O),x)}function VP(h,f,x){h=Dt(h),f=lt(f);var T=f?ha(h):0;return f&&T<f?h+Uc(f-T,x):h}function UP(h,f,x){h=Dt(h),f=lt(f);var T=f?ha(h):0;return f&&T<f?Uc(f-T,x)+h:h}function GP(h,f,x){return x||f==null?f=0:f&&(f=+f),Hm(Dt(h).replace(yf,""),f||0)}function XP(h,f,x){return(x?mr(h,f,x):f===t)?f=1:f=lt(f),ba(Dt(h),f)}function YP(){var h=arguments,f=Dt(h[0]);return h.length<3?f:f.replace(h[1],h[2])}var KP=_a(function(h,f,x){return h+(x?"_":"")+f.toLowerCase()});function qP(h,f,x){return x&&typeof x!="number"&&mr(h,f,x)&&(f=x=t),x=x===t?V:x>>>0,x?(h=Dt(h),h&&(typeof f=="string"||f!=null&&!Cx(f))&&(f=Ir(f),!f&&dl(h))?Vs(Kr(h),0,x):h.split(f,x)):[]}var JP=_a(function(h,f,x){return h+(x?" ":"")+Tx(f)});function QP(h,f,x){return h=Dt(h),x=x==null?0:Bs(lt(x),0,h.length),f=Ir(f),h.slice(x,x+f.length)==f}function ZP(h,f,x){var T=D.templateSettings;x&&mr(h,f,x)&&(f=t),h=Dt(h),f=I0({},f,T,pp);var O=I0({},f.imports,T.imports,pp),N=tr(O),z=bc(O,N),U,J,de=0,pe=f.interpolate||Hu,xe="__p += '",Me=Cc((f.escape||Hu).source+"|"+pe.source+"|"+(pe===gf?oa:Hu).source+"|"+(f.evaluate||Hu).source+"|$","g"),ze="//# sourceURL="+(bt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++j1+"]")+`
`;h.replace(Me,function(Qe,yt,xt,Xi,ti,Yi){return xt||(xt=Xi),xe+=h.slice(de,Yi).replace(D1,Nm),yt&&(U=!0,xe+=`' +
__e(`+yt+`) +
'`),ti&&(J=!0,xe+=`';
`+ti+`;
__p += '`),xt&&(xe+=`' +
((__t = (`+xt+`)) == null ? '' : __t) +
'`),de=Yi+Qe.length,Qe}),xe+=`';
`;var Je=bt.call(f,"variable")&&f.variable;if(!Je)xe=`with (obj) {
`+xe+`
}
`;else if(A1.test(Je))throw new et(l);xe=(J?xe.replace(rl,""):xe).replace(ff,"$1").replace(pf,"$1;"),xe="function("+(Je||"obj")+`) {
`+(Je?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(J?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xe+`return __p
}`;var ht=DC(function(){return wt(N,ze+"return "+xe).apply(t,z)});if(ht.source=xe,bx(ht))throw ht;return ht}function eR(h){return Dt(h).toLowerCase()}function tR(h){return Dt(h).toUpperCase()}function nR(h,f,x){if(h=Dt(h),h&&(x||f===t))return Am(h);if(!h||!(f=Ir(f)))return h;var T=Kr(h),O=Kr(f),N=Pm(T,O),z=Bf(T,O)+1;return Vs(T,N,z).join("")}function rR(h,f,x){if(h=Dt(h),h&&(x||f===t))return h.slice(0,oh(h)+1);if(!h||!(f=Ir(f)))return h;var T=Kr(h),O=Bf(T,Kr(f))+1;return Vs(T,0,O).join("")}function iR(h,f,x){if(h=Dt(h),h&&(x||f===t))return h.replace(yf,"");if(!h||!(f=Ir(f)))return h;var T=Kr(h),O=Pm(T,Kr(f));return Vs(T,O).join("")}function sR(h,f){var x=R,T=se;if(cn(f)){var O="separator"in f?f.separator:O;x="length"in f?lt(f.length):x,T="omission"in f?Ir(f.omission):T}h=Dt(h);var N=h.length;if(dl(h)){var z=Kr(h);N=z.length}if(x>=N)return h;var U=x-ha(T);if(U<1)return T;var J=z?Vs(z,0,U).join(""):h.slice(0,U);if(O===t)return J+T;if(z&&(U+=J.length-U),Cx(O)){if(h.slice(U).search(O)){var de,pe=J;for(O.global||(O=Cc(O.source,Dt(xf.exec(O))+"g")),O.lastIndex=0;de=O.exec(pe);)var xe=de.index;J=J.slice(0,xe===t?U:xe)}}else if(h.indexOf(Ir(O),U)!=U){var Me=J.lastIndexOf(O);Me>-1&&(J=J.slice(0,Me))}return J+T}function oR(h){return h=Dt(h),h&&nm.test(h)?h.replace(ia,Lm):h}var aR=_a(function(h,f,x){return h+(x?" ":"")+f.toUpperCase()}),Tx=up("toUpperCase");function RC(h,f,x){return h=Dt(h),f=x?t:f,f===t?X1(h)?J1(h):V1(h):h.match(f)||[]}var DC=at(function(h,f){try{return dr(h,t,f)}catch(x){return bx(x)?x:new et(x)}}),lR=vs(function(h,f){return Xn(f,function(x){x=Hi(x),hs(h,x,we(h[x],h))}),h});function cR(h){var f=h==null?0:h.length,x=Xe();return h=f?jt(h,function(T){if(typeof T[1]!="function")throw new hi(o);return[x(T[0]),T[1]]}):[],at(function(T){for(var O=-1;++O<f;){var N=h[O];if(dr(N[0],this,T))return dr(N[1],this,T)}})}function uR(h){return qm(Dr(h,m))}function Ex(h){return function(){return h}}function hR(h,f){return h==null||h!==h?f:h}var dR=jh(),fR=jh(!0);function _i(h){return h}function Ox(h){return El(typeof h=="function"?h:Dr(h,m))}function pR(h){return Oh(Dr(h,m))}function gR(h,f){return Kt(h,Dr(f,m))}var mR=at(function(h,f){return function(x){return mi(x,h,f)}}),yR=at(function(h,f){return function(x){return mi(h,x,f)}});function Mx(h,f,x){var T=tr(f),O=kl(f,T);x==null&&!(cn(f)&&(O.length||!T.length))&&(x=f,f=h,h=this,O=kl(f,tr(f)));var N=!(cn(x)&&"chain"in x)||!!x.chain,z=Ra(h);return Xn(O,function(U){var J=f[U];h[U]=J,z&&(h.prototype[U]=function(){var de=this.__chain__;if(N||de){var pe=h(this.__wrapped__),xe=pe.__actions__=pr(this.__actions__);return xe.push({func:J,args:arguments,thisArg:h}),pe.__chain__=de,pe}return J.apply(h,vo([this.value()],arguments))})}),h}function vR(){return Yt._===this&&(Yt._=jm),this}function Ax(){}function xR(h){return h=lt(h),at(function(f){return Mh(f,h)})}var SR=zh(jt),wR=zh(Af),bR=zh(Df);function IC(h){return De(h)?Nf(Hi(h)):Qt(h)}function CR(h){return function(f){return h==null?t:js(h,f)}}var _R=dp(),kR=dp(!0);function Px(){return[]}function Rx(){return!1}function TR(){return{}}function ER(){return""}function OR(){return!0}function MR(h,f){if(h=lt(h),h<1||h>ee)return[];var x=V,T=Yn(h,V);f=Xe(f),h-=V;for(var O=Ff(T,f);++x<h;)f(x);return O}function AR(h){return it(h)?jt(h,Hi):Gi(h)?[h]:pr(_p(Dt(h)))}function PR(h){var f=++gl;return Dt(h)+f}var RR=Vc(function(h,f){return h+f},0),DR=Fn("ceil"),IR=Vc(function(h,f){return h/f},1),NR=Fn("floor");function LR(h){return h&&h.length?xa(h,_i,Eo):t}function FR(h,f){return h&&h.length?xa(h,Xe(f,2),Eo):t}function BR(h){return Om(h,_i)}function jR(h,f){return Om(h,Xe(f,2))}function zR(h){return h&&h.length?xa(h,_i,Oo):t}function $R(h,f){return h&&h.length?xa(h,Xe(f,2),Oo):t}var WR=Vc(function(h,f){return h*f},1),HR=Fn("round"),VR=Vc(function(h,f){return h-f},0);function UR(h){return h&&h.length?Lf(h,_i):0}function GR(h,f){return h&&h.length?Lf(h,Xe(f,2)):0}return D.after=H,D.ary=re,D.assign=tP,D.assignIn=kC,D.assignInWith=I0,D.assignWith=nP,D.at=rP,D.before=ve,D.bind=we,D.bindAll=lR,D.bindKey=me,D.castArray=TA,D.chain=nd,D.chunk=Yh,D.compact=kp,D.concat=Si,D.cond=cR,D.conforms=uR,D.constant=Ex,D.countBy=E0,D.create=iP,D.curry=Pe,D.curryRight=Ne,D.debounce=Fe,D.defaults=sP,D.defaultsDeep=oP,D.defer=ln,D.delay=Q,D.difference=vt,D.differenceBy=On,D.differenceWith=pn,D.drop=zn,D.dropRight=ei,D.dropRightWhile=Bl,D.dropWhile=Sn,D.fill=Zc,D.filter=sd,D.flatMap=Fp,D.flatMapDeep=yx,D.flatMapDepth=A0,D.flatten=Kh,D.flattenDeep=tu,D.flattenDepth=Nr,D.flip=X,D.flow=dR,D.flowRight=fR,D.fromPairs=Tp,D.functions=fP,D.functionsIn=pP,D.groupBy=Bp,D.initial=qh,D.intersection=Ep,D.intersectionBy=Do,D.intersectionWith=Jh,D.invert=mP,D.invertBy=yP,D.invokeMap=P0,D.iteratee=Ox,D.keyBy=vx,D.keys=tr,D.keysIn=Ci,D.map=Pa,D.mapKeys=xP,D.mapValues=SP,D.matches=pR,D.matchesProperty=gR,D.memoize=Z,D.merge=wP,D.mergeWith=TC,D.method=mR,D.methodOf=yR,D.mixin=Mx,D.negate=ke,D.nthArg=xR,D.omit=bP,D.omitBy=CP,D.once=je,D.orderBy=xx,D.over=SR,D.overArgs=Ge,D.overEvery=wR,D.overSome=bR,D.partial=We,D.partialRight=qe,D.partition=su,D.pick=_P,D.pickBy=EC,D.property=IC,D.propertyOf=CR,D.pull=Qh,D.pullAll=ru,D.pullAllBy=vr,D.pullAllWith=No,D.pullAt=Vi,D.range=_R,D.rangeRight=kR,D.rearg=Mn,D.reject=a,D.remove=Lr,D.rest=Ct,D.reverse=Zh,D.sampleSize=g,D.set=TP,D.setWith=EP,D.shuffle=y,D.slice=Mp,D.sortBy=A,D.sortedUniq=Rp,D.sortedUniqBy=Oa,D.split=qP,D.spread=Fo,D.tail=S0,D.take=w0,D.takeRight=Dp,D.takeRightWhile=ed,D.takeWhile=ax,D.tap=px,D.throttle=wx,D.thru=Ui,D.toArray=bC,D.toPairs=OC,D.toPairsIn=MC,D.toPath=AR,D.toPlainObject=_C,D.transform=OP,D.unary=_A,D.union=lx,D.unionBy=b0,D.unionWith=C0,D.uniq=Ma,D.uniqBy=cx,D.uniqWith=jl,D.unset=MP,D.unzip=td,D.unzipWith=Zt,D.update=AP,D.updateWith=PP,D.values=hd,D.valuesIn=RP,D.without=ux,D.words=RC,D.wrap=kA,D.xor=_0,D.xorBy=hx,D.xorWith=dx,D.zip=k0,D.zipObject=T0,D.zipObjectDeep=fx,D.zipWith=wi,D.entries=OC,D.entriesIn=MC,D.extend=kC,D.extendWith=I0,Mx(D,D),D.add=RR,D.attempt=DC,D.camelCase=LP,D.capitalize=AC,D.ceil=DR,D.clamp=DP,D.clone=EA,D.cloneDeep=MA,D.cloneDeepWith=AA,D.cloneWith=OA,D.conformsTo=PA,D.deburr=PC,D.defaultTo=hR,D.divide=IR,D.endsWith=FP,D.eq=Ys,D.escape=BP,D.escapeRegExp=jP,D.every=O0,D.find=od,D.findIndex=Ro,D.findKey=aP,D.findLast=M0,D.findLastIndex=eu,D.findLastKey=lP,D.floor=NR,D.forEach=ad,D.forEachRight=iu,D.forIn=cP,D.forInRight=uP,D.forOwn=hP,D.forOwnRight=dP,D.get=_x,D.gt=RA,D.gte=DA,D.has=gP,D.hasIn=kx,D.head=Ta,D.identity=_i,D.includes=ld,D.indexOf=Xs,D.inRange=IP,D.invoke=vP,D.isArguments=ou,D.isArray=it,D.isArrayBuffer=IA,D.isArrayLike=bi,D.isArrayLikeObject=wn,D.isBoolean=NA,D.isBuffer=zl,D.isDate=LA,D.isElement=FA,D.isEmpty=BA,D.isEqual=jA,D.isEqualWith=zA,D.isError=bx,D.isFinite=$A,D.isFunction=Ra,D.isInteger=vC,D.isLength=R0,D.isMap=xC,D.isMatch=WA,D.isMatchWith=HA,D.isNaN=VA,D.isNative=UA,D.isNil=XA,D.isNull=GA,D.isNumber=SC,D.isObject=cn,D.isObjectLike=gn,D.isPlainObject=jp,D.isRegExp=Cx,D.isSafeInteger=YA,D.isSet=wC,D.isString=D0,D.isSymbol=Gi,D.isTypedArray=ud,D.isUndefined=KA,D.isWeakMap=qA,D.isWeakSet=JA,D.join=Io,D.kebabCase=zP,D.last=yr,D.lastIndexOf=nu,D.lowerCase=$P,D.lowerFirst=WP,D.lt=QA,D.lte=ZA,D.max=LR,D.maxBy=FR,D.mean=BR,D.meanBy=jR,D.min=zR,D.minBy=$R,D.stubArray=Px,D.stubFalse=Rx,D.stubObject=TR,D.stubString=ER,D.stubTrue=OR,D.multiply=WR,D.nth=Op,D.noConflict=vR,D.noop=Ax,D.now=B,D.pad=HP,D.padEnd=VP,D.padStart=UP,D.parseInt=GP,D.random=NP,D.reduce=Sx,D.reduceRight=cd,D.repeat=XP,D.replace=YP,D.result=kP,D.round=HR,D.runInContext=K,D.sample=c,D.size=b,D.snakeCase=KP,D.some=k,D.sortedIndex=Ap,D.sortedIndexBy=ox,D.sortedIndexOf=Lo,D.sortedLastIndex=x0,D.sortedLastIndexBy=Pp,D.sortedLastIndexOf=Ea,D.startCase=JP,D.startsWith=QP,D.subtract=VR,D.sum=UR,D.sumBy=GR,D.template=ZP,D.times=MR,D.toFinite=Da,D.toInteger=lt,D.toLength=CC,D.toLower=eR,D.toNumber=Ss,D.toSafeInteger=eP,D.toString=Dt,D.toUpper=tR,D.trim=nR,D.trimEnd=rR,D.trimStart=iR,D.truncate=sR,D.unescape=oR,D.uniqueId=PR,D.upperCase=aR,D.upperFirst=Tx,D.each=ad,D.eachRight=iu,D.first=Ta,Mx(D,function(){var h={};return Qr(D,function(f,x){bt.call(D.prototype,x)||(h[x]=f)}),h}(),{chain:!1}),D.VERSION=r,Xn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){D[h].placeholder=D}),Xn(["drop","take"],function(h,f){rt.prototype[h]=function(x){x=x===t?1:fn(lt(x),0);var T=this.__filtered__&&!f?new rt(this):this.clone();return T.__filtered__?T.__takeCount__=Yn(x,T.__takeCount__):T.__views__.push({size:Yn(x,V),type:h+(T.__dir__<0?"Right":"")}),T},rt.prototype[h+"Right"]=function(x){return this.reverse()[h](x).reverse()}}),Xn(["filter","map","takeWhile"],function(h,f){var x=f+1,T=x==ge||x==Se;rt.prototype[h]=function(O){var N=this.clone();return N.__iteratees__.push({iteratee:Xe(O,3),type:x}),N.__filtered__=N.__filtered__||T,N}}),Xn(["head","last"],function(h,f){var x="take"+(f?"Right":"");rt.prototype[h]=function(){return this[x](1).value()[0]}}),Xn(["initial","tail"],function(h,f){var x="drop"+(f?"":"Right");rt.prototype[h]=function(){return this.__filtered__?new rt(this):this[x](1)}}),rt.prototype.compact=function(){return this.filter(_i)},rt.prototype.find=function(h){return this.filter(h).head()},rt.prototype.findLast=function(h){return this.reverse().find(h)},rt.prototype.invokeMap=at(function(h,f){return typeof h=="function"?new rt(this):this.map(function(x){return mi(x,h,f)})}),rt.prototype.reject=function(h){return this.filter(ke(Xe(h)))},rt.prototype.slice=function(h,f){h=lt(h);var x=this;return x.__filtered__&&(h>0||f<0)?new rt(x):(h<0?x=x.takeRight(-h):h&&(x=x.drop(h)),f!==t&&(f=lt(f),x=f<0?x.dropRight(-f):x.take(f-h)),x)},rt.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},rt.prototype.toArray=function(){return this.take(V)},Qr(rt.prototype,function(h,f){var x=/^(?:filter|find|map|reject)|While$/.test(f),T=/^(?:head|last)$/.test(f),O=D[T?"take"+(f=="last"?"Right":""):f],N=T||/^find/.test(f);O&&(D.prototype[f]=function(){var z=this.__wrapped__,U=T?[1]:arguments,J=z instanceof rt,de=U[0],pe=J||it(z),xe=function(yt){var xt=O.apply(D,vo([yt],U));return T&&Me?xt[0]:xt};pe&&x&&typeof de=="function"&&de.length!=1&&(J=pe=!1);var Me=this.__chain__,ze=!!this.__actions__.length,Je=N&&!Me,ht=J&&!ze;if(!N&&pe){z=ht?z:new rt(this);var Qe=h.apply(z,U);return Qe.__actions__.push({func:Ui,args:[xe],thisArg:t}),new Kn(Qe,Me)}return Je&&ht?h.apply(this,U):(Qe=this.thru(xe),Je?T?Qe.value()[0]:Qe.value():Qe)})}),Xn(["pop","push","shift","sort","splice","unshift"],function(h){var f=Is[h],x=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",T=/^(?:pop|shift)$/.test(h);D.prototype[h]=function(){var O=arguments;if(T&&!this.__chain__){var N=this.value();return f.apply(it(N)?N:[],O)}return this[x](function(z){return f.apply(it(z)?z:[],O)})}}),Qr(rt.prototype,function(h,f){var x=D[f];if(x){var T=x.name+"";bt.call(xl,T)||(xl[T]=[]),xl[T].push({name:f,func:x})}}),xl[Il(t,E).name]=[{name:"wrapper",func:t}],rt.prototype.clone=yh,rt.prototype.reverse=Uf,rt.prototype.value=bl,D.prototype.at=rd,D.prototype.chain=Aa,D.prototype.commit=id,D.prototype.next=Ip,D.prototype.plant=gx,D.prototype.reverse=Lp,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=mx,D.prototype.first=D.prototype.head,Ls&&(D.prototype[Ls]=Np),D},fl=Q1();is?((is.exports=fl)._=fl,wc._=fl):Yt._=fl}).call(Jz)}(ng,ng.exports)),ng.exports}var Zz=Qz();const e4=Gw(Zz),Pd=I.forwardRef(({fontWeight:n="400",textTransform:e="none",theme:t="default",sx:r,variant:i="outlined",...s},o)=>{const l=()=>t==="error"?Ad.LIGHT:t==="disabled"?uy.LIGHT:mF,u=()=>t==="error"?Ad.DARK:t==="disabled"?uy.MEDIUM:Qs.MEDIUM;return te.jsx(qz,{ref:o,variant:i,style:{borderRadius:"5px"},sx:e4.merge({backgroundColor:l(),color:u(),fontWeight:n,textTransform:e,"&.Mui-disabled":{color:uy.MEDIUM,backgroundColor:uy.LIGHT}}),...s})});function fM(n,e){return function(){return n.apply(e,arguments)}}const{toString:t4}=Object.prototype,{getPrototypeOf:Ub}=Object,l1=(n=>e=>{const t=t4.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ho=n=>(n=n.toLowerCase(),e=>l1(e)===n),c1=n=>e=>typeof e===n,{isArray:uf}=Array,Og=c1("undefined");function n4(n){return n!==null&&!Og(n)&&n.constructor!==null&&!Og(n.constructor)&&es(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const pM=ho("ArrayBuffer");function r4(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&pM(n.buffer),e}const i4=c1("string"),es=c1("function"),gM=c1("number"),u1=n=>n!==null&&typeof n=="object",s4=n=>n===!0||n===!1,Fy=n=>{if(l1(n)!=="object")return!1;const e=Ub(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},o4=ho("Date"),a4=ho("File"),l4=ho("Blob"),c4=ho("FileList"),u4=n=>u1(n)&&es(n.pipe),h4=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||es(n.append)&&((e=l1(n))==="formdata"||e==="object"&&es(n.toString)&&n.toString()==="[object FormData]"))},d4=ho("URLSearchParams"),[f4,p4,g4,m4]=["ReadableStream","Request","Response","Headers"].map(ho),y4=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qg(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),uf(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,n[l],l,n)}}function mM(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const vu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yM=n=>!Og(n)&&n!==vu;function mw(){const{caseless:n}=yM(this)&&this||{},e={},t=(r,i)=>{const s=n&&mM(e,i)||i;Fy(e[s])&&Fy(r)?e[s]=mw(e[s],r):Fy(r)?e[s]=mw({},r):uf(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&qg(arguments[r],t);return e}const v4=(n,e,t,{allOwnKeys:r}={})=>(qg(e,(i,s)=>{t&&es(i)?n[s]=fM(i,t):n[s]=i},{allOwnKeys:r}),n),x4=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),S4=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},w4=(n,e,t,r)=>{let i,s,o;const l={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!l[o]&&(e[o]=n[o],l[o]=!0);n=t!==!1&&Ub(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},b4=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},C4=n=>{if(!n)return null;if(uf(n))return n;let e=n.length;if(!gM(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},_4=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Ub(Uint8Array)),k4=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},T4=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},E4=ho("HTMLFormElement"),O4=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Pk=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),M4=ho("RegExp"),vM=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};qg(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},A4=n=>{vM(n,(e,t)=>{if(es(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(es(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},P4=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return uf(n)?r(n):r(String(n).split(e)),t},R4=()=>{},D4=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,uS="abcdefghijklmnopqrstuvwxyz",Rk="0123456789",xM={DIGIT:Rk,ALPHA:uS,ALPHA_DIGIT:uS+uS.toUpperCase()+Rk},I4=(n=16,e=xM.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function N4(n){return!!(n&&es(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const L4=n=>{const e=new Array(10),t=(r,i)=>{if(u1(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=uf(r)?[]:{};return qg(r,(o,l)=>{const u=t(o,i+1);!Og(u)&&(s[l]=u)}),e[i]=void 0,s}}return r};return t(n,0)},F4=ho("AsyncFunction"),B4=n=>n&&(u1(n)||es(n))&&es(n.then)&&es(n.catch),SM=((n,e)=>n?setImmediate:e?((t,r)=>(vu.addEventListener("message",({source:i,data:s})=>{i===vu&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),vu.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",es(vu.postMessage)),j4=typeof queueMicrotask<"u"?queueMicrotask.bind(vu):typeof process<"u"&&process.nextTick||SM,oe={isArray:uf,isArrayBuffer:pM,isBuffer:n4,isFormData:h4,isArrayBufferView:r4,isString:i4,isNumber:gM,isBoolean:s4,isObject:u1,isPlainObject:Fy,isReadableStream:f4,isRequest:p4,isResponse:g4,isHeaders:m4,isUndefined:Og,isDate:o4,isFile:a4,isBlob:l4,isRegExp:M4,isFunction:es,isStream:u4,isURLSearchParams:d4,isTypedArray:_4,isFileList:c4,forEach:qg,merge:mw,extend:v4,trim:y4,stripBOM:x4,inherits:S4,toFlatObject:w4,kindOf:l1,kindOfTest:ho,endsWith:b4,toArray:C4,forEachEntry:k4,matchAll:T4,isHTMLForm:E4,hasOwnProperty:Pk,hasOwnProp:Pk,reduceDescriptors:vM,freezeMethods:A4,toObjectSet:P4,toCamelCase:O4,noop:R4,toFiniteNumber:D4,findKey:mM,global:vu,isContextDefined:yM,ALPHABET:xM,generateString:I4,isSpecCompliantForm:N4,toJSONObject:L4,isAsyncFn:F4,isThenable:B4,setImmediate:SM,asap:j4};function st(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const wM=st.prototype,bM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{bM[n]={value:n}});Object.defineProperties(st,bM);Object.defineProperty(wM,"isAxiosError",{value:!0});st.from=(n,e,t,r,i,s)=>{const o=Object.create(wM);return oe.toFlatObject(n,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),st.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const z4=null;function yw(n){return oe.isPlainObject(n)||oe.isArray(n)}function CM(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function Dk(n,e,t){return n?n.concat(e).map(function(i,s){return i=CM(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function $4(n){return oe.isArray(n)&&!n.some(yw)}const W4=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function h1(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,_){return!oe.isUndefined(_[C])});const r=t.metaTokens,i=t.visitor||p,s=t.dots,o=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(oe.isDate(S))return S.toISOString();if(!u&&oe.isBlob(S))throw new st("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(S)||oe.isTypedArray(S)?u&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,C,_){let E=S;if(S&&!_&&typeof S=="object"){if(oe.endsWith(C,"{}"))C=r?C:C.slice(0,-2),S=JSON.stringify(S);else if(oe.isArray(S)&&$4(S)||(oe.isFileList(S)||oe.endsWith(C,"[]"))&&(E=oe.toArray(S)))return C=CM(C),E.forEach(function(M,F){!(oe.isUndefined(M)||M===null)&&e.append(o===!0?Dk([C],F,s):o===null?C:C+"[]",d(M))}),!1}return yw(S)?!0:(e.append(Dk(_,C,s),d(S)),!1)}const m=[],v=Object.assign(W4,{defaultVisitor:p,convertValue:d,isVisitable:yw});function w(S,C){if(!oe.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+C.join("."));m.push(S),oe.forEach(S,function(E,P){(!(oe.isUndefined(E)||E===null)&&i.call(e,E,oe.isString(P)?P.trim():P,C,v))===!0&&w(E,C?C.concat(P):[P])}),m.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return w(n),e}function Ik(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Gb(n,e){this._pairs=[],n&&h1(n,this,e)}const _M=Gb.prototype;_M.append=function(e,t){this._pairs.push([e,t])};_M.toString=function(e){const t=e?function(r){return e.call(this,r,Ik)}:Ik;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function H4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kM(n,e,t){if(!e)return n;const r=t&&t.encode||H4;oe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=oe.isURLSearchParams(e)?e.toString():new Gb(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class Nk{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const TM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V4=typeof URLSearchParams<"u"?URLSearchParams:Gb,U4=typeof FormData<"u"?FormData:null,G4=typeof Blob<"u"?Blob:null,X4={isBrowser:!0,classes:{URLSearchParams:V4,FormData:U4,Blob:G4},protocols:["http","https","file","blob","url","data"]},Xb=typeof window<"u"&&typeof document<"u",vw=typeof navigator=="object"&&navigator||void 0,Y4=Xb&&(!vw||["ReactNative","NativeScript","NS"].indexOf(vw.product)<0),K4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",q4=Xb&&window.location.href||"http://localhost",J4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xb,hasStandardBrowserEnv:Y4,hasStandardBrowserWebWorkerEnv:K4,navigator:vw,origin:q4},Symbol.toStringTag,{value:"Module"})),jr={...J4,...X4};function Q4(n,e){return h1(n,new jr.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return jr.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Z4(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function e$(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function EM(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=s>=t.length;return o=!o&&oe.isArray(i)?i.length:o,u?(oe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!oe.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&oe.isArray(i[o])&&(i[o]=e$(i[o])),!l)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,i)=>{e(Z4(r),i,t,0)}),t}return null}function t$(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const Jg={transitional:TM,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(EM(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Q4(e,this.formSerializer).toString();if((l=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return h1(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),t$(e)):e}],transformResponse:[function(e){const t=this.transitional||Jg.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?st.from(l,st.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jr.classes.FormData,Blob:jr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{Jg.headers[n]={}});const n$=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),r$=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&n$[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Lk=Symbol("internals");function Kp(n){return n&&String(n).trim().toLowerCase()}function By(n){return n===!1||n==null?n:oe.isArray(n)?n.map(By):String(n)}function i$(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const s$=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function hS(n,e,t,r,i){if(oe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function o$(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function a$(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Ai{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(l,u,d){const p=Kp(u);if(!p)throw new Error("header name must be a non-empty string");const m=oe.findKey(i,p);(!m||i[m]===void 0||d===!0||d===void 0&&i[m]!==!1)&&(i[m||u]=By(l))}const o=(l,u)=>oe.forEach(l,(d,p)=>s(d,p,u));if(oe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(oe.isString(e)&&(e=e.trim())&&!s$(e))o(r$(e),t);else if(oe.isHeaders(e))for(const[l,u]of e.entries())s(u,l,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=Kp(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return i$(i);if(oe.isFunction(t))return t.call(this,i,r);if(oe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kp(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||hS(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Kp(o),o){const l=oe.findKey(r,o);l&&(!t||hS(r,r[l],l,t))&&(delete r[l],i=!0)}}return oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||hS(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return oe.forEach(this,(i,s)=>{const o=oe.findKey(r,s);if(o){t[o]=By(i),delete t[s];return}const l=e?o$(s):String(s).trim();l!==s&&delete t[s],t[l]=By(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Lk]=this[Lk]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Kp(o);r[l]||(a$(i,o),r[l]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}}Ai.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Ai.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(Ai);function dS(n,e){const t=this||Jg,r=e||t,i=Ai.from(r.headers);let s=r.data;return oe.forEach(n,function(l){s=l.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function OM(n){return!!(n&&n.__CANCEL__)}function hf(n,e,t){st.call(this,n??"canceled",st.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(hf,st,{__CANCEL__:!0});function MM(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new st("Request failed with status code "+t.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function l$(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function c$(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),p=r[s];o||(o=d),t[i]=u,r[i]=d;let m=s,v=0;for(;m!==i;)v+=t[m++],m=m%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),d-o<e)return;const w=p&&d-p;return w?Math.round(v*1e3/w):void 0}}function u$(n,e){let t=0,r=1e3/e,i,s;const o=(d,p=Date.now())=>{t=p,i=null,s&&(clearTimeout(s),s=null),n.apply(null,d)};return[(...d)=>{const p=Date.now(),m=p-t;m>=r?o(d,p):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-m)))},()=>i&&o(i)]}const dv=(n,e,t=3)=>{let r=0;const i=c$(50,250);return u$(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-r,d=i(u),p=o<=l;r=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&p?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};n(m)},t)},Fk=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Bk=n=>(...e)=>oe.asap(()=>n(...e)),h$=jr.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,jr.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(jr.origin),jr.navigator&&/(msie|trident)/i.test(jr.navigator.userAgent)):()=>!0,d$=jr.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),oe.isString(r)&&o.push("path="+r),oe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function f$(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function p$(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function AM(n,e){return n&&!f$(e)?p$(n,e):e}const jk=n=>n instanceof Ai?{...n}:n;function Du(n,e){e=e||{};const t={};function r(d,p,m,v){return oe.isPlainObject(d)&&oe.isPlainObject(p)?oe.merge.call({caseless:v},d,p):oe.isPlainObject(p)?oe.merge({},p):oe.isArray(p)?p.slice():p}function i(d,p,m,v){if(oe.isUndefined(p)){if(!oe.isUndefined(d))return r(void 0,d,m,v)}else return r(d,p,m,v)}function s(d,p){if(!oe.isUndefined(p))return r(void 0,p)}function o(d,p){if(oe.isUndefined(p)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,p)}function l(d,p,m){if(m in e)return r(d,p);if(m in n)return r(void 0,d)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,p,m)=>i(jk(d),jk(p),m,!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(p){const m=u[p]||i,v=m(n[p],e[p],p);oe.isUndefined(v)&&m!==l||(t[p]=v)}),t}const PM=n=>{const e=Du({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Ai.from(o),e.url=kM(AM(e.baseURL,e.url),n.params,n.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(oe.isFormData(t)){if(jr.hasStandardBrowserEnv||jr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...p]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...p].join("; "))}}if(jr.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&h$(e.url))){const d=i&&s&&d$.read(s);d&&o.set(i,d)}return e},g$=typeof XMLHttpRequest<"u",m$=g$&&function(n){return new Promise(function(t,r){const i=PM(n);let s=i.data;const o=Ai.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,p,m,v,w,S;function C(){w&&w(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function E(){if(!_)return;const M=Ai.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),L={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:M,config:n,request:_};MM(function($){t($),C()},function($){r($),C()},L),_=null}"onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(E)},_.onabort=function(){_&&(r(new st("Request aborted",st.ECONNABORTED,n,_)),_=null)},_.onerror=function(){r(new st("Network Error",st.ERR_NETWORK,n,_)),_=null},_.ontimeout=function(){let F=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const L=i.transitional||TM;i.timeoutErrorMessage&&(F=i.timeoutErrorMessage),r(new st(F,L.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,n,_)),_=null},s===void 0&&o.setContentType(null),"setRequestHeader"in _&&oe.forEach(o.toJSON(),function(F,L){_.setRequestHeader(L,F)}),oe.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),l&&l!=="json"&&(_.responseType=i.responseType),d&&([v,S]=dv(d,!0),_.addEventListener("progress",v)),u&&_.upload&&([m,w]=dv(u),_.upload.addEventListener("progress",m),_.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(p=M=>{_&&(r(!M||M.type?new hf(null,n,_):M),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const P=l$(i.url);if(P&&jr.protocols.indexOf(P)===-1){r(new st("Unsupported protocol "+P+":",st.ERR_BAD_REQUEST,n));return}_.send(s||null)})},y$=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const p=d instanceof Error?d:this.reason;r.abort(p instanceof st?p:new hf(p instanceof Error?p.message:p))}};let o=e&&setTimeout(()=>{o=null,s(new st(`timeout ${e} of ms exceeded`,st.ETIMEDOUT))},e);const l=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),n=null)};n.forEach(d=>d.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>oe.asap(l),u}},v$=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},x$=async function*(n,e){for await(const t of S$(n))yield*v$(t,e)},S$=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},zk=(n,e,t,r)=>{const i=x$(n,e);let s=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:p}=await i.next();if(d){l(),u.close();return}let m=p.byteLength;if(t){let v=s+=m;t(v)}u.enqueue(new Uint8Array(p))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},d1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",RM=d1&&typeof ReadableStream=="function",w$=d1&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),DM=(n,...e)=>{try{return!!n(...e)}catch{return!1}},b$=RM&&DM(()=>{let n=!1;const e=new Request(jr.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),$k=64*1024,xw=RM&&DM(()=>oe.isReadableStream(new Response("").body)),fv={stream:xw&&(n=>n.body)};d1&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!fv[e]&&(fv[e]=oe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new st(`Response type '${e}' is not supported`,st.ERR_NOT_SUPPORT,r)})})})(new Response);const C$=async n=>{if(n==null)return 0;if(oe.isBlob(n))return n.size;if(oe.isSpecCompliantForm(n))return(await new Request(jr.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(n)||oe.isArrayBuffer(n))return n.byteLength;if(oe.isURLSearchParams(n)&&(n=n+""),oe.isString(n))return(await w$(n)).byteLength},_$=async(n,e)=>{const t=oe.toFiniteNumber(n.getContentLength());return t??C$(e)},k$=d1&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:p,withCredentials:m="same-origin",fetchOptions:v}=PM(n);d=d?(d+"").toLowerCase():"text";let w=y$([i,s&&s.toAbortSignal()],o),S;const C=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let _;try{if(u&&b$&&t!=="get"&&t!=="head"&&(_=await _$(p,r))!==0){let L=new Request(e,{method:"POST",body:r,duplex:"half"}),j;if(oe.isFormData(r)&&(j=L.headers.get("content-type"))&&p.setContentType(j),L.body){const[$,W]=Fk(_,dv(Bk(u)));r=zk(L.body,$k,$,W)}}oe.isString(m)||(m=m?"include":"omit");const E="credentials"in Request.prototype;S=new Request(e,{...v,signal:w,method:t.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:E?m:void 0});let P=await fetch(S);const M=xw&&(d==="stream"||d==="response");if(xw&&(l||M&&C)){const L={};["status","statusText","headers"].forEach(q=>{L[q]=P[q]});const j=oe.toFiniteNumber(P.headers.get("content-length")),[$,W]=l&&Fk(j,dv(Bk(l),!0))||[];P=new Response(zk(P.body,$k,$,()=>{W&&W(),C&&C()}),L)}d=d||"text";let F=await fv[oe.findKey(fv,d)||"text"](P,n);return!M&&C&&C(),await new Promise((L,j)=>{MM(L,j,{data:F,headers:Ai.from(P.headers),status:P.status,statusText:P.statusText,config:n,request:S})})}catch(E){throw C&&C(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new st("Network Error",st.ERR_NETWORK,n,S),{cause:E.cause||E}):st.from(E,E&&E.code,n,S)}}),Sw={http:z4,xhr:m$,fetch:k$};oe.forEach(Sw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Wk=n=>`- ${n}`,T$=n=>oe.isFunction(n)||n===null||n===!1,IM={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!T$(t)&&(r=Sw[(o=String(t)).toLowerCase()],r===void 0))throw new st(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Wk).join(`
`):" "+Wk(s[0]):"as no adapter specified";throw new st("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Sw};function fS(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new hf(null,n)}function Hk(n){return fS(n),n.headers=Ai.from(n.headers),n.data=dS.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),IM.getAdapter(n.adapter||Jg.adapter)(n).then(function(r){return fS(n),r.data=dS.call(n,n.transformResponse,r),r.headers=Ai.from(r.headers),r},function(r){return OM(r)||(fS(n),r&&r.response&&(r.response.data=dS.call(n,n.transformResponse,r.response),r.response.headers=Ai.from(r.response.headers))),Promise.reject(r)})}const NM="1.7.9",f1={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{f1[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Vk={};f1.transitional=function(e,t,r){function i(s,o){return"[Axios v"+NM+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new st(i(o," has been removed"+(t?" in "+t:"")),st.ERR_DEPRECATED);return t&&!Vk[o]&&(Vk[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,l):!0}};f1.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function E$(n,e,t){if(typeof n!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=n[s],u=l===void 0||o(l,s,n);if(u!==!0)throw new st("option "+s+" must be "+u,st.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new st("Unknown option "+s,st.ERR_BAD_OPTION)}}const jy={assertOptions:E$,validators:f1},zo=jy.validators;class Cu{constructor(e){this.defaults=e,this.interceptors={request:new Nk,response:new Nk}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Du(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&jy.assertOptions(r,{silentJSONParsing:zo.transitional(zo.boolean),forcedJSONParsing:zo.transitional(zo.boolean),clarifyTimeoutError:zo.transitional(zo.boolean)},!1),i!=null&&(oe.isFunction(i)?t.paramsSerializer={serialize:i}:jy.assertOptions(i,{encode:zo.function,serialize:zo.function},!0)),jy.assertOptions(t,{baseUrl:zo.spelling("baseURL"),withXsrfToken:zo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&oe.merge(s.common,s[t.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),t.headers=Ai.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(t)===!1||(u=u&&C.synchronous,l.unshift(C.fulfilled,C.rejected))});const d=[];this.interceptors.response.forEach(function(C){d.push(C.fulfilled,C.rejected)});let p,m=0,v;if(!u){const S=[Hk.bind(this),void 0];for(S.unshift.apply(S,l),S.push.apply(S,d),v=S.length,p=Promise.resolve(t);m<v;)p=p.then(S[m++],S[m++]);return p}v=l.length;let w=t;for(m=0;m<v;){const S=l[m++],C=l[m++];try{w=S(w)}catch(_){C.call(this,_);break}}try{p=Hk.call(this,w)}catch(S){return Promise.reject(S)}for(m=0,v=d.length;m<v;)p=p.then(d[m++],d[m++]);return p}getUri(e){e=Du(this.defaults,e);const t=AM(e.baseURL,e.url);return kM(t,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){Cu.prototype[e]=function(t,r){return this.request(Du(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,l){return this.request(Du(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Cu.prototype[e]=t(),Cu.prototype[e+"Form"]=t(!0)});class Yb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new hf(s,o,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Yb(function(i){e=i}),cancel:e}}}function O$(n){return function(t){return n.apply(null,t)}}function M$(n){return oe.isObject(n)&&n.isAxiosError===!0}const ww={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ww).forEach(([n,e])=>{ww[e]=n});function LM(n){const e=new Cu(n),t=fM(Cu.prototype.request,e);return oe.extend(t,Cu.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return LM(Du(n,i))},t}const In=LM(Jg);In.Axios=Cu;In.CanceledError=hf;In.CancelToken=Yb;In.isCancel=OM;In.VERSION=NM;In.toFormData=h1;In.AxiosError=st;In.Cancel=In.CanceledError;In.all=function(e){return Promise.all(e)};In.spread=O$;In.isAxiosError=M$;In.mergeConfig=Du;In.AxiosHeaders=Ai;In.formToJSON=n=>EM(oe.isHTMLForm(n)?new FormData(n):n);In.getAdapter=IM.getAdapter;In.HttpStatusCode=ww;In.default=In;window.onerror=(n,e)=>(console.error("Runtime Error:",n,e),!0);const A$="http://localhost:8000",Qg=In.create({baseURL:A$});Qg.defaults.headers.common.Authorization=`Bearer ${localStorage.getItem("jwt")}`;Qg.interceptors.request.use(function(n){return n},function(n){return Promise.reject(n)});Qg.interceptors.response.use(function(n){return n.data},function(n){return n.response.data});const P$=(n,e)=>Qg.post("/account/signin/",{email_login:n,password_login:e}),Mg=n=>typeof n=="number"&&!isNaN(n),_u=n=>typeof n=="string",Qi=n=>typeof n=="function",zy=n=>_u(n)||Qi(n)?n:null,bw=n=>I.isValidElement(n)||_u(n)||Qi(n)||Mg(n);function R$(n,e,t){t===void 0&&(t=300);const{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function p1(n){let{enter:e,exit:t,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=n;return function(o){let{children:l,position:u,preventExitTransition:d,done:p,nodeRef:m,isIn:v,playToast:w}=o;const S=r?`${e}--${u}`:e,C=r?`${t}--${u}`:t,_=I.useRef(0);return I.useLayoutEffect(()=>{const E=m.current,P=S.split(" "),M=F=>{F.target===m.current&&(w(),E.removeEventListener("animationend",M),E.removeEventListener("animationcancel",M),_.current===0&&F.type!=="animationcancel"&&E.classList.remove(...P))};E.classList.add(...P),E.addEventListener("animationend",M),E.addEventListener("animationcancel",M)},[]),I.useEffect(()=>{const E=m.current,P=()=>{E.removeEventListener("animationend",P),i?R$(E,p,s):p()};v||(d?P():(_.current=1,E.className+=` ${C}`,E.addEventListener("animationend",P)))},[v]),Ze.createElement(Ze.Fragment,null,l)}}function Uk(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const ii=new Map;let Ag=[];const Cw=new Set,D$=n=>Cw.forEach(e=>e(n)),FM=()=>ii.size>0;function BM(n,e){var t;if(e)return!((t=ii.get(e))==null||!t.isToastActive(n));let r=!1;return ii.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function jM(n,e){bw(n)&&(FM()||Ag.push({content:n,options:e}),ii.forEach(t=>{t.buildToast(n,e)}))}function Gk(n,e){ii.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function I$(n){const{subscribe:e,getSnapshot:t,setProps:r}=I.useRef(function(s){const o=s.containerId||1;return{subscribe(l){const u=function(p,m,v){let w=1,S=0,C=[],_=[],E=[],P=m;const M=new Map,F=new Set,L=()=>{E=Array.from(M.values()),F.forEach(W=>W())},j=W=>{_=W==null?[]:_.filter(q=>q!==W),L()},$=W=>{const{toastId:q,onOpen:R,updateId:se,children:he}=W.props,fe=se==null;W.staleId&&M.delete(W.staleId),M.set(q,W),_=[..._,W.props.toastId].filter(ge=>ge!==W.staleId),L(),v(Uk(W,fe?"added":"updated")),fe&&Qi(R)&&R(I.isValidElement(he)&&he.props)};return{id:p,props:P,observe:W=>(F.add(W),()=>F.delete(W)),toggle:(W,q)=>{M.forEach(R=>{q!=null&&q!==R.props.toastId||Qi(R.toggle)&&R.toggle(W)})},removeToast:j,toasts:M,clearQueue:()=>{S-=C.length,C=[]},buildToast:(W,q)=>{if((ae=>{let{containerId:Te,toastId:Ee,updateId:Oe}=ae;const Ie=Te?Te!==p:p!==1,Ve=M.has(Ee)&&Oe==null;return Ie||Ve})(q))return;const{toastId:R,updateId:se,data:he,staleId:fe,delay:ge}=q,ue=()=>{j(R)},Se=se==null;Se&&S++;const Ce={...P,style:P.toastStyle,key:w++,...Object.fromEntries(Object.entries(q).filter(ae=>{let[Te,Ee]=ae;return Ee!=null})),toastId:R,updateId:se,data:he,closeToast:ue,isIn:!1,className:zy(q.className||P.toastClassName),bodyClassName:zy(q.bodyClassName||P.bodyClassName),progressClassName:zy(q.progressClassName||P.progressClassName),autoClose:!q.isLoading&&(ee=q.autoClose,_e=P.autoClose,ee===!1||Mg(ee)&&ee>0?ee:_e),deleteToast(){const ae=M.get(R),{onClose:Te,children:Ee}=ae.props;Qi(Te)&&Te(I.isValidElement(Ee)&&Ee.props),v(Uk(ae,"removed")),M.delete(R),S--,S<0&&(S=0),C.length>0?$(C.shift()):L()}};var ee,_e;Ce.closeButton=P.closeButton,q.closeButton===!1||bw(q.closeButton)?Ce.closeButton=q.closeButton:q.closeButton===!0&&(Ce.closeButton=!bw(P.closeButton)||P.closeButton);let ye=W;I.isValidElement(W)&&!_u(W.type)?ye=I.cloneElement(W,{closeToast:ue,toastProps:Ce,data:he}):Qi(W)&&(ye=W({closeToast:ue,toastProps:Ce,data:he}));const V={content:ye,props:Ce,staleId:fe};P.limit&&P.limit>0&&S>P.limit&&Se?C.push(V):Mg(ge)?setTimeout(()=>{$(V)},ge):$(V)},setProps(W){P=W},setToggle:(W,q)=>{M.get(W).toggle=q},isToastActive:W=>_.some(q=>q===W),getSnapshot:()=>E}}(o,s,D$);ii.set(o,u);const d=u.observe(l);return Ag.forEach(p=>jM(p.content,p.options)),Ag=[],()=>{d(),ii.delete(o)}},setProps(l){var u;(u=ii.get(o))==null||u.setProps(l)},getSnapshot(){var l;return(l=ii.get(o))==null?void 0:l.getSnapshot()}}}(n)).current;r(n);const i=I.useSyncExternalStore(e,t,t);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return n.newestOnTop&&i.reverse(),i.forEach(l=>{const{position:u}=l.props;o.has(u)||o.set(u,[]),o.get(u).push(l)}),Array.from(o,l=>s(l[0],l[1]))},isToastActive:BM,count:i==null?void 0:i.length}}function N$(n){const[e,t]=I.useState(!1),[r,i]=I.useState(!1),s=I.useRef(null),o=I.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:d,onClick:p,closeOnClick:m}=n;var v,w;function S(){t(!0)}function C(){t(!1)}function _(M){const F=s.current;o.canDrag&&F&&(o.didMove=!0,e&&C(),o.delta=n.draggableDirection==="x"?M.clientX-o.start:M.clientY-o.start,o.start!==M.clientX&&(o.canCloseOnClick=!1),F.style.transform=`translate3d(${n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,F.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function E(){document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",E);const M=s.current;if(o.canDrag&&o.didMove&&M){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),n.closeToast(),void n.collapseAll();M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}(w=ii.get((v={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||w.setToggle(v.id,v.fn),I.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||C(),window.addEventListener("focus",S),window.addEventListener("blur",C),()=>{window.removeEventListener("focus",S),window.removeEventListener("blur",C)}},[n.pauseOnFocusLoss]);const P={onPointerDown:function(M){if(n.draggable===!0||n.draggable===M.pointerType){o.didMove=!1,document.addEventListener("pointermove",_),document.addEventListener("pointerup",E);const F=s.current;o.canCloseOnClick=!0,o.canDrag=!0,F.style.transition="none",n.draggableDirection==="x"?(o.start=M.clientX,o.removalDistance=F.offsetWidth*(n.draggablePercent/100)):(o.start=M.clientY,o.removalDistance=F.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(M){const{top:F,bottom:L,left:j,right:$}=s.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&n.pauseOnHover&&M.clientX>=j&&M.clientX<=$&&M.clientY>=F&&M.clientY<=L?C():S()}};return l&&u&&(P.onMouseEnter=C,n.stacked||(P.onMouseLeave=S)),m&&(P.onClick=M=>{p&&p(M),o.canCloseOnClick&&d()}),{playToast:S,pauseToast:C,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:P}}function L$(n){let{delay:e,isRunning:t,closeToast:r,type:i="default",hide:s,className:o,style:l,controlledProgress:u,progress:d,rtl:p,isIn:m,theme:v}=n;const w=s||u&&d===0,S={...l,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};u&&(S.transform=`scaleX(${d})`);const C=Bt("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),_=Qi(o)?o({rtl:p,type:i,defaultClassName:C}):Bt(C,o),E={[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]:u&&d<1?null:()=>{m&&r()}};return Ze.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},Ze.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),Ze.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:_,style:S,...E}))}let F$=1;const zM=()=>""+F$++;function B$(n){return n&&(_u(n.toastId)||Mg(n.toastId))?n.toastId:zM()}function fg(n,e){return jM(n,e),e.toastId}function pv(n,e){return{...e,type:e&&e.type||n,toastId:B$(e)}}function my(n){return(e,t)=>fg(e,pv(n,t))}function Lt(n,e){return fg(n,pv("default",e))}Lt.loading=(n,e)=>fg(n,pv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Lt.promise=function(n,e,t){let r,{pending:i,error:s,success:o}=e;i&&(r=_u(i)?Lt.loading(i,t):Lt.loading(i.render,{...t,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(p,m,v)=>{if(m==null)return void Lt.dismiss(r);const w={type:p,...l,...t,data:v},S=_u(m)?{render:m}:m;return r?Lt.update(r,{...w,...S}):Lt(S.render,{...w,...S}),v},d=Qi(n)?n():n;return d.then(p=>u("success",o,p)).catch(p=>u("error",s,p)),d},Lt.success=my("success"),Lt.info=my("info"),Lt.error=my("error"),Lt.warning=my("warning"),Lt.warn=Lt.warning,Lt.dark=(n,e)=>fg(n,pv("default",{theme:"dark",...e})),Lt.dismiss=function(n){(function(e){var t;if(FM()){if(e==null||_u(t=e)||Mg(t))ii.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=ii.get(e.containerId);r?r.removeToast(e.id):ii.forEach(i=>{i.removeToast(e.id)})}}else Ag=Ag.filter(r=>e!=null&&r.options.toastId!==e)})(n)},Lt.clearWaitingQueue=function(n){n===void 0&&(n={}),ii.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},Lt.isActive=BM,Lt.update=function(n,e){e===void 0&&(e={});const t=((r,i)=>{var s;let{containerId:o}=i;return(s=ii.get(o||1))==null?void 0:s.toasts.get(r)})(n,e);if(t){const{props:r,content:i}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:zM()};s.toastId!==n&&(s.staleId=n);const o=s.render||i;delete s.render,fg(o,s)}},Lt.done=n=>{Lt.update(n,{progress:1})},Lt.onChange=function(n){return Cw.add(n),()=>{Cw.delete(n)}},Lt.play=n=>Gk(!0,n),Lt.pause=n=>Gk(!1,n);const j$=typeof window<"u"?I.useLayoutEffect:I.useEffect,yy=n=>{let{theme:e,type:t,isLoading:r,...i}=n;return Ze.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i})},pS={info:function(n){return Ze.createElement(yy,{...n},Ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return Ze.createElement(yy,{...n},Ze.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return Ze.createElement(yy,{...n},Ze.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return Ze.createElement(yy,{...n},Ze.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ze.createElement("div",{className:"Toastify__spinner"})}},z$=n=>{const{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:s}=N$(n),{closeButton:o,children:l,autoClose:u,onClick:d,type:p,hideProgressBar:m,closeToast:v,transition:w,position:S,className:C,style:_,bodyClassName:E,bodyStyle:P,progressClassName:M,progressStyle:F,updateId:L,role:j,progress:$,rtl:W,toastId:q,deleteToast:R,isIn:se,isLoading:he,closeOnClick:fe,theme:ge}=n,ue=Bt("Toastify__toast",`Toastify__toast-theme--${ge}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":W},{"Toastify__toast--close-on-click":fe}),Se=Qi(C)?C({rtl:W,position:S,type:p,defaultClassName:ue}):Bt(ue,C),Ce=function(V){let{theme:ae,type:Te,isLoading:Ee,icon:Oe}=V,Ie=null;const Ve={theme:ae,type:Te};return Oe===!1||(Qi(Oe)?Ie=Oe({...Ve,isLoading:Ee}):I.isValidElement(Oe)?Ie=I.cloneElement(Oe,Ve):Ee?Ie=pS.spinner():(Ye=>Ye in pS)(Te)&&(Ie=pS[Te](Ve))),Ie}(n),ee=!!$||!u,_e={closeToast:v,type:p,theme:ge};let ye=null;return o===!1||(ye=Qi(o)?o(_e):I.isValidElement(o)?I.cloneElement(o,_e):function(V){let{closeToast:ae,theme:Te,ariaLabel:Ee="close"}=V;return Ze.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Te}`,type:"button",onClick:Oe=>{Oe.stopPropagation(),ae(Oe)},"aria-label":Ee},Ze.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ze.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(_e)),Ze.createElement(w,{isIn:se,done:R,position:S,preventExitTransition:t,nodeRef:r,playToast:s},Ze.createElement("div",{id:q,onClick:d,"data-in":se,className:Se,...i,style:_,ref:r},Ze.createElement("div",{...se&&{role:j},className:Qi(E)?E({type:p}):Bt("Toastify__toast-body",E),style:P},Ce!=null&&Ze.createElement("div",{className:Bt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!he})},Ce),Ze.createElement("div",null,l)),ye,Ze.createElement(L$,{...L&&!ee?{key:`pb-${L}`}:{},rtl:W,theme:ge,delay:u,isRunning:e,isIn:se,closeToast:v,hide:m,type:p,style:F,className:M,controlledProgress:ee,progress:$||0})))},g1=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},$$=p1(g1("bounce",!0));p1(g1("slide",!0));p1(g1("zoom"));p1(g1("flip"));const W$={position:"top-right",transition:$$,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function H$(n){let e={...W$,...n};const t=n.stacked,[r,i]=I.useState(!0),s=I.useRef(null),{getToastToRender:o,isToastActive:l,count:u}=I$(e),{className:d,style:p,rtl:m,containerId:v}=e;function w(C){const _=Bt("Toastify__toast-container",`Toastify__toast-container--${C}`,{"Toastify__toast-container--rtl":m});return Qi(d)?d({position:C,rtl:m,defaultClassName:_}):Bt(_,zy(d))}function S(){t&&(i(!0),Lt.play())}return j$(()=>{if(t){var C;const _=s.current.querySelectorAll('[data-in="true"]'),E=12,P=(C=e.position)==null?void 0:C.includes("top");let M=0,F=0;Array.from(_).reverse().forEach((L,j)=>{const $=L;$.classList.add("Toastify__toast--stacked"),j>0&&($.dataset.collapsed=`${r}`),$.dataset.pos||($.dataset.pos=P?"top":"bot");const W=M*(r?.2:1)+(r?0:E*j);$.style.setProperty("--y",`${P?W:-1*W}px`),$.style.setProperty("--g",`${E}`),$.style.setProperty("--s",""+(1-(r?F:0))),M+=$.offsetHeight,F+=.025})}},[r,u,t]),Ze.createElement("div",{ref:s,className:"Toastify",id:v,onMouseEnter:()=>{t&&(i(!1),Lt.pause())},onMouseLeave:S},o((C,_)=>{const E=_.length?{...p}:{...p,pointerEvents:"none"};return Ze.createElement("div",{className:w(C),style:E,key:`container-${C}`},_.map(P=>{let{content:M,props:F}=P;return Ze.createElement(z$,{...F,stacked:t,collapseAll:S,isIn:l(F.toastId,F.containerId),style:F.style,key:`toast-${F.key}`},M)}))}))}/*! js-cookie v3.0.5 | MIT */function vy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}var V$={read:function(n){return n[0]==='"'&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function _w(n,e){function t(i,s,o){if(!(typeof document>"u")){o=vy({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var u in o)o[u]&&(l+="; "+u,o[u]!==!0&&(l+="="+o[u].split(";")[0]));return document.cookie=i+"="+n.write(s,i)+l}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},l=0;l<s.length;l++){var u=s[l].split("="),d=u.slice(1).join("=");try{var p=decodeURIComponent(u[0]);if(o[p]=n.read(d,p),i===p)break}catch{}}return i?o[i]:o}}return Object.create({set:t,get:r,remove:function(i,s){t(i,"",vy({},s,{expires:-1}))},withAttributes:function(i){return _w(this.converter,vy({},this.attributes,i))},withConverter:function(i){return _w(vy({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var U$=_w(V$,{path:"/"});function G$(){let n=Av();const[e,t]=I.useState(""),[r,i]=I.useState(""),[s,o]=I.useState(!1),l=async()=>{let u=await P$(e,r);console.log("check res:",u);let d=u.access;u.success===!0?(Lt.success("Đăng nhập thành công"),U$.set("accessToken",d??"",{expires:365}),n("/editPage")):(Lt.error(u.message),o(!0))};return te.jsx("div",{className:"w-full border border-gray-300 rounded-lg p-6 max-w-md shadow-[0_2px_22px_-4px_rgba(93,96,127,0.2)] max-md:mx-auto ",children:te.jsxs("form",{className:"space-y-4",children:[te.jsxs("div",{className:"mb-8",children:[te.jsx("h3",{className:"text-gray-800 text-3xl font-extrabold",children:"Sign in"}),te.jsx("p",{className:"text-gray-500 text-sm mt-4 leading-relaxed",children:"Log in to your account and explore our helpful tools. Your journey starts here."})]}),te.jsx("div",{className:"relative flex items-center",children:te.jsx(Pd,{label:"Email or phone number",type:"text",value:e,error:s,onChange:u=>t(u.target.value),style:{width:"100%"}})}),te.jsx("div",{className:"relative flex items-center",children:te.jsx(Pd,{label:"Password",type:"password",value:r,error:s,onChange:u=>i(u.target.value),style:{width:"100%"}})}),te.jsx("div",{className:"mt-8 flex flex-col justify-center",children:te.jsx(kO,{fontWeight:"600",onClick:()=>l(),children:"Sign in"})}),te.jsxs("p",{className:"text-sm mt-8 text-center text-gray-800",children:["Don't have an account",te.jsx(Rv,{to:"/SignUp",style:{color:Qs.MEDIUM},className:" font-semibold hover:underline ml-1 whitespace-nowrap",children:"Register here"})]})]})})}const X$=()=>te.jsx("div",{className:"font-[sans-serif]",children:te.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center py-6 px-4",children:te.jsxs("div",{className:"grid md:grid-cols-2 items-center gap-4 max-w-6xl w-full place-items-center",children:[te.jsx(G$,{}),te.jsx("div",{className:"lg:h-[400px] md:h-[300px] max-md:mt-8",children:te.jsx("img",{src:_O,className:"w-full h-full max-md:w-4/5 mx-auto block object-cover",alt:"Dining Experience"})})]})})});function xr(n){this.content=n}xr.prototype={constructor:xr,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new xr(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new xr(t)},addToStart:function(n,e){return new xr([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new xr(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new xr(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=xr.from(n),n.size?new xr(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=xr.from(n),n.size?new xr(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=xr.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};xr.from=function(n){if(n instanceof xr)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new xr(e)};function $M(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=$M(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function WM(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),l=e.child(--s),u=o.nodeSize;if(o==l){t-=u,r-=u;continue}if(!o.sameMarkup(l))return{a:t,b:r};if(o.isText&&o.text!=l.text){let d=0,p=Math.min(o.text.length,l.text.length);for(;d<p&&o.text[o.text.length-d-1]==l.text[l.text.length-d-1];)d++,t--,r--;return{a:t,b:r}}if(o.content.size||l.content.size){let d=WM(o.content,l.content,t-1,r-1);if(d)return d}t-=u,r-=u}}class be{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,l=0;l<t;o++){let u=this.content[o],d=l+u.nodeSize;if(d>e&&r(u,i+l,s||null,o)!==!1&&u.content.size){let p=l+1;u.nodesBetween(Math.max(0,e-p),Math.min(u.content.size,t-p),r,i+p)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(l,u)=>{let d=l.isText?l.text.slice(Math.max(e,u)-u,t-u):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&r&&(o?o=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new be(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let l=this.content[s],u=o+l.nodeSize;u>e&&((o<e||u>t)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,t-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,t-o-1))),r.push(l),i+=l.nodeSize),o=u}return new be(r,i)}cutByIndex(e,t){return e==t?be.empty:e==0&&t==this.content.length?this:new be(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new be(i,s)}addToStart(e){return new be([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new be(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return $M(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return WM(this,e,t,r)}findIndex(e,t=-1){if(e==0)return xy(0,e);if(e==this.size)return xy(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||t>0?xy(r+1,o):xy(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return be.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new be(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return be.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new be(t||e,r)}static from(e){if(!e)return be.empty;if(e instanceof be)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new be([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}be.empty=new be([],0);const gS={index:0,offset:0};function xy(n,e){return gS.index=n,gS.offset=e,gS}function gv(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!gv(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!gv(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Gt=class kw{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&gv(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return kw.none;if(e instanceof kw)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};Gt.none=[];class mv extends Error{}class Re{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=VM(this.content,e+this.openStart,t);return r&&new Re(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Re(HM(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Re.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Re(be.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new Re(e,r,i)}}Re.empty=new Re(be.empty,0,0);function HM(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:l}=n.findIndex(t);if(i==e||s.isText){if(l!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(HM(s.content,e-i-1,t-i-1)))}function VM(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let l=VM(o.content,e-s-1,t);return l&&n.replaceChild(i,o.copy(l))}function Y$(n,e,t){if(t.openStart>n.depth)throw new mv("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new mv("Inconsistent open depths");return UM(n,e,t,0)}function UM(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=UM(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,l=o.content;return Tu(o,l.cut(0,n.parentOffset).append(t.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=K$(t,n);return Tu(s,XM(n,o,l,e,r))}else return Tu(s,yv(n,e,r))}function GM(n,e){if(!e.type.compatibleContent(n.type))throw new mv("Cannot join "+e.type.name+" onto "+n.type.name)}function Tw(n,e,t){let r=n.node(t);return GM(r,e.node(t)),r}function ku(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function pg(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(ku(n.nodeAfter,r),s++));for(let l=s;l<o;l++)ku(i.child(l),r);e&&e.depth==t&&e.textOffset&&ku(e.nodeBefore,r)}function Tu(n,e){return n.type.checkContent(e),n.copy(e)}function XM(n,e,t,r,i){let s=n.depth>i&&Tw(n,e,i+1),o=r.depth>i&&Tw(t,r,i+1),l=[];return pg(null,n,i,l),s&&o&&e.index(i)==t.index(i)?(GM(s,o),ku(Tu(s,XM(n,e,t,r,i+1)),l)):(s&&ku(Tu(s,yv(n,e,i+1)),l),pg(e,t,i,l),o&&ku(Tu(o,yv(t,r,i+1)),l)),pg(r,null,i,l),new be(l)}function yv(n,e,t){let r=[];if(pg(null,n,t,r),n.depth>t){let i=Tw(n,e,t+1);ku(Tu(i,yv(n,e,t+1)),r)}return pg(e,null,t,r),new be(r)}function K$(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(be.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Pg{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Gt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new vv(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:l,offset:u}=o.content.findIndex(s),d=s-u;if(r.push(o,l,i+u),!d||(o=o.child(l),o.isText))break;s=d-1,i+=u+1}return new Pg(t,r,s)}static resolveCached(e,t){let r=Xk.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else Xk.set(e,r=new q$);let i=r.elts[r.i]=Pg.resolve(e,t);return r.i=(r.i+1)%J$,i}}class q${constructor(){this.elts=[],this.i=0}}const J$=12,Xk=new WeakMap;class vv{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Q$=Object.create(null);let ql=class Ew{constructor(e,t,r,i=Gt.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||be.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&gv(this.attrs,t||e.defaultAttrs||Q$)&&Gt.sameSet(this.marks,r||Gt.none)}copy(e=null){return e==this.content?this:new Ew(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ew(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Re.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),l=i.start(o),d=i.node(o).content.cut(i.pos-l,s.pos-l);return new Re(d,i.depth-o,s.depth-o)}replace(e,t,r){return Y$(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Pg.resolveCached(this,e)}resolveNoCache(e){return Pg.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),YM(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=be.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),l=o&&o.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Gt.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Gt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=be.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};ql.prototype.text=void 0;class xv extends ql{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):YM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new xv(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new xv(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function YM(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Iu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new Z$(e,t);if(r.next==null)return Iu.empty;let i=KM(r);r.next&&r.err("Unexpected trailing text");let s=oW(sW(i));return aW(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,l){let u=o.matchFragment(e,r);if(u&&(!t||u.validEnd))return be.from(l.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:p,next:m}=o.next[d];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=s(m,l.concat(p));if(v)return v}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:u}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in t)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Iu.empty=new Iu(!0);class Z${constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function KM(n){let e=[];do e.push(eW(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function eW(n){let e=[];do e.push(tW(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function tW(n){let e=iW(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=nW(n,e);else break;return e}function Yk(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function nW(n,e){let t=Yk(n),r=t;return n.eat(",")&&(n.next!="}"?r=Yk(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function rW(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function iW(n){if(n.eat("(")){let e=KM(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=rW(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function sW(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,l,u){let d={term:u,to:l};return e[o].push(d),d}function i(o,l){o.forEach(u=>u.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((u,d)=>u.concat(s(d,l)),[]);if(o.type=="seq")for(let u=0;;u++){let d=s(o.exprs[u],l);if(u==o.exprs.length-1)return d;i(d,l=t())}else if(o.type=="star"){let u=t();return r(l,u),i(s(o.expr,u),u),[r(u)]}else if(o.type=="plus"){let u=t();return i(s(o.expr,l),u),i(s(o.expr,u),u),[r(u)]}else{if(o.type=="opt")return[r(l)].concat(s(o.expr,l));if(o.type=="range"){let u=l;for(let d=0;d<o.min;d++){let p=t();i(s(o.expr,u),p),u=p}if(o.max==-1)i(s(o.expr,u),u);else for(let d=o.min;d<o.max;d++){let p=t();r(u,p),i(s(o.expr,u),p),u=p}return[r(u)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function qM(n,e){return e-n}function Kk(n,e){let t=[];return r(e),t.sort(qM);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:l,to:u}=s[o];!l&&t.indexOf(u)==-1&&r(u)}}}function oW(n){let e=Object.create(null);return t(Kk(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:l,to:u})=>{if(!l)return;let d;for(let p=0;p<i.length;p++)i[p][0]==l&&(d=i[p][1]);Kk(n,u).forEach(p=>{d||i.push([l,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let s=e[r.join(",")]=new Iu(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(qM);s.next.push({type:i[o][0],next:e[l.join(",")]||t(l)})}return s}}function aW(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:u,next:d}=i.next[l];o.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function JM(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function QM(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function ZM(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function e2(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new cW(n,r,e[r]);return t}let qk=class t2{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=e2(e,r.attrs),this.defaultAttrs=JM(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Iu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:QM(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ql(this,this.computeAttrs(e),be.from(t),Gt.setFrom(r))}createChecked(e=null,t,r){return t=be.from(t),this.checkContent(t),new ql(this,this.computeAttrs(e),t,Gt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=be.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(be.empty,!0);return s?new ql(this,e,t.append(s),Gt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){ZM(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Gt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new t2(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function lW(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class cW{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?lW(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class m1{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=e2(e,i.attrs),this.excluded=null;let s=JM(this.attrs);this.instance=s?new Gt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Gt(this,QM(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new m1(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){ZM(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class n2{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=xr.from(e.nodes),t.marks=xr.from(e.marks||{}),this.nodes=qk.compile(this.spec.nodes,this),this.marks=m1.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Iu.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?Jk(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Jk(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof qk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new xv(r,r.defaultAttrs,e,Gt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return ql.fromJSON(this,e)}markFromJSON(e){return Gt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Jk(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let l in n.marks){let u=n.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=u)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function uW(n){return n.tag!=null}function hW(n){return n.style!=null}class Jl{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(uW(i))this.tags.push(i);else if(hW(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new Zk(this,t,!1);return r.addAll(e,Gt.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new Zk(this,t,!0);return r.addAll(e,Gt.none,t.from,t.to),Re.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(pW(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=t))){if(o.getAttrs){let u=o.getAttrs(t);if(u===!1)continue;o.attrs=u||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let l=t[o];if((l.priority==null?50:l.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=eT(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=eT(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Jl(e,Jl.schemaRules(e)))}}const r2={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},dW={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},i2={ol:!0,ul:!0},Rg=1,Ow=2,gg=4;function Qk(n,e,t){return e!=null?(e?Rg:0)|(e==="full"?Ow:0):n&&n.whitespace=="pre"?Rg|Ow:t&~gg}class Sy{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Gt.none,this.match=s||(o&gg?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(be.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Rg)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=be.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(be.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!r2.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Zk{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=Qk(null,t.preserveWhitespace,0)|(r?gg:0);i?s=new Sy(i.type,i.attrs,Gt.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new Sy(null,null,Gt.none,!0,null,o):s=new Sy(e.schema.topNodeType,null,Gt.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&Ow?"full":this.localPreserveWS||(i.options&Rg)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;i2.hasOwnProperty(o)&&this.parser.normalizeLists&&fW(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(u?u.ignore:dW.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let d,p=this.needsBlock;if(r2.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let m=u&&u.skip?t:this.readStyles(e,t);m&&this.addAll(e,m),d&&this.sync(s),this.needsBlock=p}else{let d=this.readStyles(e,t);d&&this.addElementByRule(e,u,d,u.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let l=void 0;;){let u=this.parser.matchStyle(s,o,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?t=t.filter(d=>!u.clearMark(d)):t=t.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r)||this.leafFallback(e,r);else{let u=this.enter(o,t.attrs||null,r,t.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[t.mark];r=r.concat(u.create(t.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r));else{let u=e;typeof t.contentElement=="string"?u=e.querySelector(t.contentElement):typeof t.contentElement=="function"?u=t.contentElement(e):t.contentElement&&(u=t.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(l)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],l=o.findWrapping(e);if(l&&(!r||r.length>l.length)&&(r=l,i=o,!l.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)t=this.enterInner(r[s],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(t=this.enterInner(i,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=Gt.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):tT(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=Qk(e,s,o.options);o.options&gg&&o.content.length==0&&(l|=gg);let u=Gt.none;return r=r.filter(d=>(o.type?o.type.allowsMarkType(d.type):tT(d.type,e))?(u=d.addToSet(u),!1):!0),this.nodes.push(new Sy(e,t,u,i,null,l)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Rg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(l,u)=>{for(;l>=0;l--){let d=t[l];if(d==""){if(l==t.length-1||l==0)continue;for(;u>=s;u--)if(o(l-1,u))return!0;return!1}else{let p=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;u--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function fW(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&i2.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function pW(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function eT(n){let e={};for(let t in n)e[t]=n[t];return e}function tT(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=l=>{s.push(l);for(let u=0;u<l.edgeCount;u++){let{type:d,next:p}=l.edge(u);if(d==e||s.indexOf(p)<0&&o(p))return!0}};if(o(i.contentMatch))return!0}}class zu{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=mS(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,u=0;for(;l<s.length&&u<o.marks.length;){let d=o.marks[u];if(!this.marks[d.type.name]){u++;continue}if(!d.eq(s[l][0])||d.type.spec.spanning===!1)break;l++,u++}for(;l<s.length;)i=s.pop()[1];for(;u<o.marks.length;){let d=o.marks[u++],p=this.serializeMark(d,o.isInline,t);p&&(s.push([d,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=$y(mS(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&$y(mS(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return $y(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new zu(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=nT(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return nT(e.marks)}}function nT(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function mS(n){return n.document||window.document}const rT=new WeakMap;function gW(n){let e=rT.get(n);return e===void 0&&rT.set(n,e=mW(n)),e}function mW(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function $y(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=gW(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let l,u=t?n.createElementNS(t,i):n.createElement(i),d=e[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let m in d)if(d[m]!=null){let v=m.indexOf(" ");v>0?u.setAttributeNS(m.slice(0,v),m.slice(v+1),d[m]):u.setAttribute(m,d[m])}}for(let m=p;m<e.length;m++){let v=e[m];if(v===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:w,contentDOM:S}=$y(n,v,t,r);if(u.appendChild(w),S){if(l)throw new RangeError("Multiple content holes");l=S}}}return{dom:u,contentDOM:l}}const s2=65535,o2=Math.pow(2,16);function yW(n,e){return n+e*o2}function iT(n){return n&s2}function vW(n){return(n-(n&s2))/o2}const a2=1,l2=2,Wy=4,c2=8;class Mw{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&c2)>0}get deletedBefore(){return(this.delInfo&(a2|Wy))>0}get deletedAfter(){return(this.delInfo&(l2|Wy))>0}get deletedAcross(){return(this.delInfo&Wy)>0}}class Ji{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ji.empty)return Ji.empty}recover(e){let t=0,r=iT(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+vW(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let d=this.ranges[l+s],p=this.ranges[l+o],m=u+d;if(e<=m){let v=d?e==u?-1:e==m?1:t:t,w=u+i+(v<0?0:p);if(r)return w;let S=e==(t<0?u:m)?null:yW(l/3,e-u),C=e==u?l2:e==m?a2:Wy;return(t<0?e!=u:e!=m)&&(C|=c2),new Mw(w,C,S)}i+=p-d}return r?e+i:new Mw(e+i,0,null)}touches(e,t){let r=0,i=iT(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let d=this.ranges[l+s],p=u+d;if(e<=p&&l==i*3)return!0;r+=this.ranges[l+o]-d}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?s:0),u=o+(this.inverted?0:s),d=this.ranges[i+t],p=this.ranges[i+r];e(l,l+d,u,u+p),s+=p-d}}invert(){return new Ji(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ji.empty:new Ji(e<0?[0,-e,0]:[0,0,e])}}Ji.empty=new Ji([]);class jd{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new jd(this.maps,this.mirror,e,t)}copy(){return new jd(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new jd;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],l=o.mapResult(e,t);if(l.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this.maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new Mw(e,i,null)}}const yS=Object.create(null);class Ur{getMap(){return Ji.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=yS[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in yS)throw new RangeError("Duplicate use of step JSON ID "+e);return yS[e]=t,t.prototype.jsonID=e,t}}class Rn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Rn(e,null)}static fail(e){return new Rn(null,e)}static fromReplace(e,t,r,i){try{return Rn.ok(e.replace(t,r,i))}catch(s){if(s instanceof mv)return Rn.fail(s.message);throw s}}}function Kb(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(Kb(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return be.fromArray(r)}class Xl extends Ur{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Re(Kb(t.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Rn.fromReplace(e,this.from,this.to,s)}invert(){return new Xo(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Xl(t.pos,r.pos,this.mark)}merge(e){return e instanceof Xl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Xl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Xl(t.from,t.to,e.markFromJSON(t.mark))}}Ur.jsonID("addMark",Xl);class Xo extends Ur{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Re(Kb(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Rn.fromReplace(e,this.from,this.to,r)}invert(){return new Xl(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Xo(t.pos,r.pos,this.mark)}merge(e){return e instanceof Xo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Xo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Xo(t.from,t.to,e.markFromJSON(t.mark))}}Ur.jsonID("removeMark",Xo);class Yl extends Ur{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Rn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Rn.fromReplace(e,this.pos,this.pos+1,new Re(be.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Yl(this.pos,t.marks[i]);return new Yl(this.pos,this.mark)}}return new Xd(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Yl(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Yl(t.pos,e.markFromJSON(t.mark))}}Ur.jsonID("addNodeMark",Yl);class Xd extends Ur{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Rn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Rn.fromReplace(e,this.pos,this.pos+1,new Re(be.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Yl(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xd(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Xd(t.pos,e.markFromJSON(t.mark))}}Ur.jsonID("removeNodeMark",Xd);class nr extends Ur{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Aw(e,this.from,this.to)?Rn.fail("Structure replace would overwrite content"):Rn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ji([this.from,this.to-this.from,this.slice.size])}invert(e){return new nr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new nr(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof nr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Re.empty:new Re(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new nr(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Re.empty:new Re(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new nr(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new nr(t.from,t.to,Re.fromJSON(e,t.slice),!!t.structure)}}Ur.jsonID("replace",nr);class rr extends Ur{constructor(e,t,r,i,s,o,l=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(Aw(e,this.from,this.gapFrom)||Aw(e,this.gapTo,this.to)))return Rn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Rn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Rn.fromReplace(e,this.from,this.to,r):Rn.fail("Content does not fit in gap")}getMap(){return new Ji([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new rr(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new rr(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new rr(t.from,t.to,t.gapFrom,t.gapTo,Re.fromJSON(e,t.slice),t.insert,!!t.structure)}}Ur.jsonID("replaceAround",rr);function Aw(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function xW(n,e,t,r){let i=[],s=[],o,l;n.doc.nodesBetween(e,t,(u,d,p)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let v=Math.max(d,e),w=Math.min(d+u.nodeSize,t),S=r.addToSet(m);for(let C=0;C<m.length;C++)m[C].isInSet(S)||(o&&o.to==v&&o.mark.eq(m[C])?o.to=w:i.push(o=new Xo(v,w,m[C])));l&&l.to==v?l.to=w:s.push(l=new Xl(v,w,r))}}),i.forEach(u=>n.step(u)),s.forEach(u=>n.step(u))}function SW(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,l)=>{if(!o.isInline)return;s++;let u=null;if(r instanceof m1){let d=o.marks,p;for(;p=r.isInSet(d);)(u||(u=[])).push(p),d=p.removeFromSet(d)}else r?r.isInSet(o.marks)&&(u=[r]):u=o.marks;if(u&&u.length){let d=Math.min(l+o.nodeSize,t);for(let p=0;p<u.length;p++){let m=u[p],v;for(let w=0;w<i.length;w++){let S=i[w];S.step==s-1&&m.eq(i[w].style)&&(v=S)}v?(v.to=d,v.step=s):i.push({style:m,from:Math.max(l,e),to:d,step:s})}}}),i.forEach(o=>n.step(new Xo(o.from,o.to,o.style)))}function qb(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],l=e+1;for(let u=0;u<s.childCount;u++){let d=s.child(u),p=l+d.nodeSize,m=r.matchType(d.type);if(!m)o.push(new nr(l,p,Re.empty));else{r=m;for(let v=0;v<d.marks.length;v++)t.allowsMarkType(d.marks[v].type)||n.step(new Xo(l,p,d.marks[v]));if(i&&d.isText&&t.whitespace!="pre"){let v,w=/\r?\n|\r/g,S;for(;v=w.exec(d.text);)S||(S=new Re(be.from(t.schema.text(" ",t.allowedMarks(d.marks))),0,0)),o.push(new nr(l+v.index,l+v.index+v[0].length,S))}}l=p}if(!r.validEnd){let u=r.fillBefore(be.empty,!0);n.replace(l,l,new Re(u,0,0))}for(let u=o.length-1;u>=0;u--)n.step(o[u])}function wW(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function df(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,t))return r;if(r==0||i.type.spec.isolating||!wW(i,s,o))break}return null}function bW(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),l=i.after(s+1),u=o,d=l,p=be.empty,m=0;for(let S=s,C=!1;S>t;S--)C||r.index(S)>0?(C=!0,p=be.from(r.node(S).copy(p)),m++):u--;let v=be.empty,w=0;for(let S=s,C=!1;S>t;S--)C||i.after(S+1)<i.end(S)?(C=!0,v=be.from(i.node(S).copy(v)),w++):d++;n.step(new rr(u,d,o,l,new Re(p.append(v),m,w),p.size-m,!0))}function Jb(n,e,t=null,r=n){let i=CW(n,e),s=i&&_W(r,e);return s?i.map(sT).concat({type:e,attrs:t}).concat(s.map(sT)):null}function sT(n){return{type:n,attrs:null}}function CW(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function _W(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let u=(o.length?o[o.length-1]:e).contentMatch;for(let d=r;u&&d<i;d++)u=u.matchType(t.child(d).type);return!u||!u.validEnd?null:o}function kW(n,e,t){let r=be.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let l=t[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=be.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new rr(i,s,i,s,new Re(r,0,0),t.length,!0))}function TW(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,l)=>{let u=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,u)&&EW(n.doc,n.mapping.slice(s).map(l),r)){let d=null;if(r.schema.linebreakReplacement){let w=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);w&&!S?d=!1:!w&&S&&(d=!0)}d===!1&&h2(n,o,l,s),qb(n,n.mapping.slice(s).map(l,1),r,void 0,d===null);let p=n.mapping.slice(s),m=p.map(l,1),v=p.map(l+o.nodeSize,1);return n.step(new rr(m,v,m+1,v-1,new Re(be.from(r.create(u,null,o.marks)),0,0),1,!0)),d===!0&&u2(n,o,l,s),!1}})}function u2(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let u=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function h2(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function EW(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function OW(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new rr(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Re(be.from(o),0,0),1,!0))}function zd(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,p=t-2;d>s;d--,p--){let m=i.node(d),v=i.index(d);if(m.type.spec.isolating)return!1;let w=m.content.cutByIndex(v,m.childCount),S=r&&r[p+1];S&&(w=w.replaceChild(0,S.type.create(S.attrs)));let C=r&&r[p]||m;if(!m.canReplace(v+1,m.childCount)||!C.type.validContent(w))return!1}let l=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(l,l,u?u.type:i.node(s+1).type)}function MW(n,e,t=1,r){let i=n.doc.resolve(e),s=be.empty,o=be.empty;for(let l=i.depth,u=i.depth-t,d=t-1;l>u;l--,d--){s=be.from(i.node(l).copy(s));let p=r&&r[d];o=be.from(p?p.type.create(p.attrs,o):i.node(l).copy(o))}n.step(new nr(e,e,new Re(s.append(o),t,t),!0))}function lc(n,e){let t=n.resolve(e),r=t.index();return d2(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function AW(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function d2(n,e){return!!(n&&e&&!n.isLeaf&&AW(n,e))}function y1(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,o,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):t>0?(s=r.node(i+1),l++,o=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),o=r.node(i+1)),s&&!s.isTextblock&&d2(s,o)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function PW(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let p=o.whitespace=="pre",m=!!o.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let l=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);h2(n,p.node(),p.before(),l)}o.inlineContent&&qb(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let u=n.mapping.slice(l),d=u.map(e-t);if(n.step(new nr(d,u.map(e+t,-1),Re.empty,!0)),r===!0){let p=n.doc.resolve(d);u2(n,p.node(),p.before(),n.steps.length)}return n}function RW(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function f2(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,u=r.index(o)+(l>0?1:0),d=r.node(o),p=!1;if(s==1)p=d.canReplace(u,u,i);else{let m=d.contentMatchAt(u).findWrapping(i.firstChild.type);p=m&&d.canReplaceWith(u,u,m[0])}if(p)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function v1(n,e,t=e,r=Re.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return p2(i,s,r)?new nr(e,t,r):new DW(i,s,r).fit()}function p2(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class DW{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=be.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=be.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,l=i.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let u=new Re(s,o,l);return e>-1?new rr(r.pos,e,this.$to.pos,this.$to.end(),u,t):u.size||r.pos!=this.$to.pos?new nr(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=vS(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:d}=this.frontier[l],p,m=null;if(t==1&&(o?d.matchType(o.type)||(m=d.fillBefore(be.from(o),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:m};if(t==2&&o&&(p=d.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:p};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=vS(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Re(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=vS(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new Re(rg(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new Re(rg(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let C=0;C<s.length;C++)this.openFrontierNode(s[C]);let o=this.unplaced,l=r?r.content:o.content,u=o.openStart-e,d=0,p=[],{match:m,type:v}=this.frontier[t];if(i){for(let C=0;C<i.childCount;C++)p.push(i.child(C));m=m.matchFragment(i)}let w=l.size+e-(o.content.size-o.openEnd);for(;d<l.childCount;){let C=l.child(d),_=m.matchType(C.type);if(!_)break;d++,(d>1||u==0||C.content.size)&&(m=_,p.push(g2(C.mark(v.allowedMarks(C.marks)),d==1?u:0,d==l.childCount?w:-1)))}let S=d==l.childCount;S||(w=-1),this.placed=ig(this.placed,t,be.from(p)),this.frontier[t].match=m,S&&w<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,_=l;C<w;C++){let E=_.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),_=E.content}this.unplaced=S?e==0?Re.empty:new Re(rg(o.content,e-1,1),e-1,w<0?o.openEnd:e-1):new Re(rg(o.content,e,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!xS(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=xS(e,t,i,r,s);if(o){for(let l=t-1;l>=0;l--){let{match:u,type:d}=this.frontier[l],p=xS(e,l,d,u,!0);if(!p||p.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ig(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ig(this.placed,this.depth,be.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(be.empty,!0);t.childCount&&(this.placed=ig(this.placed,this.frontier.length,t))}}function rg(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(rg(n.firstChild.content,e-1,t)))}function ig(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ig(n.lastChild.content,e-1,t)))}function vS(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function g2(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,g2(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(be.empty,!0)))),n.copy(r)}function xS(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!IW(t,s.content,o)?l:null}function IW(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function NW(n){return n.spec.defining||n.spec.definingForContent}function LW(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(p2(i,s,r))return n.step(new nr(e,t,r));let o=y2(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let v=i.depth,w=i.pos-1;v>0;v--,w--){let S=i.node(v).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;o.indexOf(v)>-1?l=v:i.before(v)==w&&o.splice(1,0,-v)}let u=o.indexOf(l),d=[],p=r.openStart;for(let v=r.content,w=0;;w++){let S=v.firstChild;if(d.push(S),w==r.openStart)break;v=S.content}for(let v=p-1;v>=0;v--){let w=d[v],S=NW(w.type);if(S&&!w.sameMarkup(i.node(Math.abs(l)-1)))p=v;else if(S||!w.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let w=(v+p+1)%(r.openStart+1),S=d[w];if(S)for(let C=0;C<o.length;C++){let _=o[(C+u)%o.length],E=!0;_<0&&(E=!1,_=-_);let P=i.node(_-1),M=i.index(_-1);if(P.canReplaceWith(M,M,S.type,S.marks))return n.replace(i.before(_),E?s.after(_):t,new Re(m2(r.content,0,r.openStart,w),w,r.openEnd))}}let m=n.steps.length;for(let v=o.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>m));v--){let w=o[v];w<0||(e=i.before(w),t=s.after(w))}}function m2(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(m2(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(be.empty,!0))}return n}function FW(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=RW(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new Re(be.from(r),0,0))}function BW(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=y2(r,i);for(let o=0;o<s.length;o++){let l=s[o],u=o==s.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return n.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return n.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function y2(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class $d extends Ur{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Rn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Rn.fromReplace(e,this.pos,this.pos+1,new Re(be.from(i),0,t.isLeaf?0:1))}getMap(){return Ji.empty}invert(e){return new $d(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new $d(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new $d(t.pos,t.attr,t.value)}}Ur.jsonID("attr",$d);class Dg extends Ur{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Rn.ok(r)}getMap(){return Ji.empty}invert(e){return new Dg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Dg(t.attr,t.value)}}Ur.jsonID("docAttr",Dg);let Yd=class extends Error{};Yd=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Yd.prototype=Object.create(Error.prototype);Yd.prototype.constructor=Yd;Yd.prototype.name="TransformError";class jW{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new jd}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Yd(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Re.empty){let i=v1(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new Re(be.from(r),0,0))}delete(e,t){return this.replace(e,t,Re.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return LW(this,e,t,r),this}replaceRangeWith(e,t,r){return FW(this,e,t,r),this}deleteRange(e,t){return BW(this,e,t),this}lift(e,t){return bW(this,e,t),this}join(e,t=1){return PW(this,e,t),this}wrap(e,t){return kW(this,e,t),this}setBlockType(e,t=e,r,i=null){return TW(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return OW(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new $d(e,t,r)),this}setDocAttribute(e,t){return this.step(new Dg(e,t)),this}addNodeMark(e,t){return this.step(new Yl(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Gt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new Xd(e,t)),this}split(e,t=1,r){return MW(this,e,t,r),this}addMark(e,t,r){return xW(this,e,t,r),this}removeMark(e,t,r){return SW(this,e,t,r),this}clearIncompatible(e,t,r){return qb(this,e,t,r),this}}const SS=Object.create(null);class ct{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new zW(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Re.empty){let r=t.content.lastChild,i=null;for(let l=0;l<t.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:u,$to:d}=o[l],p=e.mapping.slice(s);e.replaceRange(p.map(u.pos),p.map(d.pos),l?Re.empty:t),l==0&&lT(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],u=e.mapping.slice(r),d=u.map(o.pos),p=u.map(l.pos);s?e.deleteRange(d,p):(e.replaceRangeWith(d,p,t),lT(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new nt(e):kd(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?kd(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):kd(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new so(e.node(0))}static atStart(e){return kd(e,e,0,0,1)||new so(e)}static atEnd(e){return kd(e,e,e.content.size,e.childCount,-1)||new so(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=SS[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in SS)throw new RangeError("Duplicate use of selection JSON ID "+e);return SS[e]=t,t.prototype.jsonID=e,t}getBookmark(){return nt.between(this.$anchor,this.$head).getBookmark()}}ct.prototype.visible=!0;class zW{constructor(e,t){this.$from=e,this.$to=t}}let oT=!1;function aT(n){!oT&&!n.parent.inlineContent&&(oT=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class nt extends ct{constructor(e,t=e){aT(e),aT(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ct.near(r);let i=e.resolve(t.map(this.anchor));return new nt(i.parent.inlineContent?i:r,r)}replace(e,t=Re.empty){if(super.replace(e,t),t==Re.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof nt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new x1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new nt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=ct.findFrom(t,r,!0)||ct.findFrom(t,-r,!0);if(s)t=s.$head;else return ct.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(ct.findFrom(e,-r,!0)||ct.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new nt(e,t)}}ct.jsonID("text",nt);class x1{constructor(e,t){this.anchor=e,this.head=t}map(e){return new x1(e.map(this.anchor),e.map(this.head))}resolve(e){return nt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ke extends ct{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?ct.near(s):new Ke(s)}content(){return new Re(be.from(this.node),0,0)}eq(e){return e instanceof Ke&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Qb(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ke(e.resolve(t.anchor))}static create(e,t){return new Ke(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ke.prototype.visible=!1;ct.jsonID("node",Ke);class Qb{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new x1(r,r):new Qb(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Ke.isSelectable(r)?new Ke(t):ct.near(t)}}class so extends ct{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Re.empty){if(t==Re.empty){e.delete(0,e.doc.content.size);let r=ct.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new so(e)}map(e){return new so(e)}eq(e){return e instanceof so}getBookmark(){return $W}}ct.jsonID("all",so);const $W={map(){return this},resolve(n){return new so(n)}};function kd(n,e,t,r,i,s=!1){if(e.inlineContent)return nt.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!s&&Ke.isSelectable(l))return Ke.create(n,t-(i<0?l.nodeSize:0))}else{let u=kd(n,l,t+i,i<0?l.childCount:0,i,s);if(u)return u}t+=l.nodeSize*i}return null}function lT(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof nr||i instanceof rr))return;let s=n.mapping.maps[r],o;s.forEach((l,u,d,p)=>{o==null&&(o=p)}),n.setSelection(ct.near(n.doc.resolve(o),t))}const cT=1,wy=2,uT=4;class WW extends jW{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|cT)&~wy,this.storedMarks=null,this}get selectionSet(){return(this.updated&cT)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=wy,this}ensureMarks(e){return Gt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&wy)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~wy,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Gt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(ct.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=uT,this}get scrolledIntoView(){return(this.updated&uT)>0}}function hT(n,e){return!e||!n?n:n.bind(e)}class sg{constructor(e,t,r){this.name=e,this.init=hT(t.init,r),this.apply=hT(t.apply,r)}}const HW=[new sg("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new sg("selection",{init(n,e){return n.selection||ct.atStart(e.doc)},apply(n){return n.selection}}),new sg("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new sg("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class wS{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=HW.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new sg(r.key,r.spec.state,r))})}}class Rd{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let u=i?i[o].n:0,d=i?i[o].state:this,p=u<t.length&&l.spec.appendTransaction.call(l,u?t.slice(u):t,d,r);if(p&&r.filterTransaction(p,o)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<o?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Rd(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new WW(this)}static create(e){let t=new wS(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Rd(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new wS(this.schema,e.plugins),r=t.fields,i=new Rd(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new wS(e.schema,e.plugins),s=new Rd(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=ql.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=ct.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],d=u.spec.state;if(u.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,l)){s[o.name]=d.fromJSON.call(u,e,t[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function v2(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=v2(i,e,{})),t[r]=i}return t}class Ni{constructor(e){this.spec=e,this.props={},e.props&&v2(e.props,this,this.props),this.key=e.key?e.key.key:x2("plugin")}getState(e){return e[this.key]}}const bS=Object.create(null);function x2(n){return n in bS?n+"$"+ ++bS[n]:(bS[n]=0,n+"$")}class ra{constructor(e="key"){this.key=x2(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const wr=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ig=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Pw=null;const Ba=function(n,e,t){let r=Pw||(Pw=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},VW=function(){Pw=null},Nu=function(n,e,t,r){return t&&(dT(n,e,t,r,-1)||dT(n,e,t,r,1))},UW=/^(img|br|input|textarea|hr)$/i;function dT(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Ts(n))){let s=n.parentNode;if(!s||s.nodeType!=1||Zg(n)||UW.test(n.nodeName)||n.contentEditable=="false")return!1;e=wr(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?Ts(n):0}else return!1}}function Ts(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function GW(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Ts(n)}else if(n.parentNode&&!Zg(n))e=wr(n),n=n.parentNode;else return null}}function XW(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Zg(n))e=wr(n)+1,n=n.parentNode;else return null}}function YW(n,e,t){for(let r=e==0,i=e==Ts(n);r||i;){if(n==t)return!0;let s=wr(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==Ts(n)}}function Zg(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const S1=function(n){return n.focusNode&&Nu(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function fu(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function KW(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function qW(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Ts(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Ts(r.startContainer),r.startOffset)}}}const Jo=typeof navigator<"u"?navigator:null,fT=typeof document<"u"?document:null,cc=Jo&&Jo.userAgent||"",Rw=/Edge\/(\d+)/.exec(cc),S2=/MSIE \d/.exec(cc),Dw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(cc),Pi=!!(S2||Dw||Rw),Ql=S2?document.documentMode:Dw?+Dw[1]:Rw?+Rw[1]:0,co=!Pi&&/gecko\/(\d+)/i.test(cc);co&&+(/Firefox\/(\d+)/.exec(cc)||[0,0])[1];const Iw=!Pi&&/Chrome\/(\d+)/.exec(cc),zr=!!Iw,w2=Iw?+Iw[1]:0,oi=!Pi&&!!Jo&&/Apple Computer/.test(Jo.vendor),Kd=oi&&(/Mobile\/\w+/.test(cc)||!!Jo&&Jo.maxTouchPoints>2),Cs=Kd||(Jo?/Mac/.test(Jo.platform):!1),JW=Jo?/Win/.test(Jo.platform):!1,Va=/Android \d/.test(cc),em=!!fT&&"webkitFontSmoothing"in fT.documentElement.style,QW=em?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ZW(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function La(n,e){return typeof n=="number"?n:n[e]}function eH(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function pT(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;o=Ig(o)){if(o.nodeType!=1)continue;let l=o,u=l==s.body,d=u?ZW(s):eH(l),p=0,m=0;if(e.top<d.top+La(r,"top")?m=-(d.top-e.top+La(i,"top")):e.bottom>d.bottom-La(r,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+La(i,"top")-d.top:e.bottom-d.bottom+La(i,"bottom")),e.left<d.left+La(r,"left")?p=-(d.left-e.left+La(i,"left")):e.right>d.right-La(r,"right")&&(p=e.right-d.right+La(i,"right")),p||m)if(u)s.defaultView.scrollBy(p,m);else{let v=l.scrollLeft,w=l.scrollTop;m&&(l.scrollTop+=m),p&&(l.scrollLeft+=p);let S=l.scrollLeft-v,C=l.scrollTop-w;e={left:e.left-S,top:e.top-C,right:e.right-S,bottom:e.bottom-C}}if(u||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function tH(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=n.root.elementFromPoint(s,o);if(!l||l==n.dom||!n.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=t-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:b2(n.dom)}}function b2(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ig(r));return e}function nH({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;C2(t,r==0?0:r-e)}function C2(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Sd=null;function rH(n){if(n.setActive)return n.setActive();if(Sd)return n.focus(Sd);let e=b2(n);n.focus(Sd==null?{get preventScroll(){return Sd={preventScroll:!0},!0}}:void 0),Sd||(Sd=!1,C2(e,0))}function _2(n,e){let t,r=2e8,i,s=0,o=e.top,l=e.top,u,d;for(let p=n.firstChild,m=0;p;p=p.nextSibling,m++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=Ba(p).getClientRects();else continue;for(let w=0;w<v.length;w++){let S=v[w];if(S.top<=o&&S.bottom>=l){o=Math.max(S.bottom,o),l=Math.min(S.top,l);let C=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(C<r){t=p,r=C,i=C&&t.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,p.nodeType==1&&C&&(s=m+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!u&&S.left<=e.left&&S.right>=e.left&&(u=p,d={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!t&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(s=m+1)}}return!t&&u&&(t=u,i=d,r=0),t&&t.nodeType==3?iH(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:_2(t,i)}function iH(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=Hl(r,1);if(s.top!=s.bottom&&Zb(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function Zb(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function sH(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function oH(n,e,t){let{node:r,offset:i}=_2(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function aH(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let l=n.docView.nearestDesc(s,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&(!o&&u.left>r.left||u.top>r.top?i=l.posBefore:(!o&&u.right<r.left||u.bottom<r.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function k2(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let u=0;u<l.length;u++){let d=l[u];if(Zb(e,d))return k2(o,e,d)}}if((s=(s+1)%r)==i)break}return n}function lH(n,e){let t=n.dom.ownerDocument,r,i=0,s=qW(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),l;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=n.dom.getBoundingClientRect();if(!Zb(e,d)||(o=k2(n.dom,e,d),!o))return null}if(oi)for(let d=o;r&&d;d=Ig(d))d.draggable&&(r=void 0);if(o=sH(o,e),r){if(co&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let d;em&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=aH(n,r,i,e))}l==null&&(l=oH(n,o,e));let u=n.docView.nearestDesc(o,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function gT(n){return n.top<n.bottom||n.left<n.right}function Hl(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(gT(r))return r}return Array.prototype.find.call(t,gT)||n.getBoundingClientRect()}const cH=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function T2(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=em||co;if(r.nodeType==3)if(o&&(cH.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let u=Hl(Ba(r,i,i),t);if(co&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=Hl(Ba(r,i-1,i-1),-1);if(d.top==u.top){let p=Hl(Ba(r,i,i+1),-1);if(p.top!=u.top)return qp(p,p.left<d.left)}}return u}else{let u=i,d=i,p=t<0?1:-1;return t<0&&!i?(d++,p=-1):t>=0&&i==r.nodeValue.length?(u--,p=1):t<0?u--:d++,qp(Hl(Ba(r,u,d),p),p<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==Ts(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return CS(u.getBoundingClientRect(),!1)}if(s==null&&i<Ts(r)){let u=r.childNodes[i];if(u.nodeType==1)return CS(u.getBoundingClientRect(),!0)}return CS(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==Ts(r))){let u=r.childNodes[i-1],d=u.nodeType==3?Ba(u,Ts(u)-(o?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(d)return qp(Hl(d,1),!1)}if(s==null&&i<Ts(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?Ba(u,0,o?0:1):u.nodeType==1?u:null:null;if(d)return qp(Hl(d,-1),!0)}return qp(Hl(r.nodeType==3?Ba(r):r,-t),t>=0)}function qp(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function CS(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function E2(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function uH(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return E2(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let l=n.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=T2(n,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Ba(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<u.length;d++){let p=u[d];if(p.bottom>p.top+1&&(t=="up"?o.top-p.top>(p.bottom-o.top)*2:p.bottom-o.bottom>(o.bottom-p.top)*2))return!1}}return!0})}const hH=/[\u0590-\u08ac]/;function dH(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,l=n.domSelection();return l?!hH.test(r.parent.textContent)||!l.modify?t=="left"||t=="backward"?s:o:E2(n,e,()=>{let{focusNode:u,focusOffset:d,anchorNode:p,anchorOffset:m}=n.domSelectionRange(),v=l.caretBidiLevel;l.modify("move",t,"character");let w=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:S,focusOffset:C}=n.domSelectionRange(),_=S&&!w.contains(S.nodeType==1?S:S.parentNode)||u==S&&d==C;try{l.collapse(p,m),u&&(u!=p||d!=m)&&l.extend&&l.extend(u,d)}catch{}return v!=null&&(l.caretBidiLevel=v),_}):r.pos==r.start()||r.pos==r.end()}let mT=null,yT=null,vT=!1;function fH(n,e,t){return mT==e&&yT==t?vT:(mT=e,yT=t,vT=t=="up"||t=="down"?uH(n,e,t):dH(n,e,t))}const Os=0,xT=1,xu=2,Qo=3;class tm{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Os,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>wr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(l>e||o instanceof M2){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof O2&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?wr(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?wr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,l=0;;l++){let u=this.children[l],d=o+u.size;if(i==-1&&e<=d){let p=o+u.border;if(e>=p&&t<=d-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,t,p);e=o;for(let m=l;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=wr(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(d>t||l==this.children.length-1)){t=d;for(let p=l+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=wr(m.dom);break}t+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let w=0,S=0;w<this.children.length;w++){let C=this.children[w],_=S+C.size;if(s>S&&o<_)return C.setSelection(e-S-C.border,t-S-C.border,r,i);S=_}let l=this.domFromPos(e,e?-1:1),u=t==e?l:this.domFromPos(t,t?-1:1),d=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((co||oi)&&e==t){let{node:w,offset:S}=l;if(w.nodeType==3){if(m=!!(S&&w.nodeValue[S-1]==`
`),m&&S==w.nodeValue.length)for(let C=w,_;C;C=C.parentNode){if(_=C.nextSibling){_.nodeName=="BR"&&(l=u={node:_.parentNode,offset:wr(_)+1});break}let E=C.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let C=w.childNodes[S-1];m=C&&(C.nodeName=="BR"||C.contentEditable=="false")}}if(co&&p.focusNode&&p.focusNode!=u.node&&p.focusNode.nodeType==1){let w=p.focusNode.childNodes[p.focusOffset];w&&w.contentEditable=="false"&&(i=!0)}if(!(i||m&&oi)&&Nu(l.node,l.offset,p.anchorNode,p.anchorOffset)&&Nu(u.node,u.offset,p.focusNode,p.focusOffset))return;let v=!1;if((d.extend||e==t)&&!m){d.collapse(l.node,l.offset);try{e!=t&&d.extend(u.node,u.offset),v=!0}catch{}}if(!v){if(e>t){let S=l;l=u,u=S}let w=document.createRange();w.setEnd(u.node,u.offset),w.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(w)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let l=r+s.border,u=o-s.border;if(e>=l&&t<=u){this.dirty=e==r||t==o?xu:xT,e==l&&t==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Qo:s.markDirty(e-l,t-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?xu:Qo}r=o}this.dirty=xu}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?xu:xT;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class O2 extends tm{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Os&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class pH extends tm{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Lu extends tm{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=zu.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Lu(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Qo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Qo&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Os){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Os}}slice(e,t,r){let i=Lu.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=Lw(s,t,o,r)),e>0&&(s=Lw(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Zl extends tm{constructor(e,t,r,i,s,o,l,u,d){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,t,r,i,s,o){let l=s.nodeViews[t.type.name],u,d=l&&l(t,s,()=>{if(!u)return o;if(u.parent)return u.parent.posBeforeChild(u)},r,i),p=d&&d.dom,m=d&&d.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=zu.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let v=p;return p=R2(p,r,t),d?u=new gH(e,t,r,i,p,m||null,v,d,s,o+1):t.isText?new w1(e,t,r,i,p,v,s):new Zl(e,t,r,i,p,m||null,v,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>be.empty)}return e}matchesNode(e,t,r){return this.dirty==Os&&e.eq(this.node)&&Sv(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,u=new yH(this,o&&o.node,e);SH(this.node,this.innerDeco,(d,p,m)=>{d.spec.marks?u.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!m&&u.syncToMarks(p==this.node.childCount?Gt.none:this.node.child(p).marks,r,e),u.placeWidget(d,e,i)},(d,p,m,v)=>{u.syncToMarks(d.marks,r,e);let w;u.findNodeMatch(d,p,m,v)||l&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(w=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(d,p,m,w,e)||u.updateNextNode(d,p,m,e,v,i)||u.addNode(d,p,m,e,i),i+=d.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==xu)&&(o&&this.protectLocalComposition(e,o),A2(this.contentDOM,this.children,e),Kd&&wH(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof nt)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=bH(this.node.content,o,r-t,i-t);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new pH(this,s,t,i);e.input.compositionNodes.push(o),this.children=Lw(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==Qo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Os}updateOuterDeco(e){if(Sv(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=P2(this.dom,this.nodeDOM,Nw(this.outerDeco,this.node,t),Nw(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ST(n,e,t,r,i){R2(r,e,n);let s=new Zl(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class w1 extends Zl{constructor(e,t,r,i,s,o,l){super(e,t,r,i,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Qo||this.dirty!=Os&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Os||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Os,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new w1(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Qo)}get domAtom(){return!1}isText(e){return this.node.text==e}}class M2 extends tm{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Os&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class gH extends Zl{constructor(e,t,r,i,s,o,l,u,d,p){super(e,t,r,i,s,o,l,d,p),this.spec=u}update(e,t,r,i){if(this.dirty==Qo)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function A2(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==n){for(;l!=r;)r=wT(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(l,r);if(o instanceof Lu){let u=r?r.previousSibling:n.lastChild;A2(o.contentDOM,o.children,t),r=u?u.nextSibling:n.firstChild}}for(;r;)r=wT(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const mg=function(n){n&&(this.nodeName=n)};mg.prototype=Object.create(null);const Su=[new mg];function Nw(n,e,t){if(n.length==0)return Su;let r=t?Su[0]:new mg,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new mg(o.nodeName));for(let l in o){let u=o[l];u!=null&&(t&&i.length==1&&i.push(r=new mg(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}function P2(n,e,t,r){if(t==Su&&r==Su)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],l=t[s];if(s){let u;l&&l.nodeName==o.nodeName&&i!=n&&(u=i.parentNode)&&u.nodeName.toLowerCase()==o.nodeName||(u=document.createElement(o.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=Su[0]),i=u}mH(i,l||Su[0],o)}return i}function mH(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function R2(n,e,t){return P2(n,n,Su,Nw(e,t,n.nodeType!=1))}function Sv(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function wT(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class yH{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=vH(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Os,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let d=this.top.children[u];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=Lu.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let d=this.top.children[l];if(d.matchesNode(e,t,r)&&!this.preMatch.matched.has(d)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==Qo&&o.dom==o.contentDOM&&(o.dirty=xu),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof Zl){let d=this.preMatch.matched.get(u);if(d!=null&&d!=s)return!1;let p=u.dom,m,v=this.isLocked(p)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=Qo&&Sv(t,u.outerDeco));if(!v&&u.update(e,t,r,i))return this.destroyBetween(this.index,l),u.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(m=this.recreateWrapper(u,e,t,r,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=xu,m.updateChildren(i,o+1),m.dirty=Os),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Sv(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Zl.create(this.top,t,r,i,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let u of l.children)u.parent=l}return e.destroy(),l}addNode(e,t,r,i,s){let o=Zl.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new O2(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Lu;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof w1)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((oi||zr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new M2(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function vH(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let d=t.children[r-1];if(d instanceof Lu)t=d,r=d.children.length;else{l=d,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let u=l.node;if(u){if(u!=n.child(i-1))break;--i,s.set(l,i),o.push(l)}}return{index:i,matched:s,matches:o.reverse()}}function xH(n,e){return n.type.side-e.type.side}function SH(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let d=0;d<n.childCount;d++){let p=n.child(d);r(p,i,e.forChild(s,p),d),s+=p.nodeSize}return}let o=0,l=[],u=null;for(let d=0;;){let p,m;for(;o<i.length&&i[o].to==s;){let _=i[o++];_.widget&&(p?(m||(m=[p])).push(_):p=_)}if(p)if(m){m.sort(xH);for(let _=0;_<m.length;_++)t(m[_],d,!!u)}else t(p,d,!!u);let v,w;if(u)w=-1,v=u,u=null;else if(d<n.childCount)w=d,v=n.child(d++);else break;for(let _=0;_<l.length;_++)l[_].to<=s&&l.splice(_--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)l.push(i[o++]);let S=s+v.nodeSize;if(v.isText){let _=S;o<i.length&&i[o].from<_&&(_=i[o].from);for(let E=0;E<l.length;E++)l[E].to<_&&(_=l[E].to);_<S&&(u=v.cut(_-s),v=v.cut(0,_-s),S=_,w=-1)}else for(;o<i.length&&i[o].to<S;)o++;let C=v.isInline&&!v.isLeaf?l.filter(_=>!_.inline):l.slice();r(v,C,e.forChild(s,v),w),s=S}}function wH(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function bH(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),l=s;if(s+=o.nodeSize,!o.isText)continue;let u=o.text;for(;i<n.childCount;){let d=n.child(i++);if(s+=d.nodeSize,!d.isText)break;u+=d.text}if(s>=t){if(s>=r&&u.slice(r-e.length-l,r-l)==e)return r-e.length;let d=l<r?u.lastIndexOf(e,r-l-1):-1;if(d>=0&&d+e.length+l>=t)return l+d;if(t==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}function Lw(n,e,t,r,i){let s=[];for(let o=0,l=0;o<n.length;o++){let u=n[o],d=l,p=l+=u.size;d>=t||p<=e?s.push(u):(d<e&&s.push(u.slice(0,e-d,r)),i&&(s.push(i),i=void 0),p>t&&s.push(u.slice(t-d,u.size,r)))}return s}function eC(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let l=r.resolve(o),u,d;if(S1(t)){for(u=o;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&Ke.isSelectable(m)&&i.parent&&!(m.isInline&&YW(t.focusNode,t.focusOffset,i.dom))){let v=i.posBefore;d=new Ke(o==v?l:r.resolve(v))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=o,v=o;for(let w=0;w<t.rangeCount;w++){let S=t.getRangeAt(w);m=Math.min(m,n.docView.posFromDOM(S.startContainer,S.startOffset,1)),v=Math.max(v,n.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(m<0)return null;[u,o]=v==n.state.selection.anchor?[v,m]:[m,v],l=r.resolve(o)}else u=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(u<0)return null}let p=r.resolve(u);if(!d){let m=e=="pointer"||n.state.selection.head<l.pos&&!s?1:-1;d=tC(n,p,l,m)}return d}function D2(n){return n.editable?n.hasFocus():N2(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Ya(n,e=!1){let t=n.state.selection;if(I2(n,t),!!D2(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&zr){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Nu(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)_H(n);else{let{anchor:r,head:i}=t,s,o;bT&&!(t instanceof nt)&&(t.$from.parent.inlineContent||(s=CT(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=CT(n,t.to))),n.docView.setSelection(r,i,n,e),bT&&(s&&_T(s),o&&_T(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&CH(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const bT=oi||zr&&w2<63;function CT(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(oi&&i&&i.contentEditable=="false")return _S(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return _S(i);if(s)return _S(s)}}function _S(n){return n.contentEditable="true",oi&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function _T(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function CH(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!D2(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function _H(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,wr(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Pi&&Ql<=11&&(r.disabled=!0,r.disabled=!1)}function I2(n,e){if(e instanceof Ke){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(kT(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else kT(n)}function kT(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function tC(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||nt.between(e,t,r)}function TT(n){return n.editable&&!n.hasFocus()?!1:N2(n)}function N2(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function kH(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Nu(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Fw(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&ct.findFrom(s,e)}function Vl(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function ET(n,e,t){let r=n.state.selection;if(r instanceof nt)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Vl(n,new nt(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=Fw(n.state,e);return i&&i instanceof Ke?Vl(n,i):!1}else if(!(Cs&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(l))&&!o.contentDOM?Ke.isSelectable(s)?Vl(n,new Ke(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):em?Vl(n,new nt(n.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ke&&r.node.isInline)return Vl(n,new nt(e>0?r.$to:r.$from));{let i=Fw(n.state,e);return i?Vl(n,i):!1}}}function wv(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function yg(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function wd(n,e){return e<0?TH(n):EH(n)}function TH(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(co&&t.nodeType==1&&r<wv(t)&&yg(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let l=t.childNodes[r-1];if(yg(l,-1))i=t,s=--r;else if(l.nodeType==3)t=l,r=t.nodeValue.length;else break}}else{if(L2(t))break;{let l=t.previousSibling;for(;l&&yg(l,-1);)i=t.parentNode,s=wr(l),l=l.previousSibling;if(l)t=l,r=wv(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?Bw(n,t,r):i&&Bw(n,i,s)}function EH(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=wv(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let l=t.childNodes[r];if(yg(l,1))s=t,o=++r;else break}else{if(L2(t))break;{let l=t.nextSibling;for(;l&&yg(l,1);)s=l.parentNode,o=wr(l)+1,l=l.nextSibling;if(l)t=l,r=0,i=wv(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&Bw(n,s,o)}function L2(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function OH(n,e){for(;n&&e==n.childNodes.length&&!Zg(n);)e=wr(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function MH(n,e){for(;n&&!e&&!Zg(n);)e=wr(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Bw(n,e,t){if(e.nodeType!=3){let s,o;(o=OH(e,t))?(e=o,t=0):(s=MH(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(S1(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Ya(n)},50)}function OT(n,e){let t=n.state.doc.resolve(e);if(!(zr||JW)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function MT(n,e,t){let r=n.state.selection;if(r instanceof nt&&!r.empty||t.indexOf("s")>-1||Cs&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=Fw(n.state,e);if(o&&o instanceof Ke)return Vl(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,l=r instanceof so?ct.near(o,e):ct.findFrom(o,e);return l?Vl(n,l):!1}return!1}function AT(n,e){if(!(n.state.selection instanceof nt))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function PT(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function AH(n){if(!oi||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;PT(n,r,"true"),setTimeout(()=>PT(n,r,"false"),20)}return!1}function PH(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function RH(n,e){let t=e.keyCode,r=PH(e);if(t==8||Cs&&t==72&&r=="c")return AT(n,-1)||wd(n,-1);if(t==46&&!e.shiftKey||Cs&&t==68&&r=="c")return AT(n,1)||wd(n,1);if(t==13||t==27)return!0;if(t==37||Cs&&t==66&&r=="c"){let i=t==37?OT(n,n.state.selection.from)=="ltr"?-1:1:-1;return ET(n,i,r)||wd(n,i)}else if(t==39||Cs&&t==70&&r=="c"){let i=t==39?OT(n,n.state.selection.from)=="ltr"?1:-1:1;return ET(n,i,r)||wd(n,i)}else{if(t==38||Cs&&t==80&&r=="c")return MT(n,-1,r)||wd(n,-1);if(t==40||Cs&&t==78&&r=="c")return AH(n)||MT(n,1,r)||wd(n,1);if(r==(Cs?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function F2(n,e){n.someProp("transformCopied",w=>{e=w(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let w=r.firstChild;t.push(w.type.name,w.attrs!=w.type.defaultAttrs?w.attrs:null),r=w.content}let o=n.someProp("clipboardSerializer")||zu.fromSchema(n.state.schema),l=H2(),u=l.createElement("div");u.appendChild(o.serializeFragment(r,{document:l}));let d=u.firstChild,p,m=0;for(;d&&d.nodeType==1&&(p=W2[d.nodeName.toLowerCase()]);){for(let w=p.length-1;w>=0;w--){let S=l.createElement(p[w]);for(;u.firstChild;)S.appendChild(u.firstChild);u.appendChild(S),m++}d=u.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",w=>w(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:v,slice:e}}function B2(n,e,t,r,i){let s=i.parent.type.spec.code,o,l;if(!t&&!e)return null;let u=e&&(r||s||!t);if(u){if(n.someProp("transformPastedText",v=>{e=v(e,s||r,n)}),s)return e?new Re(be.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Re.empty;let m=n.someProp("clipboardTextParser",v=>v(e,i,r,n));if(m)l=m;else{let v=i.marks(),{schema:w}=n.state,S=zu.fromSchema(w);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(C=>{let _=o.appendChild(document.createElement("p"));C&&_.appendChild(S.serializeNode(w.text(C,v)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),o=LH(t),em&&FH(o);let d=o&&o.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let v=o.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;o=v}if(l||(l=(n.someProp("clipboardParser")||n.someProp("domParser")||Jl.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(u||p),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!DH.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)l=BH(RT(l,+p[1],+p[2]),p[4]);else if(l=Re.maxOpen(IH(l.content,i),!0),l.openStart||l.openEnd){let m=0,v=0;for(let w=l.content.firstChild;m<l.openStart&&!w.type.spec.isolating;m++,w=w.firstChild);for(let w=l.content.lastChild;v<l.openEnd&&!w.type.spec.isolating;v++,w=w.lastChild);l=RT(l,m,v)}return n.someProp("transformPasted",m=>{l=m(l,n)}),l}const DH=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function IH(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(l=>{if(!o)return;let u=i.findWrapping(l.type),d;if(!u)return o=null;if(d=o.length&&s.length&&z2(u,s,l,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=$2(o[o.length-1],s.length));let p=j2(l,u);o.push(p),i=i.matchType(p.type),s=u}}),o)return be.from(o)}return n}function j2(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,be.from(n));return n}function z2(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=z2(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(be.from(j2(t,n,i+1))))}}function $2(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,$2(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(be.empty,!0);return n.copy(t.append(r))}function jw(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,l=o.content;return n.childCount>1&&(s=0),i<r-1&&(l=jw(l,e,t,r,i+1,s)),i>=t&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(be.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(l))}function RT(n,e,t){return e<n.openStart&&(n=new Re(jw(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Re(jw(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const W2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let DT=null;function H2(){return DT||(DT=document.implementation.createHTMLDocument("title"))}let kS=null;function NH(n){let e=window.trustedTypes;return e?(kS||(kS=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),kS.createHTML(n)):n}function LH(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=H2().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&W2[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=NH(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function FH(n){let e=n.querySelectorAll(zr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function BH(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let l=r.length-2;l>=0;l-=2){let u=t.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=be.from(u.create(r[l+1],i)),s++,o++}return new Re(i,s,o)}const ai={},li={},jH={touchstart:!0,touchmove:!0};class zH{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function $H(n){for(let e in ai){let t=ai[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{HH(n,r)&&!nC(n,r)&&(n.editable||!(r.type in li))&&t(n,r)},jH[e]?{passive:!0}:void 0)}oi&&n.dom.addEventListener("input",()=>null),zw(n)}function Kl(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function WH(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function zw(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>nC(n,r))})}function nC(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function HH(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function VH(n,e){!nC(n,e)&&ai[e.type]&&(n.editable||!(e.type in li))&&ai[e.type](n,e)}li.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!U2(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Va&&zr&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Kd&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,fu(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||RH(n,t)?t.preventDefault():Kl(n,"key")};li.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};li.keypress=(n,e)=>{let t=e;if(U2(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Cs&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof nt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function b1(n){return{left:n.clientX,top:n.clientY}}function UH(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function rC(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,l=>o>s.depth?l(n,t,s.nodeAfter,s.before(o),i,!0):l(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function Wd(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function GH(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Ke.isSelectable(r)?(Wd(n,new Ke(t)),!0):!1}function XH(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Ke&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(Ke.isSelectable(l)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(Wd(n,Ke.create(n.state.doc,i)),!0):!1}function YH(n,e,t,r,i){return rC(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?XH(n,t):GH(n,t))}function KH(n,e,t,r){return rC(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function qH(n,e,t,r){return rC(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||JH(n,t,r)}function JH(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Wd(n,nt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(o.inlineContent)Wd(n,nt.create(r,l+1,l+1+o.content.size));else if(Ke.isSelectable(o))Wd(n,Ke.create(r,l));else continue;return!0}}function iC(n){return bv(n)}const V2=Cs?"metaKey":"ctrlKey";ai.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=iC(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&UH(t,n.input.lastClick)&&!t[V2]&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s};let o=n.posAtCoords(b1(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new QH(n,o,t,!!r)):(s=="doubleClick"?KH:qH)(n,o.pos,o.inside,t)?t.preventDefault():Kl(n,"pointer"))};class QH{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[V2],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let p=e.state.doc.resolve(t.pos);s=p.parent,o=p.depth?p.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u&&u.dom.nodeType==1?u.dom:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof Ke&&d.from<=o&&d.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&co&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Kl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ya(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(b1(e))),this.updateAllowDefault(e),this.allowDefault||!t?Kl(this.view,"pointer"):YH(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||oi&&this.mightDrag&&!this.mightDrag.node.isAtom||zr&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Wd(this.view,ct.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Kl(this.view,"pointer")}move(e){this.updateAllowDefault(e),Kl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ai.touchstart=n=>{n.input.lastTouch=Date.now(),iC(n),Kl(n,"pointer")};ai.touchmove=n=>{n.input.lastTouch=Date.now(),Kl(n,"pointer")};ai.contextmenu=n=>iC(n);function U2(n,e){return n.composing?!0:oi&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const ZH=Va?5e3:-1;li.compositionstart=li.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof nt&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),bv(n,!0),n.markCursor=null;else if(bv(n,!e.selection.empty),co&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let l=n.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}G2(n,ZH)};li.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,G2(n,20))};function G2(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>bv(n),e))}function X2(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t6());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function e6(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=GW(e.focusNode,e.focusOffset),r=XW(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function t6(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function bv(n,e=!1){if(!(Va&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),X2(n),e||n.docView&&n.docView.dirty){let t=eC(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function n6(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Ng=Pi&&Ql<15||Kd&&QW<604;ai.copy=li.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=Ng?null:t.clipboardData,o=r.content(),{dom:l,text:u}=F2(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",u)):n6(n,l),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function r6(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function i6(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Lg(n,r.value,null,i,e):Lg(n,r.textContent,r.innerHTML,i,e)},50)}function Lg(n,e,t,r,i){let s=B2(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",u=>u(n,i,s||Re.empty)))return!0;if(!s)return!1;let o=r6(s),l=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Y2(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}li.paste=(n,e)=>{let t=e;if(n.composing&&!Va)return;let r=Ng?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Lg(n,Y2(r),r.getData("text/html"),i,t)?t.preventDefault():i6(n,t)};class K2{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const q2=Cs?"altKey":"ctrlKey";ai.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(b1(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ke?i.to-1:i.to))){if(r&&r.mightDrag)o=Ke.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=n.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=n.docView&&(o=Ke.create(n.state.doc,m.posBefore))}}let l=(o||n.state.selection).content(),{dom:u,text:d,slice:p}=F2(n,l);(!t.dataTransfer.files.length||!zr||w2>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Ng?"Text":"text/html",u.innerHTML),t.dataTransfer.effectAllowed="copyMove",Ng||t.dataTransfer.setData("text/plain",d),n.dragging=new K2(p,!t[q2],o)};ai.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};li.dragover=li.dragenter=(n,e)=>e.preventDefault();li.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(b1(t));if(!i)return;let s=n.state.doc.resolve(i.pos),o=r&&r.slice;o?n.someProp("transformPasted",S=>{o=S(o,n)}):o=B2(n,Y2(t.dataTransfer),Ng?null:t.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&!t[q2]);if(n.someProp("handleDrop",S=>S(n,t,o||Re.empty,l))){t.preventDefault();return}if(!o)return;t.preventDefault();let u=o?f2(n.state.doc,s.pos,o):s.pos;u==null&&(u=s.pos);let d=n.state.tr;if(l){let{node:S}=r;S?S.replace(d):d.deleteSelection()}let p=d.mapping.map(u),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,v=d.doc;if(m?d.replaceRangeWith(p,p,o.content.firstChild):d.replaceRange(p,p,o),d.doc.eq(v))return;let w=d.doc.resolve(p);if(m&&Ke.isSelectable(o.content.firstChild)&&w.nodeAfter&&w.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new Ke(w));else{let S=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((C,_,E,P)=>S=P),d.setSelection(tC(n,w,d.doc.resolve(S)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))};ai.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Ya(n)},20))};ai.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};ai.beforeinput=(n,e)=>{if(zr&&Va&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,fu(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in li)ai[n]=li[n];function Fg(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Cv{constructor(e,t){this.toDOM=e,this.spec=t||Eu,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new Es(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Cv&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Fg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ec{constructor(e,t){this.attrs=e,this.spec=t||Eu}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Es(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ec&&Fg(this.attrs,e.attrs)&&Fg(this.spec,e.spec)}static is(e){return e.type instanceof ec}destroy(){}}class sC{constructor(e,t){this.attrs=e,this.spec=t||Eu}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Es(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof sC&&Fg(this.attrs,e.attrs)&&Fg(this.spec,e.spec)}destroy(){}}class Es{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Es(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Es(e,e,new Cv(t,r))}static inline(e,t,r,i){return new Es(e,t,new ec(r,i))}static node(e,t,r,i){return new Es(e,t,new sC(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ec}get widget(){return this.type instanceof Cv}}const Td=[],Eu={};class $n{constructor(e,t){this.local=e.length?e:Td,this.children=t.length?t:Td}static create(e,t){return t.length?_v(t,e,0,Eu):Br}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=t&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,t-l,r,i+l,s)}}map(e,t,r){return this==Br||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Eu)}mapInner(e,t,r,i,s){let o;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(t,u)?(o||(o=[])).push(u):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?s6(this.children,o||[],e,t,r,i,s):o?new $n(o.sort(Ou),Td):Br}add(e,t){return t.length?this==Br?$n.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((l,u)=>{let d=u+r,p;if(p=Q2(t,l,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(l,p,d+1):i.splice(s,0,u,u+l.nodeSize,_v(p,l,d+1,Eu)),s+=3}});let o=J2(s?Z2(t):t,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new $n(o.length?this.local.concat(o).sort(Ou):this.local,i||this.children)}remove(e){return e.length==0||this==Br?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,l=r[s]+t,u=r[s+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>l&&m.to<u&&(e[p]=null,(o||(o=[])).push(m));if(!o)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(o,l+1);d!=Br?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<i.length;l++)i[l].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new $n(i,r):Br}forChild(e,t){if(this==Br)return this;if(t.isLeaf)return $n.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,o=s+t.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<o&&u.to>s&&u.type instanceof ec){let d=Math.max(s,u.from)-s,p=Math.min(o,u.to)-s;d<p&&(i||(i=[])).push(u.copy(d,p))}}if(i){let l=new $n(i.sort(Ou),Td);return r?new Gl([l,r]):l}return r||Br}eq(e){if(this==e)return!0;if(!(e instanceof $n)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return oC(this.localsInner(e))}localsInner(e){if(this==Br)return Td;if(e.inlineContent||!this.local.some(ec.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ec||t.push(this.local[r]);return t}forEachSet(e){e(this)}}$n.empty=new $n([],[]);$n.removeOverlap=oC;const Br=$n.empty;class Gl{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Eu));return Gl.from(r)}forChild(e,t){if(t.isLeaf)return $n.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=Br&&(s instanceof Gl?r=r.concat(s.members):r.push(s))}return Gl.from(r)}eq(e){if(!(e instanceof Gl)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?oC(r?t:t.sort(Ou)):Td}static from(e){switch(e.length){case 0:return Br;case 1:return e[0];default:return new Gl(e.every(t=>t instanceof $n)?e:e.reduce((t,r)=>t.concat(r instanceof $n?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function s6(n,e,t,r,i,s,o){let l=n.slice();for(let d=0,p=s;d<t.maps.length;d++){let m=0;t.maps[d].forEach((v,w,S,C)=>{let _=C-S-(w-v);for(let E=0;E<l.length;E+=3){let P=l[E+1];if(P<0||v>P+p-m)continue;let M=l[E]+p-m;w>=M?l[E+1]=v<=M?-2:-1:v>=p&&_&&(l[E]+=_,l[E+1]+=_)}m+=_}),p=t.maps[d].map(p,-1)}let u=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){u=!0,l[d+1]=-1;continue}let p=t.map(n[d]+s),m=p-i;if(m<0||m>=r.content.size){u=!0;continue}let v=t.map(n[d+1]+s,-1),w=v-i,{index:S,offset:C}=r.content.findIndex(m),_=r.maybeChild(S);if(_&&C==m&&C+_.nodeSize==w){let E=l[d+2].mapInner(t,_,p+1,n[d]+s+1,o);E!=Br?(l[d]=m,l[d+1]=w,l[d+2]=E):(l[d+1]=-2,u=!0)}else u=!0}if(u){let d=o6(l,n,e,t,i,s,o),p=_v(d,r,0,o);e=p.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,v=0;m<p.children.length;m+=3){let w=p.children[m];for(;v<l.length&&l[v]<w;)v+=3;l.splice(v,0,p.children[m],p.children[m+1],p.children[m+2])}}return new $n(e.sort(Ou),l)}function J2(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Es(i.from+e,i.to+e,i.type))}return t}function o6(n,e,t,r,i,s,o){function l(u,d){for(let p=0;p<u.local.length;p++){let m=u.local[p].map(r,i,d);m?t.push(m):o.onRemove&&o.onRemove(u.local[p].spec)}for(let p=0;p<u.children.length;p+=3)l(u.children[p+2],u.children[p]+d+1)}for(let u=0;u<n.length;u+=3)n[u+1]==-1&&l(n[u+2],e[u]+s+1);return t}function Q2(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function Z2(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function _v(n,e,t,r){let i=[],s=!1;e.forEach((l,u)=>{let d=Q2(n,l,u+t);if(d){s=!0;let p=_v(d,l,t+u+1,r);p!=Br&&i.push(u,u+l.nodeSize,p)}});let o=J2(s?Z2(n):n,-t).sort(Ou);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new $n(o,i):Br}function Ou(n,e){return n.from-e.from||n.to-e.to}function oC(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),IT(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),IT(e,i,r.copy(s.from,r.to)));break}}}return e}function IT(n,e,t){for(;e<n.length&&Ou(t,n[e])>0;)e++;n.splice(e,0,t)}function TS(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Br&&e.push(r)}),n.cursorWrapper&&e.push($n.create(n.state.doc,[n.cursorWrapper.deco])),Gl.from(e)}const a6={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},l6=Pi&&Ql<=11;class c6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class u6{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new c6,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Pi&&Ql<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),l6&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,a6)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(TT(this.view)){if(this.suppressingSelectionUpdates)return Ya(this.view);if(Pi&&Ql<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Nu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Ig(s))t.add(s);for(let s=e.anchorNode;s;s=Ig(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&TT(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,l=!1,u=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],u);m&&(s=s<0?m.from:Math.min(m.from,s),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(co&&u.length){let p=u.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,v]=p;m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let v of p){let w=v.parentNode;w&&w.nodeName=="LI"&&(!m||f6(e,m)!=w)&&v.remove()}}}let d=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&S1(r)&&(d=eC(e))&&d.eq(ct.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ya(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),h6(e)),this.handleDOMChange(s,o,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ya(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Pi&&Ql<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(s=v)}let o=i&&i.parentNode==e.target?wr(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),u=s&&s.parentNode==e.target?wr(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,u,1);return{from:l,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let NT=new WeakMap,LT=!1;function h6(n){if(!NT.has(n)&&(NT.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=co,LT)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),LT=!0}}function FT(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Nu(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function d6(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return FT(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?FT(n,t):null}function f6(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function p6(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:l}=n.docView.parseRange(e,t),u=n.domSelectionRange(),d,p=u.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:u.anchorOffset}],S1(u)||d.push({node:u.focusNode,offset:u.focusOffset})),zr&&n.input.lastKeyCode===8)for(let _=s;_>i;_--){let E=r.childNodes[_-1],P=E.pmViewDesc;if(E.nodeName=="BR"&&!P){s=_;break}if(!P||P.size)break}let m=n.state.doc,v=n.someProp("domParser")||Jl.fromSchema(n.state.schema),w=m.resolve(o),S=null,C=v.parse(r,{topNode:w.parent,topMatch:w.parent.contentMatchAt(w.index()),topOpen:!0,from:i,to:s,preserveWhitespace:w.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:g6,context:w});if(d&&d[0].pos!=null){let _=d[0].pos,E=d[1]&&d[1].pos;E==null&&(E=_),S={anchor:_+o,head:E+o}}return{doc:C,sel:S,from:o,to:l}}function g6(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(oi&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||oi&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const m6=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function y6(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let q=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,R=eC(n,q);if(R&&!n.state.selection.eq(R)){if(zr&&Va&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",he=>he(n,fu(13,"Enter"))))return;let se=n.state.tr.setSelection(R);q=="pointer"?se.setMeta("pointer",!0):q=="key"&&se.scrollIntoView(),s&&se.setMeta("composition",s),n.dispatch(se)}return}let o=n.state.doc.resolve(e),l=o.sharedDepth(t);e=o.before(l+1),t=n.state.doc.resolve(t).after(l+1);let u=n.state.selection,d=p6(n,e,t),p=n.state.doc,m=p.slice(d.from,d.to),v,w;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,w="end"):(v=n.state.selection.from,w="start"),n.input.lastKeyCode=null;let S=S6(m.content,d.doc.content,d.from,v,w);if(S&&n.input.domChangeCount++,(Kd&&n.input.lastIOSEnter>Date.now()-225||Va)&&i.some(q=>q.nodeType==1&&!m6.test(q.nodeName))&&(!S||S.endA>=S.endB)&&n.someProp("handleKeyDown",q=>q(n,fu(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!S)if(r&&u instanceof nt&&!u.empty&&u.$head.sameParent(u.$anchor)&&!n.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))S={start:u.from,endA:u.to,endB:u.to};else{if(d.sel){let q=BT(n,n.state.doc,d.sel);if(q&&!q.eq(n.state.selection)){let R=n.state.tr.setSelection(q);s&&R.setMeta("composition",s),n.dispatch(R)}}return}n.state.selection.from<n.state.selection.to&&S.start==S.endB&&n.state.selection instanceof nt&&(S.start>n.state.selection.from&&S.start<=n.state.selection.from+2&&n.state.selection.from>=d.from?S.start=n.state.selection.from:S.endA<n.state.selection.to&&S.endA>=n.state.selection.to-2&&n.state.selection.to<=d.to&&(S.endB+=n.state.selection.to-S.endA,S.endA=n.state.selection.to)),Pi&&Ql<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>d.from&&d.doc.textBetween(S.start-d.from-1,S.start-d.from+1)=="  "&&(S.start--,S.endA--,S.endB--);let C=d.doc.resolveNoCache(S.start-d.from),_=d.doc.resolveNoCache(S.endB-d.from),E=p.resolve(S.start),P=C.sameParent(_)&&C.parent.inlineContent&&E.end()>=S.endA,M;if((Kd&&n.input.lastIOSEnter>Date.now()-225&&(!P||i.some(q=>q.nodeName=="DIV"||q.nodeName=="P"))||!P&&C.pos<d.doc.content.size&&!C.sameParent(_)&&(M=ct.findFrom(d.doc.resolve(C.pos+1),1,!0))&&M.head==_.pos)&&n.someProp("handleKeyDown",q=>q(n,fu(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>S.start&&x6(p,S.start,S.endA,C,_)&&n.someProp("handleKeyDown",q=>q(n,fu(8,"Backspace")))){Va&&zr&&n.domObserver.suppressSelectionUpdates();return}zr&&S.endB==S.start&&(n.input.lastChromeDelete=Date.now()),Va&&!P&&C.start()!=_.start()&&_.parentOffset==0&&C.depth==_.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==S.endA&&(S.endB-=2,_=d.doc.resolveNoCache(S.endB-d.from),setTimeout(()=>{n.someProp("handleKeyDown",function(q){return q(n,fu(13,"Enter"))})},20));let F=S.start,L=S.endA,j,$,W;if(P){if(C.pos==_.pos)Pi&&Ql<=11&&C.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ya(n),20)),j=n.state.tr.delete(F,L),$=p.resolve(S.start).marksAcross(p.resolve(S.endA));else if(S.endA==S.endB&&(W=v6(C.parent.content.cut(C.parentOffset,_.parentOffset),E.parent.content.cut(E.parentOffset,S.endA-E.start()))))j=n.state.tr,W.type=="add"?j.addMark(F,L,W.mark):j.removeMark(F,L,W.mark);else if(C.parent.child(C.index()).isText&&C.index()==_.index()-(_.textOffset?0:1)){let q=C.parent.textBetween(C.parentOffset,_.parentOffset);if(n.someProp("handleTextInput",R=>R(n,F,L,q)))return;j=n.state.tr.insertText(q,F,L)}}if(j||(j=n.state.tr.replace(F,L,d.doc.slice(S.start-d.from,S.endB-d.from))),d.sel){let q=BT(n,j.doc,d.sel);q&&!(zr&&n.composing&&q.empty&&(S.start!=S.endB||n.input.lastChromeDelete<Date.now()-100)&&(q.head==F||q.head==j.mapping.map(L)-1)||Pi&&q.empty&&q.head==F)&&j.setSelection(q)}$&&j.ensureMarks($),s&&j.setMeta("composition",s),n.dispatch(j.scrollIntoView())}function BT(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:tC(n,e.resolve(t.anchor),e.resolve(t.head))}function v6(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,l,u;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<t.length;p++)s=t[p].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],o="add",u=p=>p.mark(l.addToSet(p.marks));else if(i.length==0&&s.length==1)l=s[0],o="remove",u=p=>p.mark(l.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(u(e.child(p)));if(be.from(d).eq(n))return{mark:l,type:o}}function x6(n,e,t,r,i){if(t-e<=i.pos-r.pos||ES(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&t==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(ES(s,!0,!0));return!o.parent.isTextblock||o.pos>t||ES(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function ES(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function S6(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:l}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(o,l));r-=o+u-s}if(o<s&&n.size<e.size){let u=r<=s&&r>=o?s-r:0;s-=u,s&&s<e.size&&jT(e.textBetween(s-1,s+1))&&(s+=u?1:-1),l=s+(l-o),o=s}else if(l<s){let u=r<=s&&r>=l?s-r:0;s-=u,s&&s<n.size&&jT(n.textBetween(s-1,s+1))&&(s+=u?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function jT(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class w6{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new zH,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(VT),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=WT(this),$T(this),this.nodeViews=HT(this),this.docView=ST(this.state.doc,zT(this),TS(this),this.dom,this),this.domObserver=new u6(this,(r,i,s,o)=>y6(this,r,i,s,o)),this.domObserver.start(),$H(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&zw(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(VT),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(X2(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(l||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let w=HT(this);C6(w,this.nodeViews)&&(this.nodeViews=w,s=!0)}(l||t.handleDOMEvents!=this._props.handleDOMEvents)&&zw(this),this.editable=WT(this),$T(this);let u=TS(this),d=zT(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,d,u);(m||!e.selection.eq(i.selection))&&(o=!0);let v=p=="preserve"&&o&&this.dom.style.overflowAnchor==null&&tH(this);if(o){this.domObserver.stop();let w=m&&(Pi||zr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&b6(i.selection,e.selection);if(m){let S=zr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=e6(this)),(s||!this.docView.update(e.doc,d,u,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=ST(e.doc,d,u,this.dom,this)),S&&!this.trackWrites&&(w=!0)}w||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&kH(this))?Ya(this,w):(I2(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&nH(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ke){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&pT(this,t.getBoundingClientRect(),e)}else pT(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new K2(e.slice,e.move,i<0?void 0:Ke.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=t?t(l):l))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(i=t?t(l):l))return i}}hasFocus(){if(Pi){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&rH(this.dom),Ya(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return lH(this,e)}coordsAtPos(e,t=1){return T2(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return fH(this,t||this.state,e)}pasteHTML(e,t){return Lg(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Lg(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(WH(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],TS(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,VW())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return VH(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?oi&&this.root.nodeType===11&&KW(this.dom.ownerDocument)==this.dom&&d6(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function zT(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Es.node(0,n.state.doc.content.size,e)]}function $T(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Es.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function WT(n){return!n.someProp("editable",e=>e(n.state)===!1)}function b6(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function HT(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function C6(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function VT(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var sc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kv={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_6=typeof navigator<"u"&&/Mac/.test(navigator.platform),k6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var br=0;br<10;br++)sc[48+br]=sc[96+br]=String(br);for(var br=1;br<=24;br++)sc[br+111]="F"+br;for(var br=65;br<=90;br++)sc[br]=String.fromCharCode(br+32),kv[br]=String.fromCharCode(br);for(var OS in sc)kv.hasOwnProperty(OS)||(kv[OS]=sc[OS]);function T6(n){var e=_6&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||k6&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?kv:sc)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const E6=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function O6(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))E6?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function M6(n){let e=Object.create(null);for(let t in n)e[O6(t)]=n[t];return e}function MS(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function A6(n){return new Ni({props:{handleKeyDown:eA(n)}})}function eA(n){let e=M6(n);return function(t,r){let i=T6(r),s,o=e[MS(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[MS(i,r,!1)];if(l&&l(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=sc[r.keyCode])&&s!=i){let l=e[MS(s,r)];if(l&&l(t.state,t.dispatch,t))return!0}}return!1}}const P6=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function tA(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const R6=(n,e,t)=>{let r=tA(n,t);if(!r)return!1;let i=aC(r);if(!i){let o=r.blockRange(),l=o&&df(o);return l==null?!1:(e&&e(n.tr.lift(o,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(sA(n,i,e,-1))return!0;if(r.parent.content.size==0&&(qd(s,"end")||Ke.isSelectable(s)))for(let o=r.depth;;o--){let l=v1(n.doc,r.before(o),r.after(o),Re.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=n.tr.step(l);u.setSelection(qd(s,"end")?ct.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):Ke.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},D6=(n,e,t)=>{let r=tA(n,t);if(!r)return!1;let i=aC(r);return i?nA(n,i,e):!1},I6=(n,e,t)=>{let r=rA(n,t);if(!r)return!1;let i=lC(r);return i?nA(n,i,e):!1};function nA(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let o=e.nodeAfter,l=o,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let p=l.firstChild;if(!p)return!1;l=p}let d=v1(n.doc,s,u,Re.empty);if(!d||d.from!=s||d instanceof nr&&d.slice.size>=u-s)return!1;if(t){let p=n.tr.step(d);p.setSelection(nt.create(p.doc,s)),t(p.scrollIntoView())}return!0}function qd(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const N6=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=aC(r)}let o=s&&s.nodeBefore;return!o||!Ke.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ke.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function aC(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function rA(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const L6=(n,e,t)=>{let r=rA(n,t);if(!r)return!1;let i=lC(r);if(!i)return!1;let s=i.nodeAfter;if(sA(n,i,e,1))return!0;if(r.parent.content.size==0&&(qd(s,"start")||Ke.isSelectable(s))){let o=v1(n.doc,r.before(),r.after(),Re.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=n.tr.step(o);l.setSelection(qd(s,"start")?ct.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Ke.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},F6=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=lC(r)}let o=s&&s.nodeAfter;return!o||!Ke.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ke.create(n.doc,s.pos)).scrollIntoView()),!0)};function lC(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const B6=(n,e)=>{let t=n.selection,r=t instanceof Ke,i;if(r){if(t.node.isTextblock||!lc(n.doc,t.from))return!1;i=t.from}else if(i=y1(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(Ke.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},j6=(n,e)=>{let t=n.selection,r;if(t instanceof Ke){if(t.node.isTextblock||!lc(n.doc,t.to))return!1;r=t.to}else if(r=y1(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},z6=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&df(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},$6=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function iA(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const W6=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=iA(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let l=t.after(),u=n.tr.replaceWith(l,l,o.createAndFill());u.setSelection(ct.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},H6=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof so||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=iA(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=n.tr.insert(o,s.createAndFill());l.setSelection(nt.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},V6=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(zd(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&df(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},U6=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(Ke.create(n.doc,i))),!0)};function G6(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||lc(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function sA(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,l,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&G6(n,e,t))return!0;let d=!u&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(o[0]||s.type).validEnd){if(t){let w=e.pos+s.nodeSize,S=be.empty;for(let E=o.length-1;E>=0;E--)S=be.from(o[E].create(null,S));S=be.from(i.copy(S));let C=n.tr.step(new rr(e.pos-1,w,e.pos,w,new Re(S,1,0),o.length,!0)),_=C.doc.resolve(w+2*o.length);_.nodeAfter&&_.nodeAfter.type==i.type&&lc(C.doc,_.pos)&&C.join(_.pos),t(C.scrollIntoView())}return!0}let p=s.type.spec.isolating||r>0&&u?null:ct.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),v=m&&df(m);if(v!=null&&v>=e.depth)return t&&t(n.tr.lift(m,v).scrollIntoView()),!0;if(d&&qd(s,"start",!0)&&qd(i,"end")){let w=i,S=[];for(;S.push(w),!w.isTextblock;)w=w.lastChild;let C=s,_=1;for(;!C.isTextblock;C=C.firstChild)_++;if(w.canReplace(w.childCount,w.childCount,C.content)){if(t){let E=be.empty;for(let M=S.length-1;M>=0;M--)E=be.from(S[M].copy(E));let P=n.tr.step(new rr(e.pos-S.length,e.pos+s.nodeSize,e.pos+_,e.pos+s.nodeSize-_,new Re(E,S.length,0),0,!0));t(P.scrollIntoView())}return!0}}return!1}function oA(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(nt.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const X6=oA(-1),Y6=oA(1);function K6(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),l=o&&Jb(o,n,e);return l?(r&&r(t.tr.wrap(o,l).scrollIntoView()),!0):!1}}function UT(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:l}}=t.selection.ranges[s];t.doc.nodesBetween(o,l,(u,d)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(n,e)))if(u.type==n)i=!0;else{let p=t.doc.resolve(d),m=p.index();i=p.parent.canReplaceWith(m,m+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:u}}=t.selection.ranges[o];s.setBlockType(l,u,n,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function q6(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s);if(!o)return!1;let l=r?t.tr:null;return J6(l,o,n,e)?(r&&r(l.scrollIntoView()),!0):!1}}function J6(n,e,t,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=o.resolve(e.start-2);s=new vv(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new vv(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=Jb(s,t,r,e);return l?(n&&Q6(n,e,l,i,t),!0):!1}function Q6(n,e,t,r,i){let s=be.empty;for(let p=t.length-1;p>=0;p--)s=be.from(t[p].type.create(t[p].attrs,s));n.step(new rr(e.start-(r?2:0),e.end,e.start,e.end,new Re(s,0,0),t.length,!0));let o=0;for(let p=0;p<t.length;p++)t[p].type==i&&(o=p+1);let l=t.length-o,u=e.start+t.length-(r?2:0),d=e.parent;for(let p=e.startIndex,m=e.endIndex,v=!0;p<m;p++,v=!1)!v&&zd(n.doc,u,l)&&(n.split(u,l),u+=2*l),u+=d.child(p).nodeSize;return n}function Z6(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?eV(e,t,n,s):tV(e,t,s):!0:!1}}function eV(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new rr(s-1,o,s,o,new Re(be.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new vv(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const l=df(r);if(l==null)return!1;i.lift(r,l);let u=i.mapping.map(s,-1)-1;return lc(i.doc,u)&&i.join(u),e(i.scrollIntoView()),!0}function tV(n,e,t){let r=n.tr,i=t.parent;for(let w=t.end,S=t.endIndex-1,C=t.startIndex;S>C;S--)w-=i.child(S).nodeSize,r.delete(w-1,w+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let l=t.startIndex==0,u=t.endIndex==i.childCount,d=s.node(-1),p=s.index(-1);if(!d.canReplace(p+(l?0:1),p+1,o.content.append(u?be.empty:be.from(i))))return!1;let m=s.pos,v=m+o.nodeSize;return r.step(new rr(m-(l?1:0),v+(u?1:0),m+1,v-1,new Re((l?be.empty:be.from(i.copy(be.empty))).append(u?be.empty:be.from(i.copy(be.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function nV(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,u=l.child(o-1);if(u.type!=n)return!1;if(t){let d=u.lastChild&&u.lastChild.type==l.type,p=be.from(d?n.create():null),m=new Re(be.from(n.create(null,be.from(l.type.create(null,p)))),d?3:1,0),v=s.start,w=s.end;t(e.tr.step(new rr(v-(d?3:1),w,v,w,m,1,!0)).scrollIntoView())}return!0}}function C1(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class _1{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...p)=>{const m=u(...p)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l=[],u=!!e,d=e||s.tr,p=()=>(!u&&t&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),l.every(v=>v===!0)),m={...Object.fromEntries(Object.entries(r).map(([v,w])=>[v,(...C)=>{const _=this.buildProps(d,t),E=w(...C)(_);return l.push(E),m}])),run:p};return m}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([u,d])=>[u,(...p)=>d(...p)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l={tr:e,editor:i,view:o,state:C1({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,d])=>[u,(...p)=>d(...p)(l)]))}};return l}}class rV{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Be(n,e,t){return n.config[e]===void 0&&n.parent?Be(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Be(n.parent,e,t):null}):n.config[e]}function k1(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function aA(n){const e=[],{nodeExtensions:t,markExtensions:r}=k1(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:i},u=Be(o,"addGlobalAttributes",l);if(!u)return;u().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([v,w])=>{e.push({type:m,name:v,attribute:{...s,...w}})})})})}),i.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},u=Be(o,"addAttributes",l);if(!u)return;const d=u();Object.entries(d).forEach(([p,m])=>{const v={...s,...m};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:o.name,name:p,attribute:v})})}),e}function sr(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function Vn(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?s.split(" "):[],u=r[i]?r[i].split(" "):[],d=l.filter(p=>!u.includes(p));r[i]=[...u,...d].join(" ")}else if(i==="style"){const l=s?s.split(";").map(p=>p.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],d=new Map;u.forEach(p=>{const[m,v]=p.split(":").map(w=>w.trim());d.set(m,v)}),l.forEach(p=>{const[m,v]=p.split(":").map(w=>w.trim());d.set(m,v)}),r[i]=Array.from(d.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[i]=s}),r},{})}function $w(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Vn(t,r),{})}function lA(n){return typeof n=="function"}function dt(n,e=void 0,...t){return lA(n)?e?n.bind(e)(...t):n(...t):n}function iV(n={}){return Object.keys(n).length===0&&n.constructor===Object}function sV(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function GT(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(t):sV(t.getAttribute(o.name));return l==null?s:{...s,[o.name]:l}},{});return{...r,...i}}}}function XT(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&iV(t)?!1:t!=null))}function oV(n,e){var t;const r=aA(n),{nodeExtensions:i,markExtensions:s}=k1(n),o=(t=i.find(d=>Be(d,"topNode")))===null||t===void 0?void 0:t.name,l=Object.fromEntries(i.map(d=>{const p=r.filter(E=>E.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},v=n.reduce((E,P)=>{const M=Be(P,"extendNodeSchema",m);return{...E,...M?M(d):{}}},{}),w=XT({...v,content:dt(Be(d,"content",m)),marks:dt(Be(d,"marks",m)),group:dt(Be(d,"group",m)),inline:dt(Be(d,"inline",m)),atom:dt(Be(d,"atom",m)),selectable:dt(Be(d,"selectable",m)),draggable:dt(Be(d,"draggable",m)),code:dt(Be(d,"code",m)),whitespace:dt(Be(d,"whitespace",m)),linebreakReplacement:dt(Be(d,"linebreakReplacement",m)),defining:dt(Be(d,"defining",m)),isolating:dt(Be(d,"isolating",m)),attrs:Object.fromEntries(p.map(E=>{var P;return[E.name,{default:(P=E==null?void 0:E.attribute)===null||P===void 0?void 0:P.default}]}))}),S=dt(Be(d,"parseHTML",m));S&&(w.parseDOM=S.map(E=>GT(E,p)));const C=Be(d,"renderHTML",m);C&&(w.toDOM=E=>C({node:E,HTMLAttributes:$w(E,p)}));const _=Be(d,"renderText",m);return _&&(w.toText=_),[d.name,w]})),u=Object.fromEntries(s.map(d=>{const p=r.filter(_=>_.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},v=n.reduce((_,E)=>{const P=Be(E,"extendMarkSchema",m);return{..._,...P?P(d):{}}},{}),w=XT({...v,inclusive:dt(Be(d,"inclusive",m)),excludes:dt(Be(d,"excludes",m)),group:dt(Be(d,"group",m)),spanning:dt(Be(d,"spanning",m)),code:dt(Be(d,"code",m)),attrs:Object.fromEntries(p.map(_=>{var E;return[_.name,{default:(E=_==null?void 0:_.attribute)===null||E===void 0?void 0:E.default}]}))}),S=dt(Be(d,"parseHTML",m));S&&(w.parseDOM=S.map(_=>GT(_,p)));const C=Be(d,"renderHTML",m);return C&&(w.toDOM=_=>C({mark:_,HTMLAttributes:$w(_,p)})),[d.name,w]}));return new n2({topNode:o,nodes:l,marks:u})}function AS(n,e){return e.nodes[n]||e.marks[n]||null}function YT(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function cC(n,e){const t=zu.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const aV=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,l)=>{var u,d;const p=((d=(u=i.type.spec).toText)===null||d===void 0?void 0:d.call(u,{node:i,pos:s,parent:o,index:l}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-s))}),t};function uC(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class T1{constructor(e){this.find=e.find,this.handler=e.handler}}const lV=(n,e)=>{if(uC(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function by(n){var e;const{editor:t,from:r,to:i,text:s,rules:o,plugin:l}=n,{view:u}=t;if(u.composing)return!1;const d=u.state.doc.resolve(r);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const m=aV(d)+s;return o.forEach(v=>{if(p)return;const w=lV(m,v.find);if(!w)return;const S=u.state.tr,C=C1({state:u.state,transaction:S}),_={from:r-(w[0].length-s.length),to:i},{commands:E,chain:P,can:M}=new _1({editor:t,state:C});v.handler({state:C,range:_,match:w,commands:E,chain:P,can:M})===null||!S.steps.length||(S.setMeta(l,{transform:S,from:r,to:i,text:s}),u.dispatch(S),p=!0)}),p}function cV(n){const{editor:e,rules:t}=n,r=new Ni({state:{init(){return null},apply(i,s,o){const l=i.getMeta(r);if(l)return l;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:p}=u;typeof p=="string"?p=p:p=cC(be.from(p),o.schema);const{from:m}=u,v=m+p.length;by({editor:e,from:m,to:v,text:p,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,l){return by({editor:e,from:s,to:o,text:l,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&by({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?by({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function uV(n){return Object.prototype.toString.call(n).slice(8,-1)}function Cy(n){return uV(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function E1(n,e){const t={...n};return Cy(n)&&Cy(e)&&Object.keys(e).forEach(r=>{Cy(e[r])&&Cy(n[r])?t[r]=E1(n[r],e[r]):t[r]=e[r]}),t}class Zo{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=dt(Be(this,"addOptions",{name:this.name}))),this.storage=dt(Be(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Zo(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>E1(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Zo(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=dt(Be(t,"addOptions",{name:t.name})),t.storage=dt(Be(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(d=>(d==null?void 0:d.type.name)===t.name))return!1;const u=o.find(d=>(d==null?void 0:d.type.name)===t.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function hV(n){return typeof n=="number"}class dV{constructor(e){this.find=e.find,this.handler=e.handler}}const fV=(n,e,t)=>{if(uC(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function pV(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:o,dropEvent:l}=n,{commands:u,chain:d,can:p}=new _1({editor:e,state:t}),m=[];return t.doc.nodesBetween(r,i,(w,S)=>{if(!w.isTextblock||w.type.spec.code)return;const C=Math.max(r,S),_=Math.min(i,S+w.content.size),E=w.textBetween(C-S,_-S,void 0,"￼");fV(E,s.find,o).forEach(M=>{if(M.index===void 0)return;const F=C+M.index+1,L=F+M[0].length,j={from:t.tr.mapping.map(F),to:t.tr.mapping.map(L)},$=s.handler({state:t,range:j,match:M,commands:u,chain:d,can:p,pasteEvent:o,dropEvent:l});m.push($)})}),m.every(w=>w!==null)}const gV=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function mV(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const u=({state:p,from:m,to:v,rule:w,pasteEvt:S})=>{const C=p.tr,_=C1({state:p,transaction:C});if(!(!pV({editor:e,state:_,from:Math.max(m-1,0),to:v.b-1,rule:w,pasteEvent:S,dropEvent:l})||!C.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,C}};return t.map(p=>new Ni({view(m){const v=w=>{var S;r=!((S=m.dom.parentElement)===null||S===void 0)&&S.contains(w.target)?m.dom.parentElement:null};return window.addEventListener("dragstart",v),{destroy(){window.removeEventListener("dragstart",v)}}},props:{handleDOMEvents:{drop:(m,v)=>(s=r===m.dom.parentElement,l=v,!1),paste:(m,v)=>{var w;const S=(w=v.clipboardData)===null||w===void 0?void 0:w.getData("text/html");return o=v,i=!!(S!=null&&S.includes("data-pm-slice")),!1}}},appendTransaction:(m,v,w)=>{const S=m[0],C=S.getMeta("uiEvent")==="paste"&&!i,_=S.getMeta("uiEvent")==="drop"&&!s,E=S.getMeta("applyPasteRules"),P=!!E;if(!C&&!_&&!P)return;if(P){let{text:L}=E;typeof L=="string"?L=L:L=cC(be.from(L),w.schema);const{from:j}=E,$=j+L.length,W=gV(L);return u({rule:p,state:w,from:j,to:{b:$},pasteEvt:W})}const M=v.doc.content.findDiffStart(w.doc.content),F=v.doc.content.findDiffEnd(w.doc.content);if(!(!hV(M)||!F||M===F.b))return u({rule:p,state:w,from:M,to:F,pasteEvt:o})}}))}function yV(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Dd{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Dd.resolve(e),this.schema=oV(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Dd.sort(Dd.flatten(e)),r=yV(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=Be(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=Be(r,"priority")||100,o=Be(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:AS(t.name,this.schema)},i=Be(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Dd.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:AS(o.name,this.schema)},u=[],d=Be(o,"addKeyboardShortcuts",l);let p={};if(o.type==="mark"&&Be(o,"exitable",l)&&(p.ArrowRight=()=>Zo.handleExit({editor:e,mark:o})),d){const C=Object.fromEntries(Object.entries(d()).map(([_,E])=>[_,()=>E({editor:e})]));p={...p,...C}}const m=A6(p);u.push(m);const v=Be(o,"addInputRules",l);YT(o,e.options.enableInputRules)&&v&&r.push(...v());const w=Be(o,"addPasteRules",l);YT(o,e.options.enablePasteRules)&&w&&i.push(...w());const S=Be(o,"addProseMirrorPlugins",l);if(S){const C=S();u.push(...C)}return u}).flat();return[cV({editor:e,rules:r}),...mV({editor:e,rules:i}),...s]}get attributes(){return aA(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=k1(this.extensions);return Object.fromEntries(t.filter(r=>!!Be(r,"addNodeView")).map(r=>{const i=this.attributes.filter(u=>u.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:sr(r.name,this.schema)},o=Be(r,"addNodeView",s);if(!o)return[];const l=(u,d,p,m,v)=>{const w=$w(u,i);return o()({node:u,view:d,getPos:p,decorations:m,innerDecorations:v,editor:e,extension:r,HTMLAttributes:w})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:AS(e.name,this.schema)};e.type==="mark"&&(!((t=dt(Be(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=Be(e,"onBeforeCreate",r),s=Be(e,"onCreate",r),o=Be(e,"onUpdate",r),l=Be(e,"onSelectionUpdate",r),u=Be(e,"onTransaction",r),d=Be(e,"onFocus",r),p=Be(e,"onBlur",r),m=Be(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),u&&this.editor.on("transaction",u),d&&this.editor.on("focus",d),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}}class _r{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=dt(Be(this,"addOptions",{name:this.name}))),this.storage=dt(Be(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _r(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>E1(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new _r({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=dt(Be(t,"addOptions",{name:t.name})),t.storage=dt(Be(t,"addStorage",{name:t.name,options:t.options})),t}}function cA(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let l="";return n.nodesBetween(r,i,(u,d,p,m)=>{var v;u.isBlock&&d>r&&(l+=s);const w=o==null?void 0:o[u.type.name];if(w)return p&&(l+=w({node:u,pos:d,parent:p,index:m,range:e})),!1;u.isText&&(l+=(v=u==null?void 0:u.text)===null||v===void 0?void 0:v.slice(Math.max(r,d)-d,i-d))}),l}function uA(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const vV=_r.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ni({key:new ra("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(p=>p.$from.pos)),l=Math.max(...s.map(p=>p.$to.pos)),u=uA(t);return cA(r,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),xV=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),SV=(n=!1)=>({commands:e})=>e.setContent("",n),wV=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(l,u)=>{if(l.type.isText)return;const{doc:d,mapping:p}=e,m=d.resolve(p.map(u)),v=d.resolve(p.map(u+l.nodeSize)),w=m.blockRange(v);if(!w)return;const S=df(w);if(l.type.isTextblock){const{defaultType:C}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(w.start,C)}(S||S===0)&&e.lift(w,S)})}),!0},bV=n=>e=>n(e),CV=()=>({state:n,dispatch:e})=>H6(n,e),_V=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new nt(r.doc.resolve(o-1))),!0},kV=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),u=i.after(s);n.delete(l,u).scrollIntoView()}return!0}return!1},TV=n=>({tr:e,state:t,dispatch:r})=>{const i=sr(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const u=s.before(o),d=s.after(o);e.delete(u,d).scrollIntoView()}return!0}return!1},EV=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},OV=()=>({state:n,dispatch:e})=>P6(n,e),MV=()=>({commands:n})=>n.keyboardShortcut("Enter"),AV=()=>({state:n,dispatch:e})=>W6(n,e);function Tv(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:uC(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function hA(n,e,t={}){return n.find(r=>r.type===e&&Tv(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function KT(n,e,t={}){return!!hA(n,e,t)}function hC(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!hA([...i.node.marks],e,t)))return;let o=i.index,l=n.start()+i.offset,u=o+1,d=l+i.node.nodeSize;for(;o>0&&KT([...n.parent.child(o-1).marks],e,t);)o-=1,l-=n.parent.child(o).nodeSize;for(;u<n.parent.childCount&&KT([...n.parent.child(u).marks],e,t);)d+=n.parent.child(u).nodeSize,u+=1;return{from:l,to:d}}function uc(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const PV=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=uc(n,r.schema),{doc:o,selection:l}=t,{$from:u,from:d,to:p}=l;if(i){const m=hC(u,s,e);if(m&&m.from<=d&&m.to>=p){const v=nt.create(o,m.from,m.to);t.setSelection(v)}}return!0},RV=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function dA(n){return n instanceof nt}function wu(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function fA(n,e=null){if(!e)return null;const t=ct.atStart(n),r=ct.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?nt.create(n,wu(0,i,s),wu(n.content.size,i,s)):nt.create(n,wu(e,i,s),wu(e,i,s))}function dC(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const DV=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{dC()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!dA(t.state.selection))return o(),!0;const l=fA(i.doc,n)||t.state.selection,u=t.state.selection.eq(l);return s&&(u||i.setSelection(l),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},IV=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),NV=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),pA=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&pA(r)}return n};function _y(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return pA(t)}function Ev(n,e,t){if(n instanceof ql||n instanceof be)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return be.fromArray(n.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),Ev("",e,t)}if(i){if(t.errorOnInvalidContent){let o=!1,l="";const u=new n2({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(t.slice?Jl.fromSchema(u).parseSlice(_y(n),t.parseOptions):Jl.fromSchema(u).parse(_y(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Jl.fromSchema(e);return t.slice?s.parseSlice(_y(n),t.parseOptions).content:s.parse(_y(n),t.parseOptions)}return Ev("",e,t)}function LV(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof nr||i instanceof rr))return;const s=n.mapping.maps[r];let o=0;s.forEach((l,u,d,p)=>{o===0&&(o=p)}),n.setSelection(ct.near(n.doc.resolve(o),t))}const FV=n=>!("type"in n),BV=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let l;try{l=Ev(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(S){return s.emit("contentError",{editor:s,error:S,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:u,to:d}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},p=!0,m=!0;if((FV(l)?l:[l]).forEach(S=>{S.check(),p=p?S.isText&&S.marks.length===0:!1,m=m?S.isBlock:!1}),u===d&&m){const{parent:S}=r.doc.resolve(u);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(u-=1,d+=1)}let w;if(p){if(Array.isArray(e))w=e.map(S=>S.text||"").join("");else if(e instanceof be){let S="";e.forEach(C=>{C.text&&(S+=C.text)}),w=S}else typeof e=="object"&&e&&e.text?w=e.text:w=e;r.insertText(w,u,d)}else w=l,r.replaceWith(u,d,w);t.updateSelection&&LV(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:w}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:w})}return!0},jV=()=>({state:n,dispatch:e})=>B6(n,e),zV=()=>({state:n,dispatch:e})=>j6(n,e),$V=()=>({state:n,dispatch:e})=>R6(n,e),WV=()=>({state:n,dispatch:e})=>L6(n,e),HV=()=>({state:n,dispatch:e,tr:t})=>{try{const r=y1(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},VV=()=>({state:n,dispatch:e,tr:t})=>{try{const r=y1(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},UV=()=>({state:n,dispatch:e})=>D6(n,e),GV=()=>({state:n,dispatch:e})=>I6(n,e);function gA(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function XV(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,o;for(let l=0;l<e.length-1;l+=1){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))dC()||gA()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const YV=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=XV(n).split(/-(?!$)/),o=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{t.someProp("handleKeyDown",d=>d(t,l))});return u==null||u.steps.forEach(d=>{const p=d.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function Bg(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,o=e?sr(e,n.schema):null,l=[];n.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const w=Math.max(r,v),S=Math.min(i,v+m.nodeSize);l.push({node:m,from:w,to:S})});const u=i-r,d=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>Tv(m.node.attrs,t,{strict:!1}));return s?!!d.length:d.reduce((m,v)=>m+v.to-v.from,0)>=u}const KV=(n,e={})=>({state:t,dispatch:r})=>{const i=sr(n,t.schema);return Bg(t,i,e)?z6(t,r):!1},qV=()=>({state:n,dispatch:e})=>V6(n,e),JV=n=>({state:e,dispatch:t})=>{const r=sr(n,e.schema);return Z6(r)(e,t)},QV=()=>({state:n,dispatch:e})=>$6(n,e);function O1(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function qT(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const ZV=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const l=O1(typeof n=="string"?n:n.name,r.schema);return l?(l==="node"&&(s=sr(n,r.schema)),l==="mark"&&(o=uc(n,r.schema)),i&&t.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(d,p)=>{s&&s===d.type&&t.setNodeMarkup(p,void 0,qT(d.attrs,e)),o&&d.marks.length&&d.marks.forEach(m=>{o===m.type&&t.addMark(p,p+d.nodeSize,o.create(qT(m.attrs,e)))})})}),!0):!1},e8=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),t8=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),n8=()=>({state:n,dispatch:e})=>N6(n,e),r8=()=>({state:n,dispatch:e})=>F6(n,e),i8=()=>({state:n,dispatch:e})=>U6(n,e),s8=()=>({state:n,dispatch:e})=>Y6(n,e),o8=()=>({state:n,dispatch:e})=>X6(n,e);function Ww(n,e,t={},r={}){return Ev(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const a8=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:o,commands:l})=>{var u,d;const{doc:p}=s;if(t.preserveWhitespace!=="full"){const m=Ww(n,i.schema,t,{errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck});return o&&s.replaceWith(0,p.content.size,m).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:p.content.size},n,{parseOptions:t,errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:i.options.enableContentCheck})};function fC(n,e){const t=uc(e,n.schema),{from:r,to:i,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,u=>{o.push(...u.marks)});const l=o.find(u=>u.type.name===t.name);return l?{...l.attrs}:{}}function l8(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function c8(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function pC(n){return e=>c8(e.$from,n)}function u8(n,e){const t={from:0,to:n.content.size};return cA(n,t,e)}function h8(n,e){const t=sr(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,l=>{s.push(l)});const o=s.reverse().find(l=>l.type.name===t.name);return o?{...o.attrs}:{}}function d8(n,e){const t=O1(typeof e=="string"?e:e.name,n.schema);return t==="node"?h8(n,e):t==="mark"?fC(n,e):{}}function mA(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),o=hC(s,i.type);o&&r.push({mark:i,...o})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function Hy(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function Hw(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?uc(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>Tv(m.attrs,t,{strict:!1}));let o=0;const l=[];if(i.forEach(({$from:m,$to:v})=>{const w=m.pos,S=v.pos;n.doc.nodesBetween(w,S,(C,_)=>{if(!C.isText&&!C.marks.length)return;const E=Math.max(w,_),P=Math.min(S,_+C.nodeSize),M=P-E;o+=M,l.push(...C.marks.map(F=>({mark:F,from:E,to:P})))})}),o===0)return!1;const u=l.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>Tv(m.mark.attrs,t,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),d=l.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,v)=>m+v.to-v.from,0);return(u>0?u+d:u)>=o}function f8(n,e,t={}){if(!e)return Bg(n,null,t)||Hw(n,null,t);const r=O1(e,n.schema);return r==="node"?Bg(n,e,t):r==="mark"?Hw(n,e,t):!1}function JT(n,e){const{nodeExtensions:t}=k1(e),r=t.find(o=>o.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=dt(Be(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function gC(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(gC(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function p8(n){return n instanceof Ke}function g8(n,e,t){var r;const{selection:i}=e;let s=null;if(dA(i)&&(s=i.$cursor),s){const l=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(l)||!l.some(u=>u.type.excludes(t))}const{ranges:o}=i;return o.some(({$from:l,$to:u})=>{let d=l.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(l.pos,u.pos,(p,m,v)=>{if(d)return!1;if(p.isInline){const w=!v||v.type.allowsMarkType(t),S=!!t.isInSet(p.marks)||!p.marks.some(C=>C.type.excludes(t));d=w&&S}return!d}),d})}const m8=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:o,ranges:l}=s,u=uc(n,r.schema);if(i)if(o){const d=fC(r,u);t.addStoredMark(u.create({...d,...e}))}else l.forEach(d=>{const p=d.$from.pos,m=d.$to.pos;r.doc.nodesBetween(p,m,(v,w)=>{const S=Math.max(w,p),C=Math.min(w+v.nodeSize,m);v.marks.find(E=>E.type===u)?v.marks.forEach(E=>{u===E.type&&t.addMark(S,C,u.create({...E.attrs,...e}))}):t.addMark(S,C,u.create(e))})});return g8(r,t,u)},y8=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),v8=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=sr(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>UT(s,{...o,...e})(t)?!0:l.clearNodes()).command(({state:l})=>UT(s,{...o,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},x8=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=wu(n,0,r.content.size),s=Ke.create(r,i);e.setSelection(s)}return!0},S8=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,o=nt.atStart(r).from,l=nt.atEnd(r).to,u=wu(i,o,l),d=wu(s,o,l),p=nt.create(r,u,d);e.setSelection(p)}return!0},w8=n=>({state:e,dispatch:t})=>{const r=sr(n,e.schema);return nV(r)(e,t)};function QT(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const b8=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:l,$to:u}=s,d=i.extensionManager.attributes,p=Hy(d,l.node().type.name,l.node().attrs);if(s instanceof Ke&&s.node.isBlock)return!l.parentOffset||!zd(o,l.pos)?!1:(r&&(n&&QT(t,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=u.parentOffset===u.parent.content.size,v=l.depth===0?void 0:l8(l.node(-1).contentMatchAt(l.indexAfter(-1)));let w=m&&v?[{type:v,attrs:p}]:void 0,S=zd(e.doc,e.mapping.map(l.pos),1,w);if(!w&&!S&&zd(e.doc,e.mapping.map(l.pos),1,v?[{type:v}]:void 0)&&(S=!0,w=v?[{type:v,attrs:p}]:void 0),r){if(S&&(s instanceof nt&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,w),v&&!m&&!l.parentOffset&&l.parent.type!==v)){const C=e.mapping.map(l.before()),_=e.doc.resolve(C);l.node(-1).canReplaceWith(_.index(),_.index()+1,v)&&e.setNodeMarkup(e.mapping.map(l.before()),v)}n&&QT(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return S},C8=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var o;const l=sr(n,r.schema),{$from:u,$to:d}=r.selection,p=r.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(d))return!1;const m=u.node(-1);if(m.type!==l)return!1;const v=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let E=be.empty;const P=u.index(-1)?1:u.index(-2)?2:3;for(let W=u.depth-P;W>=u.depth-3;W-=1)E=be.from(u.node(W).copy(E));const M=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,F={...Hy(v,u.node().type.name,u.node().attrs),...e},L=((o=l.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(F))||void 0;E=E.append(be.from(l.createAndFill(null,L)||void 0));const j=u.before(u.depth-(P-1));t.replace(j,u.after(-M),new Re(E,4-P,0));let $=-1;t.doc.nodesBetween(j,t.doc.content.size,(W,q)=>{if($>-1)return!1;W.isTextblock&&W.content.size===0&&($=q+1)}),$>-1&&t.setSelection(nt.near(t.doc.resolve($))),t.scrollIntoView()}return!0}const w=d.pos===u.end()?m.contentMatchAt(0).defaultType:null,S={...Hy(v,m.type.name,m.attrs),...e},C={...Hy(v,u.node().type.name,u.node().attrs),...e};t.delete(u.pos,d.pos);const _=w?[{type:l,attrs:S},{type:w,attrs:C}]:[{type:l,attrs:S}];if(!zd(t.doc,u.pos,2))return!1;if(i){const{selection:E,storedMarks:P}=r,{splittableMarks:M}=s.extensionManager,F=P||E.$to.parentOffset&&E.$from.marks();if(t.split(u.pos,2,_).scrollIntoView(),!F||!i)return!0;const L=F.filter(j=>M.includes(j.type.name));t.ensureMarks(L)}return!0},PS=(n,e)=>{const t=pC(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&lc(n.doc,t.pos)&&n.join(t.pos),!0},RS=(n,e)=>{const t=pC(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&lc(n.doc,r)&&n.join(r),!0},_8=(n,e,t,r={})=>({editor:i,tr:s,state:o,dispatch:l,chain:u,commands:d,can:p})=>{const{extensions:m,splittableMarks:v}=i.extensionManager,w=sr(n,o.schema),S=sr(e,o.schema),{selection:C,storedMarks:_}=o,{$from:E,$to:P}=C,M=E.blockRange(P),F=_||C.$to.parentOffset&&C.$from.marks();if(!M)return!1;const L=pC(j=>JT(j.type.name,m))(C);if(M.depth>=1&&L&&M.depth-L.depth<=1){if(L.node.type===w)return d.liftListItem(S);if(JT(L.node.type.name,m)&&w.validContent(L.node.content)&&l)return u().command(()=>(s.setNodeMarkup(L.pos,w),!0)).command(()=>PS(s,w)).command(()=>RS(s,w)).run()}return!t||!F||!l?u().command(()=>p().wrapInList(w,r)?!0:d.clearNodes()).wrapInList(w,r).command(()=>PS(s,w)).command(()=>RS(s,w)).run():u().command(()=>{const j=p().wrapInList(w,r),$=F.filter(W=>v.includes(W.type.name));return s.ensureMarks($),j?!0:d.clearNodes()}).wrapInList(w,r).command(()=>PS(s,w)).command(()=>RS(s,w)).run()},k8=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,o=uc(n,r.schema);return Hw(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},T8=(n,e,t={})=>({state:r,commands:i})=>{const s=sr(n,r.schema),o=sr(e,r.schema),l=Bg(r,s,t);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),l?i.setNode(o,u):i.setNode(s,{...u,...t})},E8=(n,e={})=>({state:t,commands:r})=>{const i=sr(n,t.schema);return Bg(t,i,e)?r.lift(i):r.wrapIn(i,e)},O8=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const o=n.tr,l=s.transform;for(let u=l.steps.length-1;u>=0;u-=1)o.step(l.steps[u].invert(l.docs[u]));if(s.text){const u=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,u))}else o.delete(s.from,s.to)}return!0}}return!1},M8=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},A8=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=t,u=uc(n,r.schema),{$from:d,empty:p,ranges:m}=l;if(!i)return!0;if(p&&o){let{from:v,to:w}=l;const S=(s=d.marks().find(_=>_.type===u))===null||s===void 0?void 0:s.attrs,C=hC(d,u,S);C&&(v=C.from,w=C.to),t.removeMark(v,w,u)}else m.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,u)});return t.removeStoredMark(u),!0},P8=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const l=O1(typeof n=="string"?n:n.name,r.schema);return l?(l==="node"&&(s=sr(n,r.schema)),l==="mark"&&(o=uc(n,r.schema)),i&&t.selection.ranges.forEach(u=>{const d=u.$from.pos,p=u.$to.pos;let m,v,w,S;t.selection.empty?r.doc.nodesBetween(d,p,(C,_)=>{s&&s===C.type&&(w=Math.max(_,d),S=Math.min(_+C.nodeSize,p),m=_,v=C)}):r.doc.nodesBetween(d,p,(C,_)=>{_<d&&s&&s===C.type&&(w=Math.max(_,d),S=Math.min(_+C.nodeSize,p),m=_,v=C),_>=d&&_<=p&&(s&&s===C.type&&t.setNodeMarkup(_,void 0,{...C.attrs,...e}),o&&C.marks.length&&C.marks.forEach(E=>{if(o===E.type){const P=Math.max(_,d),M=Math.min(_+C.nodeSize,p);t.addMark(P,M,o.create({...E.attrs,...e}))}}))}),v&&(m!==void 0&&t.setNodeMarkup(m,void 0,{...v.attrs,...e}),o&&v.marks.length&&v.marks.forEach(C=>{o===C.type&&t.addMark(w,S,o.create({...C.attrs,...e}))}))}),!0):!1},R8=(n,e={})=>({state:t,dispatch:r})=>{const i=sr(n,t.schema);return K6(i,e)(t,r)},D8=(n,e={})=>({state:t,dispatch:r})=>{const i=sr(n,t.schema);return q6(i,e)(t,r)};var I8=Object.freeze({__proto__:null,blur:xV,clearContent:SV,clearNodes:wV,command:bV,createParagraphNear:CV,cut:_V,deleteCurrentNode:kV,deleteNode:TV,deleteRange:EV,deleteSelection:OV,enter:MV,exitCode:AV,extendMarkRange:PV,first:RV,focus:DV,forEach:IV,insertContent:NV,insertContentAt:BV,joinBackward:$V,joinDown:zV,joinForward:WV,joinItemBackward:HV,joinItemForward:VV,joinTextblockBackward:UV,joinTextblockForward:GV,joinUp:jV,keyboardShortcut:YV,lift:KV,liftEmptyBlock:qV,liftListItem:JV,newlineInCode:QV,resetAttributes:ZV,scrollIntoView:e8,selectAll:t8,selectNodeBackward:n8,selectNodeForward:r8,selectParentNode:i8,selectTextblockEnd:s8,selectTextblockStart:o8,setContent:a8,setMark:m8,setMeta:y8,setNode:v8,setNodeSelection:x8,setTextSelection:S8,sinkListItem:w8,splitBlock:b8,splitListItem:C8,toggleList:_8,toggleMark:k8,toggleNode:T8,toggleWrap:E8,undoInputRule:O8,unsetAllMarks:M8,unsetMark:A8,updateAttributes:P8,wrapIn:R8,wrapInList:D8});const N8=_r.create({name:"commands",addCommands(){return{...I8}}}),L8=_r.create({name:"drop",addProseMirrorPlugins(){return[new Ni({key:new ra("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),F8=_r.create({name:"editable",addProseMirrorPlugins(){return[new Ni({key:new ra("editable"),props:{editable:()=>this.editor.options.editable}})]}}),B8=_r.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Ni({key:new ra("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),j8=_r.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:u,doc:d}=l,{empty:p,$anchor:m}=u,{pos:v,parent:w}=m,S=m.parent.isTextblock&&v>0?l.doc.resolve(v-1):m,C=S.parent.type.spec.isolating,_=m.pos-m.parentOffset,E=C&&S.parent.childCount===1?_===m.pos:ct.atStart(d).from===v;return!p||!w.type.isTextblock||w.textContent.length||!E||E&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return dC()||gA()?s:i},addProseMirrorPlugins(){return[new Ni({key:new ra("clearDocument"),appendTransaction:(n,e,t)=>{const r=n.some(C=>C.docChanged)&&!e.doc.eq(t.doc),i=n.some(C=>C.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:l}=e.selection,u=ct.atStart(e.doc).from,d=ct.atEnd(e.doc).to;if(s||!(o===u&&l===d)||!gC(t.doc))return;const v=t.tr,w=C1({state:t,transaction:v}),{commands:S}=new _1({editor:this.editor,state:w});if(S.clearNodes(),!!v.steps.length)return v}})]}}),z8=_r.create({name:"paste",addProseMirrorPlugins(){return[new Ni({key:new ra("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),$8=_r.create({name:"tabindex",addProseMirrorPlugins(){return[new Ni({key:new ra("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class pu{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new pu(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new pu(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new pu(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+r+(s?0:1),l=this.resolvedPos.doc.resolve(o);if(!i&&l.depth<=this.depth)return;const u=new pu(l,this.editor,i,i?t:null);i&&(u.actualDepth=this.depth+1),e.push(new pu(l,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,o=Object.keys(t);for(let l=0;l<o.length;l+=1){const u=o[l];if(s[u]!==t[u])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(u=>t[u]===o.node.attrs[u])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const W8=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function H8(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class V8 extends rV{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=H8(W8,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=lA(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=t.filter(l=>!l.key.startsWith(o))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[F8,vV.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),N8,B8,j8,$8,L8,z8].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Dd(i,this)}createCommandManager(){this.commandManager=new _1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Ww(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),t=Ww(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=fA(t,this.options.autofocus);this.view=new w6(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Rd.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return d8(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return f8(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return cC(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return u8(this.state.doc,{blockSeparator:t,textSerializers:{...uA(this.schema),...r}})}get isEmpty(){return gC(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new pu(t,this)}get $doc(){return this.$pos(0)}}function Fu(n){return new T1({find:n.find,handler:({state:e,range:t,match:r})=>{const i=dt(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],l=r[0];if(o){const u=l.search(/\S/),d=t.from+l.indexOf(o),p=d+o.length;if(mA(t.from,t.to,e.doc).filter(w=>w.mark.type.excluded.find(C=>C===n.type&&C!==w.mark.type)).filter(w=>w.to>d).length)return null;p<t.to&&s.delete(p,t.to),d>t.from&&s.delete(t.from+u,d);const v=t.from+u+o.length;s.addMark(t.from+u,v,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function yA(n){return new T1({find:n.find,handler:({state:e,range:t,match:r})=>{const i=dt(n.getAttributes,void 0,r)||{},{tr:s}=e,o=t.from;let l=t.to;const u=n.type.create(i);if(r[1]){const d=r[0].lastIndexOf(r[1]);let p=o+d;p>l?p=l:l=p+r[1].length;const m=r[0][r[0].length-1];s.insertText(m,o+r[0].length-1),s.replaceWith(p,l,u)}else if(r[0]){const d=n.type.isInline?o:o-1;s.insert(d,n.type.create(i)).delete(s.mapping.map(o),s.mapping.map(l))}s.scrollIntoView()}})}function Vw(n){return new T1({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=dt(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function jg(n){return new T1({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=dt(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),u=o.doc.resolve(t.from).blockRange(),d=u&&Jb(u,n.type,s);if(!d)return null;if(o.wrap(u,d),n.keepMarks&&n.editor){const{selection:m,storedMarks:v}=e,{splittableMarks:w}=n.editor.extensionManager,S=v||m.$to.parentOffset&&m.$from.marks();if(S){const C=S.filter(_=>w.includes(_.type.name));o.ensureMarks(C)}}if(n.keepAttributes){const m=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,s).run()}const p=o.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&lc(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&o.join(t.from-1)}})}class Hr{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=dt(Be(this,"addOptions",{name:this.name}))),this.storage=dt(Be(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Hr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>E1(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Hr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=dt(Be(t,"addOptions",{name:t.name})),t.storage=dt(Be(t,"addStorage",{name:t.name,options:t.options})),t}}function Bu(n){return new dV({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=dt(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,l=r[r.length-1],u=r[0];let d=t.to;if(l){const p=u.search(/\S/),m=t.from+u.indexOf(l),v=m+l.length;if(mA(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(_=>_===n.type&&_!==S.mark.type)).filter(S=>S.to>m).length)return null;v<t.to&&o.delete(v,t.to),m>t.from&&o.delete(t.from+p,m),d=t.from+p+l.length,o.addMark(t.from+p,d,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function U8(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vA={exports:{}},DS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function G8(){if(ZT)return DS;ZT=1;var n=Ze;function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function l(m,v){var w=v(),S=r({inst:{value:w,getSnapshot:v}}),C=S[0].inst,_=S[1];return s(function(){C.value=w,C.getSnapshot=v,u(C)&&_({inst:C})},[m,w,v]),i(function(){return u(C)&&_({inst:C}),m(function(){u(C)&&_({inst:C})})},[m]),o(w),w}function u(m){var v=m.getSnapshot;m=m.value;try{var w=v();return!t(m,w)}catch{return!0}}function d(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return DS.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,DS}vA.exports=G8();var mC=vA.exports;const X8=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},Y8=({contentComponent:n})=>{const e=mC.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return Ze.createElement(Ze.Fragment,null,Object.values(e))};function K8(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:Jp.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class q8 extends Ze.Component{constructor(e){var t;super(e),this.editorContentRef=Ze.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=K8(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return Ze.createElement(Ze.Fragment,null,Ze.createElement("div",{ref:X8(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Ze.createElement(Y8,{contentComponent:e.contentComponent}))}}const J8=I.forwardRef((n,e)=>{const t=Ze.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Ze.createElement(q8,{key:t,innerRef:e,...n})}),Q8=Ze.memo(J8);var Z8=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t},eU=U8(Z8),xA={exports:{}},IS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function tU(){if(eE)return IS;eE=1;var n=Ze,e=mC;function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,o=n.useEffect,l=n.useMemo,u=n.useDebugValue;return IS.useSyncExternalStoreWithSelector=function(d,p,m,v,w){var S=s(null);if(S.current===null){var C={hasValue:!1,value:null};S.current=C}else C=S.current;S=l(function(){function E(j){if(!P){if(P=!0,M=j,j=v(j),w!==void 0&&C.hasValue){var $=C.value;if(w($,j))return F=$}return F=j}if($=F,r(M,j))return $;var W=v(j);return w!==void 0&&w($,W)?$:(M=j,F=W)}var P=!1,M,F,L=m===void 0?null:m;return[function(){return E(p())},L===null?void 0:function(){return E(L())}]},[p,m,v,w]);var _=i(d,S[0],S[1]);return o(function(){C.hasValue=!0,C.value=_},[_]),u(_),_},IS}xA.exports=tU();var nU=xA.exports;const rU=typeof window<"u"?I.useLayoutEffect:I.useEffect;class iU{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function sU(n){var e;const[t]=I.useState(()=>new iU(n.editor)),r=nU.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:eU);return rU(()=>t.watch(n.editor),[n.editor,t]),I.useDebugValue(r),r}const oU=!1,Uw=typeof window>"u",aU=Uw||!!(typeof window<"u"&&window.next);class lU{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Uw||aU?null:this.createEditor();if(this.options.current.immediatelyRender&&Uw&&oU)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new V8(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function cU(n={},e=[]){const t=I.useRef(n);t.current=n;const[r]=I.useState(()=>new lU(t)),i=mC.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return I.useDebugValue(i),I.useEffect(r.onRender(e)),sU({editor:i,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&s===0?0:s+1}),i}const uU=I.createContext({editor:null});uU.Consumer;const hU=I.createContext({onDragStart:void 0}),dU=()=>I.useContext(hU);Ze.forwardRef((n,e)=>{const{onDragStart:t}=dU(),r=n.as||"div";return Ze.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const fU=/^\s*>\s$/,pU=Hr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[jg({find:fU,type:this.type})]}}),gU=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,mU=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,yU=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,vU=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,xU=Zo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Fu({find:gU,type:this.type}),Fu({find:yU,type:this.type})]},addPasteRules(){return[Bu({find:mU,type:this.type}),Bu({find:vU,type:this.type})]}}),SU="listItem",tE="textStyle",nE=/^\s*([-+*])\s$/,wU=Hr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(SU,this.editor.getAttributes(tE)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=jg({find:nE,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=jg({find:nE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(tE),editor:this.editor})),[n]}}),bU=new RegExp("(?<!`)`([^`]+)`(?!`)"),CU=new RegExp("(?<!`)`([^`]+)`(?!`)","g"),_U=Zo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Fu({find:bU,type:this.type})]},addPasteRules(){return[Bu({find:CU,type:this.type})]}}),kU=/^```([a-z]+)?[\s\n]$/,TU=/^~~~([a-z]+)?[\s\n]$/,EU=Hr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",Vn(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:n.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?n.commands.command(({tr:d})=>(d.setSelection(ct.near(r.resolve(l))),!0)):n.commands.exitCode()}}},addInputRules(){return[Vw({find:kU,type:this.type,getAttributes:n=>({language:n[1]})}),Vw({find:TU,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Ni({key:new ra("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:o,schema:l}=n.state,u=l.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},u)),o.selection.$from.parent.type!==this.type&&o.setSelection(nt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),OU=Hr.create({name:"doc",topNode:!0,content:"block+"});function MU(n={}){return new Ni({view(e){return new AU(e,n)}})}class AU{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let l=e.nodeBefore,u=e.nodeAfter;if(l||u){let d=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(d){let p=d.getBoundingClientRect(),m=l?p.bottom:p.top;l&&u&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:p.left,right:p.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let l=i.getBoundingClientRect();s=l.left-i.scrollLeft,o=l.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=f2(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const PU=_r.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[MU(this.options)]}});class vn extends ct{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return vn.valid(r)?new vn(r):ct.near(r)}content(){return Re.empty}eq(e){return e instanceof vn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new vn(e.resolve(t.pos))}getBookmark(){return new yC(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!RU(e)||!DU(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&vn.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(t>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let u=e.doc.resolve(i);if(vn.valid(u))return u}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Ke.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let l=e.doc.resolve(i);if(vn.valid(l))return l}return null}}}vn.prototype.visible=!1;vn.findFrom=vn.findGapCursorFrom;ct.jsonID("gapcursor",vn);class yC{constructor(e){this.pos=e}map(e){return new yC(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return vn.valid(t)?new vn(t):ct.near(t)}}function RU(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function DU(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function IU(){return new Ni({props:{decorations:BU,createSelectionBetween(n,e,t){return e.pos==t.pos&&vn.valid(t)?new vn(t):null},handleClick:LU,handleKeyDown:NU,handleDOMEvents:{beforeinput:FU}}})}const NU=eA({ArrowLeft:ky("horiz",-1),ArrowRight:ky("horiz",1),ArrowUp:ky("vert",-1),ArrowDown:ky("vert",1)});function ky(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,l=e>0?o.$to:o.$from,u=o.empty;if(o instanceof nt){if(!s.endOfTextblock(t)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let d=vn.findGapCursorFrom(l,e,u);return d?(i&&i(r.tr.setSelection(new vn(d))),!0):!1}}function LU(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!vn.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Ke.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new vn(r))),!0)}function FU(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof vn))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=be.empty;for(let o=r.length-1;o>=0;o--)i=be.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new Re(i,0,0));return s.setSelection(nt.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function BU(n){if(!(n.selection instanceof vn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",$n.create(n.doc,[Es.widget(n.selection.head,e,{key:"gapcursor"})])}const jU=_r.create({name:"gapCursor",addProseMirrorPlugins(){return[IU()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=dt(Be(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),zU=Hr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Vn(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:p})=>{if(p&&u&&o){const m=u.filter(v=>l.includes(v.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),$U=Hr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Vn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Vw({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Ov=200,ir=function(){};ir.prototype.append=function(e){return e.length?(e=ir.from(e),!this.length&&e||e.length<Ov&&this.leafAppend(e)||this.length<Ov&&e.leafPrepend(this)||this.appendInner(e)):this};ir.prototype.prepend=function(e){return e.length?ir.from(e).append(this):this};ir.prototype.appendInner=function(e){return new WU(this,e)};ir.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?ir.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};ir.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ir.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};ir.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};ir.from=function(e){return e instanceof ir?e:e&&e.length?new SA(e):ir.empty};var SA=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,l){for(var u=s;u<o;u++)if(i(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,l){for(var u=s-1;u>=o;u--)if(i(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ov)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ov)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(ir);ir.empty=new SA([]);var WU=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(ir);const HU=500;class no{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,l,u,d=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),s=i.maps.length),s--,p.push(m);return}if(i){p.push(new $o(m.map));let w=m.step.map(i.slice(s)),S;w&&o.maybeStep(w).doc&&(S=o.mapping.maps[o.mapping.maps.length-1],d.push(new $o(S,void 0,void 0,d.length+p.length))),s--,S&&i.appendMap(S,s)}else o.maybeStep(m.step);if(m.selection)return l=i?m.selection.map(i.slice(s)):m.selection,u=new no(this.items.slice(0,r).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:o,selection:l}}addTransform(e,t,r,i){let s=[],o=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),v=new $o(e.mapping.maps[p],m,t),w;(w=u&&u.merge(v))&&(v=w,p?s.pop():l=l.slice(0,l.length-1)),s.push(v),t&&(o++,t=void 0),i||(u=v)}let d=o-r.depth;return d>UU&&(l=VU(l,d),o-=d),new no(l.append(s),o)}remapping(e,t){let r=new jd;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new no(this.items.append(e.map(t=>new $o(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(v=>{v.selection&&l--},i);let u=t;this.items.forEach(v=>{let w=s.getMirror(--u);if(w==null)return;o=Math.min(o,w);let S=s.maps[w];if(v.step){let C=e.steps[w].invert(e.docs[w]),_=v.selection&&v.selection.map(s.slice(u+1,w));_&&l++,r.push(new $o(S,C,_))}else r.push(new $o(S))},i);let d=[];for(let v=t;v<o;v++)d.push(new $o(s.maps[v]));let p=this.items.slice(0,i).append(d).append(r),m=new no(p,l);return m.emptyItemCount()>HU&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&s++;else if(o.step){let u=o.step.map(t.slice(r)),d=u&&u.getMap();if(r--,d&&t.appendMap(d,r),u){let p=o.selection&&o.selection.map(t.slice(r));p&&s++;let m=new $o(d.invert(),u,p),v,w=i.length-1;(v=i.length&&i[w].merge(m))?i[w]=v:i.push(m)}}else o.map&&r--},this.items.length,0),new no(ir.from(i.reverse()),s)}}no.empty=new no(ir.empty,0);function VU(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class $o{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new $o(t.getMap().invert(),t,this.selection)}}}class Ul{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const UU=20;function GU(n,e,t,r){let i=t.getMeta(Mu),s;if(i)return i.historyState;t.getMeta(KU)&&(n=new Ul(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(Mu))return o.getMeta(Mu).redo?new Ul(n.done.addTransform(t,void 0,r,Vy(e)),n.undone,rE(t.mapping.maps),n.prevTime,n.prevComposition):new Ul(n.done,n.undone.addTransform(t,void 0,r,Vy(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=t.getMeta("composition"),u=n.prevTime==0||!o&&n.prevComposition!=l&&(n.prevTime<(t.time||0)-r.newGroupDelay||!XU(t,n.prevRanges)),d=o?NS(n.prevRanges,t.mapping):rE(t.mapping.maps);return new Ul(n.done.addTransform(t,u?e.selection.getBookmark():void 0,r,Vy(e)),no.empty,d,t.time,l??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Ul(n.done.rebased(t,s),n.undone.rebased(t,s),NS(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Ul(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),NS(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function XU(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function rE(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,o)=>e.push(s,o));return e}function NS(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function YU(n,e,t){let r=Vy(e),i=Mu.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),u=new Ul(t?l:s.remaining,t?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(Mu,{redo:t,historyState:u})}let LS=!1,iE=null;function Vy(n){let e=n.plugins;if(iE!=e){LS=!1,iE=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){LS=!0;break}}return LS}const Mu=new ra("history"),KU=new ra("closeHistory");function qU(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Ni({key:Mu,state:{init(){return new Ul(no.empty,no.empty,null,0,-1)},apply(e,t,r){return GU(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?bA:r=="historyRedo"?CA:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function wA(n,e){return(t,r)=>{let i=Mu.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=YU(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const bA=wA(!1,!0),CA=wA(!0,!0),JU=_r.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>bA(n,e),redo:()=>({state:n,dispatch:e})=>CA(n,e)}},addProseMirrorPlugins(){return[qU(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),QU=Hr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Vn(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:i}=t,s=n();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):p8(t)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:l})=>{var u;if(l){const{$to:d}=o.selection,p=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?o.setSelection(nt.create(o.doc,d.pos+1)):d.nodeAfter.isBlock?o.setSelection(Ke.create(o.doc,d.pos)):o.setSelection(nt.create(o.doc,d.pos));else{const m=(u=d.parent.type.contentMatch.defaultType)===null||u===void 0?void 0:u.create();m&&(o.insert(p,m),o.setSelection(nt.create(o.doc,p+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[yA({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),ZU=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,e9=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,t9=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,n9=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,r9=Zo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Fu({find:ZU,type:this.type}),Fu({find:t9,type:this.type})]},addPasteRules(){return[Bu({find:e9,type:this.type}),Bu({find:n9,type:this.type})]}}),i9=Hr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Vn(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),s9="listItem",sE="textStyle",oE=/^(\d+)\.\s$/,o9=Hr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",Vn(this.options.HTMLAttributes,t),0]:["ol",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(s9,this.editor.getAttributes(sE)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=jg({find:oE,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=jg({find:oE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(sE)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),a9=Hr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),l9=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,c9=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,u9=Zo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Fu({find:l9,type:this.type})]},addPasteRules(){return[Bu({find:c9,type:this.type})]}}),h9=Hr.create({name:"text",group:"inline"}),d9=_r.create({name:"starterKit",addExtensions(){var n,e,t,r,i,s,o,l,u,d,p,m,v,w,S,C,_,E;const P=[];return this.options.bold!==!1&&P.push(xU.configure((n=this.options)===null||n===void 0?void 0:n.bold)),this.options.blockquote!==!1&&P.push(pU.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&P.push(wU.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&P.push(_U.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&P.push(EU.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&P.push(OU.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&P.push(PU.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&P.push(jU.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&P.push(zU.configure((u=this.options)===null||u===void 0?void 0:u.hardBreak)),this.options.heading!==!1&&P.push($U.configure((d=this.options)===null||d===void 0?void 0:d.heading)),this.options.history!==!1&&P.push(JU.configure((p=this.options)===null||p===void 0?void 0:p.history)),this.options.horizontalRule!==!1&&P.push(QU.configure((m=this.options)===null||m===void 0?void 0:m.horizontalRule)),this.options.italic!==!1&&P.push(r9.configure((v=this.options)===null||v===void 0?void 0:v.italic)),this.options.listItem!==!1&&P.push(i9.configure((w=this.options)===null||w===void 0?void 0:w.listItem)),this.options.orderedList!==!1&&P.push(o9.configure((S=this.options)===null||S===void 0?void 0:S.orderedList)),this.options.paragraph!==!1&&P.push(a9.configure((C=this.options)===null||C===void 0?void 0:C.paragraph)),this.options.strike!==!1&&P.push(u9.configure((_=this.options)===null||_===void 0?void 0:_.strike)),this.options.text!==!1&&P.push(h9.configure((E=this.options)===null||E===void 0?void 0:E.text)),P}}),f9=_r.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${n.textAlign}`}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),p9=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,g9=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,m9=Zo.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:n=>n.getAttribute("data-color")||n.style.backgroundColor,renderHTML:n=>n.color?{"data-color":n.color,style:`background-color: ${n.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:n}){return["mark",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setHighlight:n=>({commands:e})=>e.setMark(this.name,n),toggleHighlight:n=>({commands:e})=>e.toggleMark(this.name,n),unsetHighlight:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Fu({find:p9,type:this.type})]},addPasteRules(){return[Bu({find:g9,type:this.type})]}}),y9=Zo.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:e})=>{const t=fC(n,this.type);return Object.entries(t).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),v9=_r.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;return(e=n.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),x9=({editor:n})=>{if(!n)return null;const e=()=>{n==null||n.chain().focus().insertContent('<div data-shape type="rectangle"></div>').run()},t=()=>{n==null||n.chain().focus().insertContent('<div data-shape type="circle"></div>').run()};return te.jsxs("div",{className:"menu-bar",children:[te.jsx("button",{onClick:()=>n.chain().focus().toggleHeading({level:1}).run(),className:n.isActive("heading",{level:1})?"is-active":"",children:"H1"}),te.jsx("button",{onClick:()=>n.chain().focus().toggleHeading({level:2}).run(),className:n.isActive("heading",{level:2})?"is-active":"",children:"H2"}),te.jsx("button",{onClick:()=>n.chain().focus().toggleHeading({level:3}).run(),className:n.isActive("heading",{level:3})?"is-active":"",children:"H3"}),te.jsx("button",{onClick:()=>n.chain().focus().setParagraph().run(),className:n.isActive("paragraph")?"is-active":"",children:"Paragraph"}),te.jsx("button",{onClick:()=>n.chain().focus().toggleBold().run(),className:n.isActive("bold")?"is-active":"",children:"Bold"}),te.jsx("button",{onClick:()=>n.chain().focus().toggleItalic().run(),className:n.isActive("italic")?"is-active":"",children:"Italic"}),te.jsx("button",{onClick:()=>n.chain().focus().toggleStrike().run(),className:n.isActive("strike")?"is-active":"",children:"Strike"}),te.jsx("button",{onClick:()=>n.chain().focus().toggleHighlight().run(),className:n.isActive("highlight")?"is-active":"",children:"Highlight"}),te.jsx("button",{onClick:()=>n.chain().focus().setTextAlign("left").run(),className:n.isActive({textAlign:"left"})?"is-active":"",children:"Align Left"}),te.jsx("button",{onClick:()=>n.chain().focus().setTextAlign("center").run(),className:n.isActive({textAlign:"center"})?"is-active":"",children:"Align Center"}),te.jsx("button",{onClick:()=>n.chain().focus().setTextAlign("right").run(),className:n.isActive({textAlign:"right"})?"is-active":"",children:"Align Right"}),te.jsx("button",{onClick:()=>n.chain().focus().setColor("#FF5733").run(),style:{color:"#FF5733"},children:"Orange"}),te.jsx("button",{onClick:()=>n.chain().focus().setColor("#28B463").run(),style:{color:"#28B463"},children:"Green"}),te.jsx("button",{onClick:e,children:"Thêm Hình Chữ Nhật"}),te.jsx("button",{onClick:t,children:"Thêm Hình Tròn"})]})},S9=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,w9=Hr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",Vn(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[yA({find:S9,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),b9=Hr.create({name:"shape",draggable:!0,group:"block",addAttributes(){return{type:{default:"rectangle"}}},parseHTML(){return[{tag:"div[data-shape]"}]},renderHTML({HTMLAttributes:n}){const e=n.type==="circle"?"width: 100px; height: 100px; border-radius: 50%; background: #C754A8;":"width: 150px; height: 100px; background: #C754A8;";return["div",Vn({"data-shape":"",style:e}),""]}}),C9=()=>{const e=cU({extensions:[d9,f9.configure({types:["heading","paragraph"]}),m9,v9,y9,w9,b9],content:`<h3 style="text-align:center">
          Devs Just Want to Have Fun by Cyndi Lauper
        </h3>
        <p style="text-align:center">
          I come home in the morning light<br>
          My mother says, <mark>“When you gonna live your life right?”</mark><br>
          Oh mother dear we’re not the fortunate ones<br>
          And devs, they wanna have fun<br>
          Oh devs just want to have fun</p>
        <p style="text-align:center">
          The phone rings in the middle of the night<br>
          My father yells, "What you gonna do with your life?"<br>
          Oh daddy dear, you know you’re still number one<br>
          But <s>girls</s>devs, they wanna have fun<br>
          Oh devs just want to have
        </p>
        <p style="text-align:center">
          That’s all they really want<br>
          Some fun<br>
          When the working day is done<br>
          Oh devs, they wanna have fun<br>
          Oh devs just wanna have fun<br>
          (devs, they wanna, wanna have fun, devs wanna have)
        </p>`});return e?te.jsxs("div",{children:[te.jsx("h1",{className:"text-center text-3xl m-3",children:"PDF Editor"}),te.jsx(x9,{editor:e}),te.jsx("div",{className:"editor-content",children:te.jsx(Q8,{editor:e})})]}):te.jsx("div",{children:"Loading Editor..."})},_9=(n,e,t,r)=>Qg.post("/account/signup/",{email:n,username:e,password1:t,password2:r});function k9(){let n=Av();const[e,t]=I.useState(""),[r,i]=I.useState(""),[s,o]=I.useState(""),[l,u]=I.useState(""),[d,p]=I.useState(!1),[m,v]=I.useState(""),[w,S]=I.useState(""),[C,_]=I.useState(""),[E,P]=I.useState(""),[M,F]=I.useState(""),L=async()=>{let j=await _9(e,r,s,l);console.log("check res signup: ",j);let $=j.errors;j.success===!0?(Lt.success(j.message),t(""),i(""),o(""),u(""),n("/login")):(Lt.error(j.message),p(!0),v(($==null?void 0:$.email)||""),_(($==null?void 0:$.username)||""),S(($==null?void 0:$.__all__)||""),P(($==null?void 0:$.password1)||""),F(($==null?void 0:$.password2)||""))};return te.jsx("div",{className:"w-full border border-gray-300 rounded-lg p-6 max-w-md shadow-[0_2px_22px_-4px_rgba(93,96,127,0.2)] max-md:mx-auto",children:te.jsxs("form",{className:"space-y-4",children:[te.jsxs("div",{className:"mb-8",children:[te.jsx("h3",{className:"text-gray-800 text-3xl font-extrabold",children:"Sign up"}),te.jsx("p",{className:"text-gray-500 text-sm mt-4 leading-relaxed",children:"Nếu bạn chưa có tài khoản, hãy tạo tài khoản tại đây"})]}),te.jsx("div",{className:"relative flex items-center",children:te.jsx(Pd,{label:"Email address",error:d,value:e,helperText:m,onChange:j=>t(j.target.value),type:"text",style:{width:"100%"}})}),te.jsx("div",{className:"relative flex items-center",children:te.jsx(Pd,{label:"User name",error:d,value:r,helperText:C,onChange:j=>i(j.target.value),type:"text",style:{width:"100%"}})}),te.jsx("div",{className:"relative flex items-center",children:te.jsx(Pd,{label:"Password",error:d,value:s,helperText:w||E,onChange:j=>o(j.target.value),type:"password",style:{width:"100%"}})}),te.jsx("div",{className:"relative flex items-center",children:te.jsx(Pd,{label:"Confirm password",value:l,error:d,helperText:w||M,onChange:j=>u(j.target.value),type:"password",style:{width:"100%"}})}),te.jsx("div",{className:"mt-8 flex flex-col justify-center",children:te.jsx(kO,{fontWeight:"600",onClick:()=>L(),children:"Đăng ký"})}),te.jsxs("p",{className:"text-sm mt-8 text-center text-gray-800",children:["Đã có tài khoản ?",te.jsx(Rv,{to:"/login",style:{color:Qs.MEDIUM},className:" font-semibold hover:underline ml-1 whitespace-nowrap",children:"Đăng nhập tại đây"})]})]})})}const T9=()=>{let n=el();return console.log("pathname :",n.pathname),te.jsx("div",{className:"font-[sans-serif]",children:te.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center py-6 px-4",children:te.jsxs("div",{className:"grid md:grid-cols-2 items-center gap-4 max-w-6xl w-full place-items-center",children:[te.jsx(k9,{}),te.jsx("div",{className:"lg:h-[400px] md:h-[300px] max-md:mt-8",children:te.jsx("img",{src:_O,className:"w-full h-full max-md:w-4/5 mx-auto block object-cover",alt:"Dining Experience"})})]})})})},E9=()=>te.jsx(vI,{children:te.jsxs(YD,{children:[te.jsx(bd,{path:"/",element:te.jsx(GD,{to:"/login"})}),te.jsx(bd,{path:"/addShape",element:te.jsx(gF,{})}),te.jsx(bd,{path:"/login",element:te.jsx(X$,{})}),te.jsx(bd,{path:"/signup",element:te.jsx(T9,{})}),te.jsx(bd,{path:"/editPage",element:te.jsx(C9,{})})]})}),O9=()=>te.jsx(te.Fragment,{children:te.jsx(H$,{position:"top-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})});function M9(){return I.useState(null),te.jsxs("div",{className:"App",children:[te.jsx(E9,{}),te.jsx(O9,{})]})}rD.createRoot(document.getElementById("root")).render(te.jsx(I.StrictMode,{children:te.jsx(M9,{})}));
